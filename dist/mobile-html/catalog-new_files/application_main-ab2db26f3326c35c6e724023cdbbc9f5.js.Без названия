function is_touch_device(){return"ontouchstart"in window||navigator.maxTouchPoints}function drawImage(e){if(!e.canvas)throw"A canvas is required";if(!e.image)throw"Image is required";var t=e.canvas,i=t.getContext("2d"),o=e.image,r=e.srcx||0,n=e.srcy||0,s=e.srcw||o.naturalWidth,a=e.srch||o.naturalHeight,l=e.desx||r,c=e.desy||n,u=e.desw||s,d=e.desh||a,h=e.auto,f=window.devicePixelRatio||1,p=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1,m=f/p;if("undefined"==typeof h&&(h=!0),h&&f!==p){var g=t.width,v=t.height;t.width=g*m,t.height=v*m,t.style.width=g+"px",t.style.height=v+"px",i.scale(m,m)}i.drawImage(o,r,n,s,a,l,c,u,d)}!function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var i,o=e(document);e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(t){var i=e('meta[name="csrf-token"]').attr("content");i&&t.setRequestHeader("X-CSRF-Token",i)},refreshCSRFTokens:function(){var t=e("meta[name=csrf-token]").attr("content"),i=e("meta[name=csrf-param]").attr("content");e('form input[name="'+i+'"]').val(t)},fire:function(t,i,o){var r=e.Event(i);return t.trigger(r,o),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},handleRemote:function(o){var r,n,s,a,l,c;if(i.fire(o,"ajax:before")){if(a=o.data("with-credentials")||null,l=o.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,o.is("form")){r=o.attr("method"),n=o.attr("action"),s=o.serializeArray();var u=o.data("ujs:submit-button");u&&(s.push(u),o.data("ujs:submit-button",null))}else o.is(i.inputChangeSelector)?(r=o.data("method"),n=o.data("url"),s=o.serialize(),o.data("params")&&(s=s+"&"+o.data("params"))):o.is(i.buttonClickSelector)?(r=o.data("method")||"get",n=o.data("url"),s=o.serialize(),o.data("params")&&(s=s+"&"+o.data("params"))):(r=o.data("method"),n=i.href(o),s=o.data("params")||null);return c={type:r||"GET",data:s,dataType:l,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),!!i.fire(o,"ajax:beforeSend",[e,r])&&void o.trigger("ajax:send",e)},success:function(e,t,i){o.trigger("ajax:success",[e,t,i])},complete:function(e,t){o.trigger("ajax:complete",[e,t])},error:function(e,t,i){o.trigger("ajax:error",[e,t,i])},crossDomain:i.isCrossDomain(n)},a&&(c.xhrFields={withCredentials:a}),n&&(c.url=n),i.ajax(c)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var i=document.createElement("a");try{return i.href=e,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||t.protocol+"//"+t.host==i.protocol+"//"+i.host)}catch(e){return!0}},handleMethod:function(o){var r=i.href(o),n=o.data("method"),s=o.attr("target"),a=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+n+'" type="hidden" />';l===t||a===t||i.isCrossDomain(r)||(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(t,i){return t.is("form")?e(t[0].elements).filter(i):t.find(i)},disableFormElements:function(t){i.formElements(t,i.disableSelector).each(function(){i.disableFormElement(e(this))})},disableFormElement:function(e){var i,o;i=e.is("button")?"html":"val",o=e.data("disable-with"),e.data("ujs:enable-with",e[i]()),o!==t&&e[i](o),e.prop("disabled",!0)},enableFormElements:function(t){i.formElements(t,i.enableSelector).each(function(){i.enableFormElement(e(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[t](e.data("ujs:enable-with")),e.prop("disabled",!1)},allowAction:function(e){var t,o=e.data("confirm"),r=!1;return!o||(i.fire(e,"confirm")&&(r=i.confirm(o),t=i.fire(e,"confirm:complete",[r])),r&&t)},blankInputs:function(t,i,o){var r,n,s=e(),a=i||"input,textarea",l=t.find(a);return l.each(function(){if(r=e(this),n=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!n==!o){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;s=s.add(r)}}),!!s.length&&s},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var o=e.data("disable-with");e.data("ujs:enable-with",e.html()),o!==t&&e.html(o),e.bind("click.railsDisable",function(e){return i.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},i.fire(o,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,o){e.crossDomain||i.CSRFProtection(o)}),o.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(e(this))}),o.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(e(this))}),o.delegate(i.linkClickSelector,"click.rails",function(o){var r=e(this),n=r.data("method"),s=r.data("params"),a=o.metaKey||o.ctrlKey;if(!i.allowAction(r))return i.stopEverything(o);if(!a&&r.is(i.linkDisableSelector)&&i.disableElement(r),r.data("remote")!==t){if(a&&(!n||"GET"===n)&&!s)return!0;var l=i.handleRemote(r);return l===!1?i.enableElement(r):l.error(function(){i.enableElement(r)}),!1}return r.data("method")?(i.handleMethod(r),!1):void 0}),o.delegate(i.buttonClickSelector,"click.rails",function(t){var o=e(this);if(!i.allowAction(o))return i.stopEverything(t);o.is(i.buttonDisableSelector)&&i.disableFormElement(o);var r=i.handleRemote(o);return r===!1?i.enableFormElement(o):r.error(function(){i.enableFormElement(o)}),!1}),o.delegate(i.inputChangeSelector,"change.rails",function(t){var o=e(this);return i.allowAction(o)?(i.handleRemote(o),!1):i.stopEverything(t)}),o.delegate(i.formSubmitSelector,"submit.rails",function(o){var r,n,s=e(this),a=s.data("remote")!==t;if(!i.allowAction(s))return i.stopEverything(o);if(s.attr("novalidate")==t&&(r=i.blankInputs(s,i.requiredInputSelector),r&&i.fire(s,"ajax:aborted:required",[r])))return i.stopEverything(o);if(a){if(n=i.nonBlankInputs(s,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(s)},13);var l=i.fire(s,"ajax:aborted:file",[n]);return l||setTimeout(function(){i.enableFormElements(s)},13),l}return i.handleRemote(s),!1}setTimeout(function(){i.disableFormElements(s)},13)}),o.delegate(i.formInputClickSelector,"click.rails",function(t){var o=e(this);if(!i.allowAction(o))return i.stopEverything(t);var r=o.attr("name"),n=r?{name:r,value:o.val()}:null;o.closest("form").data("ujs:submit-button",n)}),o.delegate(i.formSubmitSelector,"ajax:send.rails",function(t){this==t.target&&i.disableFormElements(e(this))}),o.delegate(i.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&i.enableFormElements(e(this))}),e(function(){i.refreshCSRFTokens()}))}(jQuery),function(){var e,t,i,o,r,n,s,a,l,c={}.hasOwnProperty,u=[].slice;l="undefined"!=typeof exports&&null!==exports?exports:this,i=function(e){this.message=e},i.prototype=new Error,a={prefix:"",default_url_options:{}},t={GROUP:1,CAT:2,SYMBOL:3,OR:4,STAR:5,LITERAL:6,SLASH:7,DOT:8},r="_options",e=!1,o=["anchor","trailing_slash","host","port","protocol"],n={default_serializer:function(e,t){var i,o,r,n,s,a,l;if(null==t&&(t=null),null==e)return"";if(!t&&"object"!==this.get_object_type(e))throw new Error("Url parameters should be a javascript hash");switch(l=[],this.get_object_type(e)){case"array":for(o=r=0,s=e.length;r<s;o=++r)i=e[o],l.push(this.default_serializer(i,t+"[]"));break;case"object":for(n in e)c.call(e,n)&&(a=e[n],null==a&&null!=t&&(a=""),null!=a&&(null!=t&&(n=t+"["+n+"]"),l.push(this.default_serializer(a,n))));break;default:null!=e&&l.push(encodeURIComponent(t.toString())+"="+encodeURIComponent(e.toString()))}return l.length?l.join("&"):""},custom_serializer:null,serialize:function(e){return null!=this.custom_serializer&&"function"===this.get_object_type(this.custom_serializer)?this.custom_serializer(e):this.default_serializer(e)},clean_path:function(e){var t;return e=e.split("://"),t=e.length-1,e[t]=e[t].replace(/\/+/g,"/"),e.join("://")},extract_options:function(e,t){var i,o;return i=t[t.length-1],t.length>e&&void 0===i||null!=i&&"object"===this.get_object_type(i)&&!this.looks_like_serialized_model(i)?(o=t.pop()||{},delete o[r],o):{}},looks_like_serialized_model:function(e){return!e[r]&&("id"in e||"to_param"in e)},path_identifier:function(e){var t;if(0===e)return"0";if(!e)return"";if(t=e,"object"===this.get_object_type(e)){if("to_param"in e){if(null==e.to_param)throw new i("Route parameter missing: to_param");t=e.to_param}else if("id"in e){if(null==e.id)throw new i("Route parameter missing: id");t=e.id}else t=e;"function"===this.get_object_type(t)&&(t=t.call(e))}return t.toString()},clone:function(e){var t,i,o;if(null==e||"object"!==this.get_object_type(e))return e;i=e.constructor();for(o in e)c.call(e,o)&&(t=e[o],i[o]=t);return i},merge:function(){var e,t;if(t=1<=arguments.length?u.call(arguments,0):[],e=function(e,t){return t(e),e},(null!=t?t.length:void 0)>0)return e({},function(e){var i,o,r,n,s,a;for(n=[],i=0,r=t.length;i<r;i++)a=t[i],n.push(function(){var t;t=[];for(o in a)s=a[o],t.push(e[o]=s);return t}());return n})},normalize_options:function(t,i,r,n){var s,l,u,d,h,f,p,m,g,v,w,b;if(h=this.extract_options(t.length,n),n.length>t.length)throw new Error("Too many parameters provided for path");w=e||n.length>i.length,p={};for(u in h)c.call(h,u)&&(w=!0,this.indexOf(t,u)>=0&&(p[u]=b));h=this.merge(a.default_url_options,r,h),m={},v={},m.url_parameters=v;for(u in h)c.call(h,u)&&(b=h[u],this.indexOf(o,u)>=0?m[u]=b:v[u]=b);for(g=w?t:i,s=0,l=0,d=g.length;l<d;l++)f=g[l],s<n.length&&(p.hasOwnProperty(f)||(v[f]=n[s],++s));return m},build_route:function(e,t,i,o,r,s){var a,l,c,u,d;return s=Array.prototype.slice.call(s),a=this.normalize_options(e,t,i,s),l=a.url_parameters,c=""+this.get_prefix()+this.visit(o,l),u=n.clean_path(c),a.trailing_slash===!0&&(u=u.replace(/(.*?)[\/]?$/,"$1/")),(d=this.serialize(l)).length&&(u+="?"+d),u+=a.anchor?"#"+a.anchor:"",r&&(u=this.route_url(a)+u),u},visit:function(e,o,r){var n,s,a,l,c,u;switch(null==r&&(r=!1),c=e[0],n=e[1],a=e[2],c){case t.GROUP:return this.visit(n,o,!0);case t.STAR:return this.visit_globbing(n,o,!0);case t.LITERAL:case t.SLASH:case t.DOT:return n;case t.CAT:return s=this.visit(n,o,r),l=this.visit(a,o,r),r&&(this.is_optional_node(n[0])&&!s||this.is_optional_node(a[0])&&!l)?"":""+s+l;case t.SYMBOL:if(u=o[n],null!=u)return delete o[n],this.path_identifier(u);if(r)return"";throw new i("Route parameter missing: "+n);default:throw new Error("Unknown Rails node type")}},is_optional_node:function(e){return this.indexOf([t.STAR,t.SYMBOL,t.CAT],e)>=0},build_path_spec:function(e,i){var o,r,n;switch(null==i&&(i=!1),n=e[0],o=e[1],r=e[2],n){case t.GROUP:return"("+this.build_path_spec(o)+")";case t.CAT:return""+this.build_path_spec(o)+this.build_path_spec(r);case t.STAR:return this.build_path_spec(o,!0);case t.SYMBOL:return i===!0?""+("*"===o[0]?"":"*")+o:":"+o;case t.SLASH:case t.DOT:case t.LITERAL:return o;default:throw new Error("Unknown Rails node type")}},visit_globbing:function(e,t,i){var o,r,n,s;return n=e[0],o=e[1],r=e[2],o.replace(/^\*/i,"")!==o&&(e[1]=o=o.replace(/^\*/i,"")),s=t[o],null==s?this.visit(e,t,i):(t[o]=function(){switch(this.get_object_type(s)){case"array":return s.join("/");default:return s}}.call(this),this.visit(e,t,i))},get_prefix:function(){var e;return e=a.prefix,""!==e&&(e=e.match("/$")?e:e+"/"),e},route:function(e,t,i,o){var r,s,a,l,c,u,d,h;for(h=[],l=[],r=0,s=e.length;r<s;r++)u=e[r],a=u[0],d=u[1],l.push(a),d&&h.push(a);return c=function(){return n.build_route(l,h,t,i,o,arguments)},c.required_params=h,c.toString=function(){return n.build_path_spec(i)},c},route_url:function(e){var t,i,o;return"string"==typeof e?e:(o=e.protocol||n.current_protocol(),t=e.host||window.location.hostname,i=e.port||(e.host?void 0:n.current_port()),i=i?":"+i:"",o+"://"+t+i)},has_location:function(){return"undefined"!=typeof window&&"undefined"!=typeof window.location},current_host:function(){return this.has_location()?window.location.hostname:null},current_protocol:function(){return this.has_location()&&""!==window.location.protocol?window.location.protocol.replace(/:$/,""):"http"},current_port:function(){return this.has_location()&&""!==window.location.port?window.location.port:""},_classToTypeCache:null,_classToType:function(){var e,t,i,o;if(null!=this._classToTypeCache)return this._classToTypeCache;for(this._classToTypeCache={},o="Boolean Number String Function Array Date RegExp Object Error".split(" "),e=0,t=o.length;e<t;e++)i=o[e],this._classToTypeCache["[object "+i+"]"]=i.toLowerCase();return this._classToTypeCache},get_object_type:function(e){return l.jQuery&&null!=l.jQuery.type?l.jQuery.type(e):null==e?""+e:"object"==typeof e||"function"==typeof e?this._classToType()[Object.prototype.toString.call(e)]||"object":typeof e},indexOf:function(e,t){return Array.prototype.indexOf?e.indexOf(t):this.indexOfImplementation(e,t)},indexOfImplementation:function(e,t){var i,o,r,n,s;for(s=-1,o=r=0,n=e.length;r<n;o=++r)i=e[o],i===t&&(s=o);return s}},s=function(){var e;return e=function(t,i){var o,r;if(r=i?i.split("."):[],r.length)return o=r.shift(),t[o]=t[o]||{},e(t[o],r.join("."))},e(l,"Routes"),l.Routes={favourite_dress_path:n.route([["dress_id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"favourites",!1],[2,[7,"/",!1],[2,[3,"dress_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]),favourites_path:n.route([["format",!1]],{},[2,[7,"/",!1],[2,[6,"favourites",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]),favourites_notification_path:n.route([["notification_id",!0],["format",!1]],{},[2,[7,"/",!1],[2,[6,"favourites",!1],[2,[7,"/",!1],[2,[6,"notifications",!1],[2,[7,"/",!1],[2,[3,"notification_id",!1],[1,[2,[8,".",!1],[3,"format",!1]],!1]]]]]]])},l.Routes.options=a,l.Routes.default_serializer=function(e,t){return n.default_serializer(e,t)},l.Routes},"function"==typeof define&&define.amd?define([],function(){return s()}):s()}.call(this),function(e){var t=/iPhone/i,i=/iPod/i,o=/iPad/i,r=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,n=/Android/i,s=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,a=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,l=/IEMobile/i,c=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,u=/BlackBerry/i,d=/BB10/i,h=/Opera Mini/i,f=/(CriOS|Chrome)(?=.*\bMobile\b)/i,p=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,m=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),g=function(e,t){return e.test(t)},v=function(e){var v=e||navigator.userAgent,w=v.split("[FBAN");if("undefined"!=typeof w[1]&&(v=w[0]),w=v.split("Twitter"),"undefined"!=typeof w[1]&&(v=w[0]),this.apple={phone:g(t,v),ipod:g(i,v),tablet:!g(t,v)&&g(o,v),device:g(t,v)||g(i,v)||g(o,v)},this.amazon={phone:g(s,v),tablet:!g(s,v)&&g(a,v),device:g(s,v)||g(a,v)},this.android={phone:g(s,v)||g(r,v),tablet:!g(s,v)&&!g(r,v)&&(g(a,v)||g(n,v)),device:g(s,v)||g(a,v)||g(r,v)||g(n,v)},this.windows={phone:g(l,v),tablet:g(c,v),device:g(l,v)||g(c,v)},this.other={blackberry:g(u,v),blackberry10:g(d,v),opera:g(h,v),firefox:g(p,v),chrome:g(f,v),device:g(u,v)||g(d,v)||g(h,v)||g(p,v)||g(f,v)},this.seven_inch=g(m,v),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},w=function(){var e=new v;return e.Class=v,e};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=v:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=w():"function"==typeof define&&define.amd?define("isMobile",[],e.isMobile=w()):e.isMobile=w()}(this),function(){var e;e=function(){function e(){window.criteo_q=window.criteo_q||[],this.account_id=window.criteo_account_id,this.siteType="d",window.isMobile.tablet?this.siteType="t":window.isMobile.any&&(this.siteType="m")}return e.prototype.viewHome=function(){return this.send({event:"viewHome"})},e.prototype.viewList=function(e){return this.send({event:"viewList",item:e})},e.prototype.viewItem=function(e){return this.send({event:"viewItem",item:e})},e.prototype.viewBasket=function(){return this.send({event:"viewBasket",item:[{id:1,price:1,quantity:1}]})},e.prototype.trackTransaction=function(e){return this.send({event:"trackTransaction",id:Math.round(1e8*Math.random()),item:[{id:e||1,price:1,quantity:1}]})},e.prototype.send=function(e){return window.criteo_q.push({event:"setAccount",account:this.account_id},{event:"setEmail",email:window.criteo_email||""},{event:"setSiteType",type:this.siteType},e)},e}(),window.criteo=new e}.call(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof module&&"object"==typeof module.exports?exports=e(require("jquery")):e(jQuery)}(function(e){e.easing.jswing=e.easing.swing,e.extend(e.easing,{def:"easeOutQuad",swing:function(t,i,o,r,n){return e.easing[e.easing.def](t,i,o,r,n)},easeInQuad:function(e,t,i,o,r){return o*(t/=r)*t+i},easeOutQuad:function(e,t,i,o,r){return-o*(t/=r)*(t-2)+i},easeInOutQuad:function(e,t,i,o,r){return(t/=r/2)<1?o/2*t*t+i:-o/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,o,r){return o*(t/=r)*t*t+i},easeOutCubic:function(e,t,i,o,r){return o*((t=t/r-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,o,r){return(t/=r/2)<1?o/2*t*t*t+i:o/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,o,r){return o*(t/=r)*t*t*t+i},easeOutQuart:function(e,t,i,o,r){return-o*((t=t/r-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,o,r){return(t/=r/2)<1?o/2*t*t*t*t+i:-o/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,o,r){return o*(t/=r)*t*t*t*t+i},easeOutQuint:function(e,t,i,o,r){return o*((t=t/r-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,o,r){return(t/=r/2)<1?o/2*t*t*t*t*t+i:o/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,o,r){return-o*Math.cos(t/r*(Math.PI/2))+o+i},easeOutSine:function(e,t,i,o,r){return o*Math.sin(t/r*(Math.PI/2))+i},easeInOutSine:function(e,t,i,o,r){return-o/2*(Math.cos(Math.PI*t/r)-1)+i},easeInExpo:function(e,t,i,o,r){return 0==t?i:o*Math.pow(2,10*(t/r-1))+i},easeOutExpo:function(e,t,i,o,r){return t==r?i+o:o*(-Math.pow(2,-10*t/r)+1)+i},easeInOutExpo:function(e,t,i,o,r){return 0==t?i:t==r?i+o:(t/=r/2)<1?o/2*Math.pow(2,10*(t-1))+i:o/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(e,t,i,o,r){return-o*(Math.sqrt(1-(t/=r)*t)-1)+i},easeOutCirc:function(e,t,i,o,r){return o*Math.sqrt(1-(t=t/r-1)*t)+i},easeInOutCirc:function(e,t,i,o,r){return(t/=r/2)<1?-o/2*(Math.sqrt(1-t*t)-1)+i:o/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,o,r){var n=1.70158,s=0,a=o;if(0==t)return i;if(1==(t/=r))return i+o;if(s||(s=.3*r),a<Math.abs(o)){a=o;var n=s/4}else var n=s/(2*Math.PI)*Math.asin(o/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*r-n)*(2*Math.PI)/s))+i},easeOutElastic:function(e,t,i,o,r){var n=1.70158,s=0,a=o;if(0==t)return i;if(1==(t/=r))return i+o;if(s||(s=.3*r),a<Math.abs(o)){a=o;var n=s/4}else var n=s/(2*Math.PI)*Math.asin(o/a);return a*Math.pow(2,-10*t)*Math.sin((t*r-n)*(2*Math.PI)/s)+o+i},easeInOutElastic:function(e,t,i,o,r){var n=1.70158,s=0,a=o;if(0==t)return i;if(2==(t/=r/2))return i+o;if(s||(s=r*(.3*1.5)),a<Math.abs(o)){a=o;var n=s/4}else var n=s/(2*Math.PI)*Math.asin(o/a);return t<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*r-n)*(2*Math.PI)/s))+i:a*Math.pow(2,-10*(t-=1))*Math.sin((t*r-n)*(2*Math.PI)/s)*.5+o+i},easeInBack:function(e,t,i,o,r,n){return void 0==n&&(n=1.70158),o*(t/=r)*t*((n+1)*t-n)+i},easeOutBack:function(e,t,i,o,r,n){return void 0==n&&(n=1.70158),o*((t=t/r-1)*t*((n+1)*t+n)+1)+i},easeInOutBack:function(e,t,i,o,r,n){return void 0==n&&(n=1.70158),(t/=r/2)<1?o/2*(t*t*(((n*=1.525)+1)*t-n))+i:o/2*((t-=2)*t*(((n*=1.525)+1)*t+n)+2)+i},easeInBounce:function(t,i,o,r,n){return r-e.easing.easeOutBounce(t,n-i,0,r,n)+o},easeOutBounce:function(e,t,i,o,r){return(t/=r)<1/2.75?o*(7.5625*t*t)+i:t<2/2.75?o*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?o*(7.5625*(t-=2.25/2.75)*t+.9375)+i:o*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(t,i,o,r,n){return i<n/2?.5*e.easing.easeInBounce(t,2*i,0,r,n)+o:.5*e.easing.easeOutBounce(t,2*i-n,0,r,n)+.5*r+o}})}),function(e){e.extend({debounce:function(e,t,i,o){3==arguments.length&&"boolean"!=typeof i&&(o=i,i=!1);var r;return function(){var n=arguments;o=o||this,i&&!r&&e.apply(o,n),clearTimeout(r),r=setTimeout(function(){!i&&e.apply(o,n),r=null},t)}},throttle:function(e,t,i){var o,r,n;return function(){r=arguments,n=!0,i=i||this,o||!function(){n?(e.apply(i,r),n=!1,o=setTimeout(arguments.callee,t)):o=null}()}}})}(jQuery),function(e,t){function i(){S=C=T=z=E=M=D}function o(e,t){for(key in t)t.hasOwnProperty(key)&&(e[key]=t[key])}function r(e){return parseFloat(e)||0}function n(){A={top:t.pageYOffset,left:t.pageXOffset}}function s(){return t.pageXOffset!=A.left?(n(),void T()):void(t.pageYOffset!=A.top&&(n(),l()))}function a(){setTimeout(function(){t.pageYOffset!=A.top&&(A.top=t.pageYOffset,l())},0)}function l(){for(var e=I.length-1;e>=0;e--)c(I[e])}function c(e){if(e.inited){var t=A.top<=e.limit.start?0:A.top>=e.limit.end?2:1;e.mode!=t&&m(e,t)}}function u(){for(var e=I.length-1;e>=0;e--)if(I[e].inited){var t=Math.abs(b(I[e].clone)-I[e].docOffsetTop),i=Math.abs(I[e].parent.node.offsetHeight-I[e].parent.height);if(t>=2||i>=2)return!1}return!0}function d(e){isNaN(parseFloat(e.computed.top))||e.isCell||(e.inited=!0,e.clone||g(e),"absolute"!=e.parent.computed.position&&"relative"!=e.parent.computed.position&&(e.parent.node.style.position="relative"),c(e),e.parent.height=e.parent.node.offsetHeight,e.docOffsetTop=b(e.clone))}function h(e){var t=!0;e.clone&&v(e),o(e.node.style,e.css);for(var i=I.length-1;i>=0;i--)if(I[i].node!==e.node&&I[i].parent.node===e.parent.node){t=!1;break}t&&(e.parent.node.style.position=e.parent.css.position),e.mode=-1}function f(){for(var e=I.length-1;e>=0;e--)d(I[e])}function p(){for(var e=I.length-1;e>=0;e--)h(I[e])}function m(e,t){var i=e.node.style;switch(t){case 0:i.position="absolute",i.left=e.offset.left+"px",i.right=e.offset.right+"px",i.top=e.offset.top+"px",i.bottom="auto",i.width="auto",i.marginLeft=0,i.marginRight=0,i.marginTop=0;break;case 1:i.position="fixed",i.left=e.box.left+"px",i.right=e.box.right+"px",i.top=e.css.top,i.bottom="auto",i.width="auto",i.marginLeft=0,i.marginRight=0,i.marginTop=0;break;case 2:i.position="absolute",i.left=e.offset.left+"px",i.right=e.offset.right+"px",i.top="auto",i.bottom=0,i.width="auto",i.marginLeft=0,i.marginRight=0}e.mode=t}function g(e){e.clone=document.createElement("div");var t=e.node.nextSibling||e.node,i=e.clone.style;i.height=e.height+"px",i.width=e.width+"px",i.marginTop=e.computed.marginTop,i.marginBottom=e.computed.marginBottom,i.marginLeft=e.computed.marginLeft,i.marginRight=e.computed.marginRight,i.padding=i.border=i.borderSpacing=0,i.fontSize="1em",i.position="static",i.cssFloat=e.computed.cssFloat,e.node.parentNode.insertBefore(e.clone,t)}function v(e){e.clone.parentNode.removeChild(e.clone),e.clone=void 0}function w(e){var t=getComputedStyle(e),i=e.parentNode,o=getComputedStyle(i),n=e.style.position;e.style.position="relative";var s={top:t.top,marginTop:t.marginTop,marginBottom:t.marginBottom,marginLeft:t.marginLeft,marginRight:t.marginRight,cssFloat:t.cssFloat},a={top:r(t.top),marginBottom:r(t.marginBottom),paddingLeft:r(t.paddingLeft),paddingRight:r(t.paddingRight),borderLeftWidth:r(t.borderLeftWidth),borderRightWidth:r(t.borderRightWidth)};e.style.position=n;var l={position:e.style.position,top:e.style.top,bottom:e.style.bottom,left:e.style.left,right:e.style.right,width:e.style.width,marginTop:e.style.marginTop,marginLeft:e.style.marginLeft,marginRight:e.style.marginRight},c=y(e),u=y(i),d={node:i,css:{position:i.style.position},computed:{position:o.position},numeric:{borderLeftWidth:r(o.borderLeftWidth),borderRightWidth:r(o.borderRightWidth),borderTopWidth:r(o.borderTopWidth),borderBottomWidth:r(o.borderBottomWidth)}},h={node:e,box:{left:c.win.left,right:R.clientWidth-c.win.right},offset:{top:c.win.top-u.win.top-d.numeric.borderTopWidth,left:c.win.left-u.win.left-d.numeric.borderLeftWidth,right:-c.win.right+u.win.right-d.numeric.borderRightWidth},css:l,isCell:"table-cell"==t.display,computed:s,numeric:a,width:c.win.right-c.win.left,height:c.win.bottom-c.win.top,mode:-1,inited:!1,parent:d,limit:{start:c.doc.top-a.top,end:u.doc.top+i.offsetHeight-d.numeric.borderBottomWidth-e.offsetHeight-a.top-a.marginBottom}};return h}function b(e){for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t}function y(e){var i=e.getBoundingClientRect();return{doc:{top:i.top+t.pageYOffset,left:i.left+t.pageXOffset},win:i}}function _(){O=setInterval(function(){!u()&&T()},500)}function x(){clearInterval(O)}function k(){P&&(document[F]?x():_())}function S(){P||(n(),f(),t.addEventListener("scroll",s),t.addEventListener("wheel",a),t.addEventListener("resize",T),t.addEventListener("orientationchange",T),e.addEventListener(j,k),_(),P=!0)}function T(){if(P){p();for(var e=I.length-1;e>=0;e--)I[e]=w(I[e].node);f()}}function z(){t.removeEventListener("scroll",s),t.removeEventListener("wheel",a),t.removeEventListener("resize",T),t.removeEventListener("orientationchange",T),e.removeEventListener(j,k),x(),P=!1}function E(){z(),p()}function M(){for(E();I.length;)I.pop()}function C(e){for(var t=I.length-1;t>=0;t--)if(I[t].node===e)return;var i=w(e);I.push(i),P?d(i):S()}function L(e){for(var t=I.length-1;t>=0;t--)I[t].node===e&&(h(I[t]),I.splice(t,1))}var A,O,I=[],P=!1,R=e.documentElement,D=function(){},F="hidden",j="visibilitychange";void 0!==e.webkitHidden&&(F="webkitHidden",j="webkitvisibilitychange"),t.getComputedStyle||i();for(var B=["","-webkit-","-moz-","-ms-"],H=document.createElement("div"),Y=B.length-1;Y>=0;Y--){try{H.style.position=B[Y]+"sticky"}catch(e){}""!=H.style.position&&i()}n(),t.Stickyfill={stickies:I,add:C,remove:L,init:S,rebuild:T,pause:z,stop:E,kill:M}}(document,window),window.jQuery&&!function(e){e.fn.Stickyfill=function(){return this.each(function(){Stickyfill.add(this)}),this}}(window.jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var s=t||window.event,a=l.call(arguments,1),c=0,d=0,h=0,f=0,p=0,m=0;if(t=e.event.fix(s),t.type="mousewheel","detail"in s&&(h=s.detail*-1),"wheelDelta"in s&&(h=s.wheelDelta),"wheelDeltaY"in s&&(h=s.wheelDeltaY),"wheelDeltaX"in s&&(d=s.wheelDeltaX*-1),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(d=h*-1,h=0),c=0===h?d:h,"deltaY"in s&&(h=s.deltaY*-1,c=h),"deltaX"in s&&(d=s.deltaX,0===h&&(c=d*-1)),0!==h||0!==d){if(1===s.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,h*=g,d*=g}else if(2===s.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,h*=v,d*=v}if(f=Math.max(Math.abs(h),Math.abs(d)),(!n||f<n)&&(n=f,o(s,f)&&(n/=40)),o(s,f)&&(c/=40,d/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/n),d=Math[d>=1?"floor":"ceil"](d/n),h=Math[h>=1?"floor":"ceil"](h/n),u.settings.normalizeOffset&&this.getBoundingClientRect){var w=this.getBoundingClientRect();p=t.clientX-w.left,m=t.clientY-w.top}return t.deltaX=d,t.deltaY=h,t.deltaFactor=n,t.offsetX=p,t.offsetY=m,t.deltaMode=0,a.unshift(t,c,d,h),r&&clearTimeout(r),r=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function i(){n=null}function o(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var r,n,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=s.length;c;)e.event.fixHooks[s[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=a.length;i;)this.removeEventListener(a[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),o=i["offsetParent"in e.fn?"offsetParent":"parent"]();return o.length||(o=e("body")),parseInt(o.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){function t(t){var i=t||window.event,o=[].slice.call(arguments,1),r=0,n=0,s=0;return t=e.event.fix(i),t.type="mousewheel",i.wheelDelta&&(r=i.wheelDelta/120),i.detail&&(r=-i.detail/3),s=r,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(s=0,n=-1*r),void 0!==i.wheelDeltaY&&(s=i.wheelDeltaY/120),void 0!==i.wheelDeltaX&&(n=-1*i.wheelDeltaX/120),o.unshift(t,r,n,s),(e.event.dispatch||e.event.handle).apply(this,o)}var i=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var o=i.length;o;)e.event.fixHooks[i[--o]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(e){"use strict";function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=u),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var o=e(this),r=o.data(M);r||(r=new i(this,t),o.data(M,r))})}function i(t,i){function o(t){if(!(ce()||e(t.target).closest(i.excludedElements,qe).length>0)){var o=t.originalEvent?t.originalEvent:t;if(!o.pointerType||"mouse"!=o.pointerType||0!=i.fallbackToMouseEvents){var r,n=o.touches,s=n?n[0]:o;return $e=_,n?Ve=n.length:i.preventDefaultEvents!==!1&&t.preventDefault(),Re=0,De=null,Fe=null,Ne=null,je=0,Be=0,He=0,Ye=1,Xe=0,We=ge(),ae(),de(0,s),!n||Ve===i.fingers||i.fingers===b||N()?(Ke=Te(),2==Ve&&(de(1,n[1]),Be=He=be(Ue[0].start,Ue[1].start)),(i.swipeStatus||i.pinchStatus)&&(r=R(o,$e))):r=!1,r===!1?($e=S,R(o,$e),r):(i.hold&&(tt=setTimeout(e.proxy(function(){qe.trigger("hold",[o.target]),i.hold&&(r=i.hold.call(qe,o,o.target))},this),i.longTapThreshold)),ue(!0),null)}}}function C(e){var t=e.originalEvent?e.originalEvent:e;if($e!==k&&$e!==S&&!le()){var o,r=t.touches,n=r?r[0]:t,s=he(n);if(Ze=Te(),r&&(Ve=r.length),i.hold&&clearTimeout(tt),$e=x,2==Ve&&(0==Be?(de(1,r[1]),Be=He=be(Ue[0].start,Ue[1].start)):(he(r[1]),He=be(Ue[0].end,Ue[1].end),Ne=_e(Ue[0].end,Ue[1].end)),Ye=ye(Be,He),Xe=Math.abs(Be-He)),Ve===i.fingers||i.fingers===b||!r||N()){if(De=Se(s.start,s.end),Fe=Se(s.last,s.end),
Y(e,Fe),Re=xe(s.start,s.end),je=we(),pe(De,Re),o=R(t,$e),!i.triggerOnTouchEnd||i.triggerOnTouchLeave){var a=!0;if(i.triggerOnTouchLeave){var l=ze(this);a=Ee(s.end,l)}!i.triggerOnTouchEnd&&a?$e=P(x):i.triggerOnTouchLeave&&!a&&($e=P(k)),$e!=S&&$e!=k||R(t,$e)}}else $e=S,R(t,$e);o===!1&&($e=S,R(t,$e))}}function L(e){var t=e.originalEvent?e.originalEvent:e,o=t.touches;if(o){if(o.length&&!le())return se(t),!0;if(o.length&&le())return!0}return le()&&(Ve=Ge),Ze=Te(),je=we(),j()||!F()?($e=S,R(t,$e)):i.triggerOnTouchEnd||i.triggerOnTouchEnd===!1&&$e===x?(i.preventDefaultEvents!==!1&&e.preventDefault(),$e=k,R(t,$e)):!i.triggerOnTouchEnd&&Z()?($e=k,D(t,$e,p)):$e===x&&($e=S,R(t,$e)),ue(!1),null}function A(){Ve=0,Ze=0,Ke=0,Be=0,He=0,Ye=1,ae(),ue(!1)}function O(e){var t=e.originalEvent?e.originalEvent:e;i.triggerOnTouchLeave&&($e=P(k),R(t,$e))}function I(){qe.unbind(Le,o),qe.unbind(Pe,A),qe.unbind(Ae,C),qe.unbind(Oe,L),Ie&&qe.unbind(Ie,O),ue(!1)}function P(e){var t=e,o=H(),r=F(),n=j();return!o||n?t=S:!r||e!=x||i.triggerOnTouchEnd&&!i.triggerOnTouchLeave?!r&&e==k&&i.triggerOnTouchLeave&&(t=S):t=k,t}function R(e,t){var i,o=e.touches;return(V()||$())&&(i=D(e,t,h)),(W()||N())&&i!==!1&&(i=D(e,t,f)),re()&&i!==!1?i=D(e,t,m):ne()&&i!==!1?i=D(e,t,g):oe()&&i!==!1&&(i=D(e,t,p)),t===S&&A(e),t===k&&(o?o.length||A(e):A(e)),i}function D(t,o,u){var d;if(u==h){if(qe.trigger("swipeStatus",[o,De||null,Re||0,je||0,Ve,Ue,Fe]),i.swipeStatus&&(d=i.swipeStatus.call(qe,t,o,De||null,Re||0,je||0,Ve,Ue,Fe),d===!1))return!1;if(o==k&&q()){if(clearTimeout(et),clearTimeout(tt),qe.trigger("swipe",[De,Re,je,Ve,Ue,Fe]),i.swipe&&(d=i.swipe.call(qe,t,De,Re,je,Ve,Ue,Fe),d===!1))return!1;switch(De){case r:qe.trigger("swipeLeft",[De,Re,je,Ve,Ue,Fe]),i.swipeLeft&&(d=i.swipeLeft.call(qe,t,De,Re,je,Ve,Ue,Fe));break;case n:qe.trigger("swipeRight",[De,Re,je,Ve,Ue,Fe]),i.swipeRight&&(d=i.swipeRight.call(qe,t,De,Re,je,Ve,Ue,Fe));break;case s:qe.trigger("swipeUp",[De,Re,je,Ve,Ue,Fe]),i.swipeUp&&(d=i.swipeUp.call(qe,t,De,Re,je,Ve,Ue,Fe));break;case a:qe.trigger("swipeDown",[De,Re,je,Ve,Ue,Fe]),i.swipeDown&&(d=i.swipeDown.call(qe,t,De,Re,je,Ve,Ue,Fe))}}}if(u==f){if(qe.trigger("pinchStatus",[o,Ne||null,Xe||0,je||0,Ve,Ye,Ue]),i.pinchStatus&&(d=i.pinchStatus.call(qe,t,o,Ne||null,Xe||0,je||0,Ve,Ye,Ue),d===!1))return!1;if(o==k&&X())switch(Ne){case l:qe.trigger("pinchIn",[Ne||null,Xe||0,je||0,Ve,Ye,Ue]),i.pinchIn&&(d=i.pinchIn.call(qe,t,Ne||null,Xe||0,je||0,Ve,Ye,Ue));break;case c:qe.trigger("pinchOut",[Ne||null,Xe||0,je||0,Ve,Ye,Ue]),i.pinchOut&&(d=i.pinchOut.call(qe,t,Ne||null,Xe||0,je||0,Ve,Ye,Ue))}}return u==p?o!==S&&o!==k||(clearTimeout(et),clearTimeout(tt),Q()&&!ee()?(Je=Te(),et=setTimeout(e.proxy(function(){Je=null,qe.trigger("tap",[t.target]),i.tap&&(d=i.tap.call(qe,t,t.target))},this),i.doubleTapThreshold)):(Je=null,qe.trigger("tap",[t.target]),i.tap&&(d=i.tap.call(qe,t,t.target)))):u==m?o!==S&&o!==k||(clearTimeout(et),clearTimeout(tt),Je=null,qe.trigger("doubletap",[t.target]),i.doubleTap&&(d=i.doubleTap.call(qe,t,t.target))):u==g&&(o!==S&&o!==k||(clearTimeout(et),Je=null,qe.trigger("longtap",[t.target]),i.longTap&&(d=i.longTap.call(qe,t,t.target)))),d}function F(){var e=!0;return null!==i.threshold&&(e=Re>=i.threshold),e}function j(){var e=!1;return null!==i.cancelThreshold&&null!==De&&(e=me(De)-Re>=i.cancelThreshold),e}function B(){return null===i.pinchThreshold||Xe>=i.pinchThreshold}function H(){var e;return e=!i.maxTimeThreshold||!(je>=i.maxTimeThreshold)}function Y(e,t){if(i.preventDefaultEvents!==!1)if(i.allowPageScroll===u)e.preventDefault();else{var o=i.allowPageScroll===d;switch(t){case r:(i.swipeLeft&&o||!o&&i.allowPageScroll!=v)&&e.preventDefault();break;case n:(i.swipeRight&&o||!o&&i.allowPageScroll!=v)&&e.preventDefault();break;case s:(i.swipeUp&&o||!o&&i.allowPageScroll!=w)&&e.preventDefault();break;case a:(i.swipeDown&&o||!o&&i.allowPageScroll!=w)&&e.preventDefault();break;case u:}}}function X(){var e=U(),t=K(),i=B();return e&&t&&i}function N(){return!!(i.pinchStatus||i.pinchIn||i.pinchOut)}function W(){return!(!X()||!N())}function q(){var e=H(),t=F(),i=U(),o=K(),r=j(),n=!r&&o&&i&&t&&e;return n}function $(){return!!(i.swipe||i.swipeStatus||i.swipeLeft||i.swipeRight||i.swipeUp||i.swipeDown)}function V(){return!(!q()||!$())}function U(){return Ve===i.fingers||i.fingers===b||!T}function K(){return 0!==Ue[0].end.x}function Z(){return!!i.tap}function Q(){return!!i.doubleTap}function G(){return!!i.longTap}function J(){if(null==Je)return!1;var e=Te();return Q()&&e-Je<=i.doubleTapThreshold}function ee(){return J()}function te(){return(1===Ve||!T)&&(isNaN(Re)||Re<i.threshold)}function ie(){return je>i.longTapThreshold&&Re<y}function oe(){return!(!te()||!Z())}function re(){return!(!J()||!Q())}function ne(){return!(!ie()||!G())}function se(e){Qe=Te(),Ge=e.touches.length+1}function ae(){Qe=0,Ge=0}function le(){var e=!1;if(Qe){var t=Te()-Qe;t<=i.fingerReleaseThreshold&&(e=!0)}return e}function ce(){return!(qe.data(M+"_intouch")!==!0)}function ue(e){qe&&(e===!0?(qe.bind(Ae,C),qe.bind(Oe,L),Ie&&qe.bind(Ie,O)):(qe.unbind(Ae,C,!1),qe.unbind(Oe,L,!1),Ie&&qe.unbind(Ie,O,!1)),qe.data(M+"_intouch",e===!0))}function de(e,t){var i={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return i.start.x=i.last.x=i.end.x=t.pageX||t.clientX,i.start.y=i.last.y=i.end.y=t.pageY||t.clientY,Ue[e]=i,i}function he(e){var t=void 0!==e.identifier?e.identifier:0,i=fe(t);return null===i&&(i=de(t,e)),i.last.x=i.end.x,i.last.y=i.end.y,i.end.x=e.pageX||e.clientX,i.end.y=e.pageY||e.clientY,i}function fe(e){return Ue[e]||null}function pe(e,t){e!=u&&(t=Math.max(t,me(e)),We[e].distance=t)}function me(e){if(We[e])return We[e].distance}function ge(){var e={};return e[r]=ve(r),e[n]=ve(n),e[s]=ve(s),e[a]=ve(a),e}function ve(e){return{direction:e,distance:0}}function we(){return Ze-Ke}function be(e,t){var i=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y);return Math.round(Math.sqrt(i*i+o*o))}function ye(e,t){var i=t/e*1;return i.toFixed(2)}function _e(){return Ye<1?c:l}function xe(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function ke(e,t){var i=e.x-t.x,o=t.y-e.y,r=Math.atan2(o,i),n=Math.round(180*r/Math.PI);return n<0&&(n=360-Math.abs(n)),n}function Se(e,t){if(Me(e,t))return u;var i=ke(e,t);return i<=45&&i>=0?r:i<=360&&i>=315?r:i>=135&&i<=225?n:i>45&&i<135?a:s}function Te(){var e=new Date;return e.getTime()}function ze(t){t=e(t);var i=t.offset(),o={left:i.left,right:i.left+t.outerWidth(),top:i.top,bottom:i.top+t.outerHeight()};return o}function Ee(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}function Me(e,t){return e.x==t.x&&e.y==t.y}var i=e.extend({},i),Ce=T||E||!i.fallbackToMouseEvents,Le=Ce?E?z?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Ae=Ce?E?z?"MSPointerMove":"pointermove":"touchmove":"mousemove",Oe=Ce?E?z?"MSPointerUp":"pointerup":"touchend":"mouseup",Ie=Ce?E?"mouseleave":null:"mouseleave",Pe=E?z?"MSPointerCancel":"pointercancel":"touchcancel",Re=0,De=null,Fe=null,je=0,Be=0,He=0,Ye=1,Xe=0,Ne=0,We=null,qe=e(t),$e="start",Ve=0,Ue={},Ke=0,Ze=0,Qe=0,Ge=0,Je=0,et=null,tt=null;try{qe.bind(Le,o),qe.bind(Pe,A)}catch(t){e.error("events not supported "+Le+","+Pe+" on jQuery.swipe")}this.enable=function(){return this.disable(),qe.bind(Le,o),qe.bind(Pe,A),qe},this.disable=function(){return I(),qe},this.destroy=function(){I(),qe.data(M,null),qe=null},this.option=function(t,o){if("object"==typeof t)i=e.extend(i,t);else if(void 0!==i[t]){if(void 0===o)return i[t];i[t]=o}else{if(!t)return i;e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}var o="1.6.18",r="left",n="right",s="up",a="down",l="in",c="out",u="none",d="auto",h="swipe",f="pinch",p="tap",m="doubletap",g="longtap",v="horizontal",w="vertical",b="all",y=10,_="start",x="move",k="end",S="cancel",T="ontouchstart"in window,z=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!T,E=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!T,M="TouchSwipe",C={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};e.fn.swipe=function(i){var o=e(this),r=o.data(M);if(r&&"string"==typeof i){if(r[i])return r[i].apply(r,Array.prototype.slice.call(arguments,1));e.error("Method "+i+" does not exist on jQuery.swipe")}else if(r&&"object"==typeof i)r.option.apply(r,arguments);else if(!(r||"object"!=typeof i&&i))return t.apply(this,arguments);return o},e.fn.swipe.version=o,e.fn.swipe.defaults=C,e.fn.swipe.phases={PHASE_START:_,PHASE_MOVE:x,PHASE_END:k,PHASE_CANCEL:S},e.fn.swipe.directions={LEFT:r,RIGHT:n,UP:s,DOWN:a,IN:l,OUT:c},e.fn.swipe.pageScroll={NONE:u,HORIZONTAL:v,VERTICAL:w,AUTO:d},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:b}}),function(e){e.fn.touchwipe=function(t){var i={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:!0};return t&&e.extend(i,t),this.each(function(){function e(){this.removeEventListener("touchmove",t),r=null,s=!1}function t(t){if(i.preventDefaultEvents&&t.preventDefault(),s){var o=t.touches[0].pageX,a=t.touches[0].pageY,l=r-o,c=n-a;Math.abs(l)>=i.min_move_x?(e(),l>0?i.wipeLeft(l):i.wipeRight(l)):Math.abs(c)>=i.min_move_y&&(e(),c>0?i.wipeDown():i.wipeUp())}}function o(e){1==e.touches.length&&(r=e.touches[0].pageX,n=e.touches[0].pageY,s=!0,this.addEventListener("touchmove",t,!1))}var r,n,s=!1;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",o,!1)}),this}}(jQuery),function(){window.is_firefox=function(){return/firefox/i.test(navigator.userAgent)}}.call(this),function(){function e(e,t){var u,d=this;if(d.element="object"==typeof e?e:document.getElementById(e),d.wrapper=d.element.parentNode,d.element.style.webkitTransitionProperty="-webkit-transform",d.element.style.webkitTransitionTimingFunction="cubic-bezier(0,0,0.25,1)",d.element.style.webkitTransitionDuration="0",d.element.style.webkitTransform=l+"0,0"+c,d.options={bounce:i,momentum:i,checkDOMChanges:!0,topOnDOMChanges:!1,hScrollbar:i,vScrollbar:i,fadeScrollbar:o||!r,shrinkScrollbar:o||!r,desktopCompatibility:!1,overflow:"auto",snap:!1,bounceLock:!1,scrollbarColor:"rgba(0,0,0,0.5)",onScrollEnd:function(){}},"object"==typeof t)for(u in t)d.options[u]=t[u];d.options.desktopCompatibility&&(d.options.overflow="hidden"),d.onScrollEnd=d.options.onScrollEnd,delete d.options.onScrollEnd,d.wrapper.style.overflow=d.options.overflow,d.refresh(),window.addEventListener("onorientationchange"in window?"orientationchange":"resize",d,!1),(r||d.options.desktopCompatibility)&&(d.element.addEventListener(n,d,!1),d.element.addEventListener(s,d,!1),d.element.addEventListener(a,d,!1)),d.options.checkDOMChanges&&d.element.addEventListener("DOMSubtreeModified",d,!1)}function t(e,t,i,o,r){var n=this,s=document;n.dir=e,n.fade=i,n.shrink=o,n.uid=++u,n.bar=s.createElement("div"),n.bar.style.cssText="position:absolute;top:0;left:0;-webkit-transition-timing-function:cubic-bezier(0,0,0.25,1);pointer-events:none;-webkit-transition-duration:0;-webkit-transition-delay:0;-webkit-transition-property:-webkit-transform;z-index:10;background:"+r+";-webkit-transform:"+l+"0,0"+c+";"+("horizontal"==e?"-webkit-border-radius:3px 2px;min-width:6px;min-height:5px":"-webkit-border-radius:2px 3px;min-width:5px;min-height:6px"),n.wrapper=s.createElement("div"),n.wrapper.style.cssText="-webkit-mask:-webkit-canvas(scrollbar"+n.uid+n.dir+");position:absolute;z-index:10;pointer-events:none;overflow:hidden;opacity:0;-webkit-transition-duration:"+(i?"300ms":"0")+";-webkit-transition-delay:0;-webkit-transition-property:opacity;"+("horizontal"==n.dir?"bottom:2px;left:2px;right:7px;height:5px":"top:2px;right:2px;bottom:7px;width:5px;"),n.wrapper.appendChild(n.bar),t.appendChild(n.wrapper)}e.prototype={x:0,y:0,enabled:!0,handleEvent:function(e){var t=this;switch(e.type){case n:t.touchStart(e);break;case s:t.touchMove(e);break;case a:t.touchEnd(e);break;case"webkitTransitionEnd":t.transitionEnd();break;case"orientationchange":case"resize":t.refresh();break;case"DOMSubtreeModified":t.onDOMModified(e)}},onDOMModified:function(e){var t=this;e.target.parentNode==t.element&&(setTimeout(function(){t.refresh()},0),!t.options.topOnDOMChanges||0==t.x&&0==t.y||t.scrollTo(0,0,"0"))},refresh:function(){var e,i=this,o=i.x,r=i.y;i.scrollWidth=i.wrapper.clientWidth,i.scrollHeight=i.wrapper.clientHeight,i.scrollerWidth=i.element.offsetWidth,i.scrollerHeight=i.element.offsetHeight,i.maxScrollX=i.scrollWidth-i.scrollerWidth,i.maxScrollY=i.scrollHeight-i.scrollerHeight,i.directionX=0,i.directionY=0,i.scrollX&&(i.maxScrollX>=0?o=0:i.x<i.maxScrollX&&(o=i.maxScrollX)),i.scrollY&&(i.maxScrollY>=0?r=0:i.y<i.maxScrollY&&(r=i.maxScrollY)),i.options.snap&&(i.maxPageX=-Math.floor(i.maxScrollX/i.scrollWidth),i.maxPageY=-Math.floor(i.maxScrollY/i.scrollHeight),e=i.snap(o,r),o=e.x,r=e.y),o==i.x&&r==i.y||(i.setTransitionTime("0"),i.setPosition(o,r,!0)),i.scrollX=i.scrollerWidth>i.scrollWidth,i.scrollY=!i.options.bounceLock&&!i.scrollX||i.scrollerHeight>i.scrollHeight,i.options.hScrollbar&&i.scrollX?(i.scrollBarX=i.scrollBarX||new t("horizontal",i.wrapper,i.options.fadeScrollbar,i.options.shrinkScrollbar,i.options.scrollbarColor),i.scrollBarX.init(i.scrollWidth,i.scrollerWidth)):i.scrollBarX&&(i.scrollBarX=i.scrollBarX.remove()),i.options.vScrollbar&&i.scrollY&&i.scrollerHeight>i.scrollHeight?(i.scrollBarY=i.scrollBarY||new t("vertical",i.wrapper,i.options.fadeScrollbar,i.options.shrinkScrollbar,i.options.scrollbarColor),i.scrollBarY.init(i.scrollHeight,i.scrollerHeight)):i.scrollBarY&&(i.scrollBarY=i.scrollBarY.remove())},setPosition:function(e,t,i){var o=this;o.x=e,o.y=t,o.element.style.webkitTransform=l+o.x+"px,"+o.y+"px"+c,i||(o.scrollBarX&&o.scrollBarX.setPosition(o.x),o.scrollBarY&&o.scrollBarY.setPosition(o.y))},setTransitionTime:function(e){var t=this;e=e||"0",t.element.style.webkitTransitionDuration=e,t.scrollBarX&&(t.scrollBarX.bar.style.webkitTransitionDuration=e,t.scrollBarX.wrapper.style.webkitTransitionDuration=i&&t.options.fadeScrollbar?"300ms":"0"),t.scrollBarY&&(t.scrollBarY.bar.style.webkitTransitionDuration=e,t.scrollBarY.wrapper.style.webkitTransitionDuration=i&&t.options.fadeScrollbar?"300ms":"0")},touchStart:function(e){var t,i=this;i.enabled&&(e.preventDefault(),e.stopPropagation(),i.scrolling=!0,i.moved=!1,i.distX=0,i.distY=0,i.setTransitionTime("0"),(i.options.momentum||i.options.snap)&&(t=new WebKitCSSMatrix(window.getComputedStyle(i.element).webkitTransform),t.e==i.x&&t.f==i.y||(document.removeEventListener("webkitTransitionEnd",i,!1),i.setPosition(t.e,t.f),i.moved=!0)),i.touchStartX=r?e.changedTouches[0].pageX:e.pageX,i.scrollStartX=i.x,i.touchStartY=r?e.changedTouches[0].pageY:e.pageY,i.scrollStartY=i.y,i.scrollStartTime=e.timeStamp,i.directionX=0,i.directionY=0)},touchMove:function(e){if(this.scrolling){var t=this,i=r?e.changedTouches[0].pageX:e.pageX,o=r?e.changedTouches[0].pageY:e.pageY,n=t.scrollX?i-t.touchStartX:0,s=t.scrollY?o-t.touchStartY:0,a=t.x+n,l=t.y+s;e.stopPropagation(),t.touchStartX=i,t.touchStartY=o,(a>=0||a<t.maxScrollX)&&(a=t.options.bounce?Math.round(t.x+n/3):a>=0||t.maxScrollX>=0?0:t.maxScrollX),(l>=0||l<t.maxScrollY)&&(l=t.options.bounce?Math.round(t.y+s/3):l>=0||t.maxScrollY>=0?0:t.maxScrollY),t.distX+t.distY>5?(t.distX-3>t.distY?(l=t.y,s=0):t.distY-3>t.distX&&(a=t.x,n=0),t.setPosition(a,l),t.moved=!0,t.directionX=n>0?-1:1,t.directionY=s>0?-1:1):(t.distX+=Math.abs(n),t.distY+=Math.abs(s))}},touchEnd:function(e){if(this.scrolling){var t,i,o,n,s,a=this,l=e.timeStamp-a.scrollStartTime,c=r?e.changedTouches[0]:e,u=0,d=a.x,h=a.y;if(a.scrolling=!1,a.moved){if(!a.options.snap&&l>250)return void a.resetPosition();a.options.momentum&&(o=a.scrollX===!0?a.momentum(a.x-a.scrollStartX,l,a.options.bounce?-a.x+a.scrollWidth/5:-a.x,a.options.bounce?a.x+a.scrollerWidth-a.scrollWidth+a.scrollWidth/5:a.x+a.scrollerWidth-a.scrollWidth):{dist:0,time:0},n=a.scrollY===!0?a.momentum(a.y-a.scrollStartY,l,a.options.bounce?-a.y+a.scrollHeight/5:-a.y,a.options.bounce?(a.maxScrollY<0?a.y+a.scrollerHeight-a.scrollHeight:0)+a.scrollHeight/5:a.y+a.scrollerHeight-a.scrollHeight):{dist:0,time:0},u=Math.max(Math.max(o.time,n.time),1),d=a.x+o.dist,h=a.y+n.dist),a.options.snap&&(s=a.snap(d,h),d=s.x,h=s.y,u=Math.max(s.time,u)),a.scrollTo(d,h,u+"ms")}else if(a.resetPosition(),r){for(t=c.target;1!=t.nodeType;)t=t.parentNode;i=document.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,e.view,1,c.screenX,c.screenY,c.clientX,c.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),i._fake=!0,t.dispatchEvent(i)}}},transitionEnd:function(){var e=this;document.removeEventListener("webkitTransitionEnd",e,!1),e.resetPosition()},resetPosition:function(){var e=this,t=e.x,i=e.y;e.x>=0?t=0:e.x<e.maxScrollX&&(t=e.maxScrollX),e.y>=0||e.maxScrollY>0?i=0:e.y<e.maxScrollY&&(i=e.maxScrollY),t!=e.x||i!=e.y?e.scrollTo(t,i):(e.moved&&(e.onScrollEnd(),e.moved=!1),e.scrollBarX&&e.scrollBarX.hide(),e.scrollBarY&&e.scrollBarY.hide())},snap:function(e,t){var i,o=this;return e=o.directionX>0?Math.floor(e/o.scrollWidth):o.directionX<0?Math.ceil(e/o.scrollWidth):Math.round(e/o.scrollWidth),o.pageX=-e,e*=o.scrollWidth,e>0?e=o.pageX=0:e<o.maxScrollX&&(o.pageX=o.maxPageX,e=o.maxScrollX),t=o.directionY>0?Math.floor(t/o.scrollHeight):o.directionY<0?Math.ceil(t/o.scrollHeight):Math.round(t/o.scrollHeight),o.pageY=-t,t*=o.scrollHeight,t>0?t=o.pageY=0:t<o.maxScrollY&&(o.pageY=o.maxPageY,t=o.maxScrollY),i=Math.round(Math.max(Math.abs(o.x-e)/o.scrollWidth*500,Math.abs(o.y-t)/o.scrollHeight*500)),{x:e,y:t,time:i}},scrollTo:function(e,t,i){var o=this;return o.x==e&&o.y==t?void o.resetPosition():(o.moved=!0,o.setTransitionTime(i||"350ms"),o.setPosition(e,t),void("0"===i||"0s"==i||"0ms"==i?o.resetPosition():document.addEventListener("webkitTransitionEnd",o,!1)))},scrollToPage:function(e,t,i){var o,r=this;r.options.snap||(r.pageX=-Math.round(r.x/r.scrollWidth),r.pageY=-Math.round(r.y/r.scrollHeight)),"next"==e?e=++r.pageX:"prev"==e&&(e=--r.pageX),"next"==t?t=++r.pageY:"prev"==t&&(t=--r.pageY),e=-e*r.scrollWidth,t=-t*r.scrollHeight,o=r.snap(e,t),e=o.x,t=o.y,r.scrollTo(e,t,i||"500ms")},scrollToElement:function(e,t){if(e="object"==typeof e?e:this.element.querySelector(e)){var i=this,o=i.scrollX?-e.offsetLeft:0,r=i.scrollY?-e.offsetTop:0;o>=0?o=0:o<i.maxScrollX&&(o=i.maxScrollX),r>=0?r=0:r<i.maxScrollY&&(r=i.maxScrollY),i.scrollTo(o,r,t)}},momentum:function(e,t,i,o){var r=2.5,n=1.2,s=Math.abs(e)/t*1e3,a=s*s/r/1e3,l=0;return e>0&&a>i?(s=s*i/a/r,a=i):e<0&&a>o&&(s=s*o/a/r,a=o),a*=e<0?-1:1,l=s/n,{dist:Math.round(a),time:Math.round(l)}},destroy:function(e){var t=this;return window.removeEventListener("onorientationchange"in window?"orientationchange":"resize",t,!1),t.element.removeEventListener(n,t,!1),t.element.removeEventListener(s,t,!1),t.element.removeEventListener(a,t,!1),document.removeEventListener("webkitTransitionEnd",t,!1),t.options.checkDOMChanges&&t.element.removeEventListener("DOMSubtreeModified",t,!1),t.scrollBarX&&(t.scrollBarX=t.scrollBarX.remove()),t.scrollBarY&&(t.scrollBarY=t.scrollBarY.remove()),e&&t.wrapper.parentNode.removeChild(t.wrapper),null}},t.prototype={init:function(e,t){var i,o=this,r=document,n=Math.PI;"horizontal"==o.dir?o.maxSize!=o.wrapper.offsetWidth&&(o.maxSize=o.wrapper.offsetWidth,i=r.getCSSCanvasContext("2d","scrollbar"+o.uid+o.dir,o.maxSize,5),i.fillStyle="rgb(0,0,0)",i.beginPath(),i.arc(2.5,2.5,2.5,n/2,-n/2,!1),i.lineTo(o.maxSize-2.5,0),i.arc(o.maxSize-2.5,2.5,2.5,-n/2,n/2,!1),i.closePath(),i.fill()):o.maxSize!=o.wrapper.offsetHeight&&(o.maxSize=o.wrapper.offsetHeight,i=r.getCSSCanvasContext("2d","scrollbar"+o.uid+o.dir,5,o.maxSize),i.fillStyle="rgb(0,0,0)",i.beginPath(),i.arc(2.5,2.5,2.5,n,0,!1),i.lineTo(5,o.maxSize-2.5),i.arc(2.5,o.maxSize-2.5,2.5,0,n,!1),i.closePath(),i.fill()),o.size=Math.max(Math.round(o.maxSize*o.maxSize/t),6),o.maxScroll=o.maxSize-o.size,o.toWrapperProp=o.maxScroll/(e-t),o.bar.style["horizontal"==o.dir?"width":"height"]=o.size+"px"},setPosition:function(e){var t=this;"1"!=t.wrapper.style.opacity&&t.show(),e=Math.round(t.toWrapperProp*e),e<0?(e=t.shrink?e+3*e:0,t.size+e<7&&(e=-t.size+6)):e>t.maxScroll&&(e=t.shrink?e+3*(e-t.maxScroll):t.maxScroll,t.size+t.maxScroll-e<7&&(e=t.size+t.maxScroll-6)),e="horizontal"==t.dir?l+e+"px,0"+c:l+"0,"+e+"px"+c,t.bar.style.webkitTransform=e},show:function(){i&&(this.wrapper.style.webkitTransitionDelay="0"),this.wrapper.style.opacity="1"},hide:function(){i&&(this.wrapper.style.webkitTransitionDelay="350ms"),this.wrapper.style.opacity="0"},remove:function(){return this.wrapper.parentNode.removeChild(this.wrapper),null}};var i="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,o=/iphone|ipad/gi.test(navigator.appVersion),r="ontouchstart"in window,n=r?"touchstart":"mousedown",s=r?"touchmove":"mousemove",a=r?"touchend":"mouseup",l="translate"+(i?"3d(":"("),c=i?",0)":")",u=0;window.iScroll=e}(),function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var i=(new Date).getTime(),o=Math.max(0,16-(i-e)),r=window.setTimeout(function(){t(i+o)},o);return e=i+o,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(){var e=document.getElementsByTagName("script"),t=e.length?e[e.length-1].src.split("?")[0]:"";return t.split("/").length>0?t.split("/").slice(0,-1).join("/")+"/":""}function i(e,t,i){for(var o=0;o<t.length;o++)i(e,t[o])}var o=!1,r=!1,n=0,s=2e3,a=0,l=e,c=["webkit","ms","moz","o"],u=window.requestAnimationFrame||!1,d=window.cancelAnimationFrame||!1;if(!u)for(var h in c){var f=c[h];if(u=window[f+"RequestAnimationFrame"]){d=window[f+"CancelAnimationFrame"]||window[f+"CancelRequestAnimationFrame"];break}}var p=window.MutationObserver||window.WebKitMutationObserver||!1,m={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:t(),preventmultitouchscrolling:!0,disablemutationobserver:!1},g=!1,v=function(){function e(){var e=["grab","-webkit-grab","-moz-grab"];(n.ischrome&&!n.ischrome38||n.isie)&&(e=[]);for(var t=0;t<e.length;t++){var o=e[t];if(i.cursor=o,i.cursor==o)return o}return"url(//patriciaportfolio.googlecode.com/files/openhand.cur),n-resize"}if(g)return g;var t=document.createElement("DIV"),i=t.style,o=navigator.userAgent,r=navigator.platform,n={};n.haspointerlock="pointerLockElement"in document||"webkitPointerLockElement"in document||"mozPointerLockElement"in document,n.isopera="opera"in window,n.isopera12=n.isopera&&"getUserMedia"in navigator,n.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),n.isie="all"in document&&"attachEvent"in t&&!n.isopera,n.isieold=n.isie&&!("msInterpolationMode"in i),n.isie7=n.isie&&!n.isieold&&(!("documentMode"in document)||7==document.documentMode),n.isie8=n.isie&&"documentMode"in document&&8==document.documentMode,n.isie9=n.isie&&"performance"in window&&9==document.documentMode,n.isie10=n.isie&&"performance"in window&&10==document.documentMode,n.isie11="msRequestFullscreen"in t&&document.documentMode>=11,n.isieedge12=navigator.userAgent.match(/Edge\/12\./),n.isieedge="msOverflowStyle"in t,n.ismodernie=n.isie11||n.isieedge,n.isie9mobile=/iemobile.9/i.test(o),n.isie9mobile&&(n.isie9=!1),n.isie7mobile=!n.isie9mobile&&n.isie7&&/iemobile/i.test(o),n.ismozilla="MozAppearance"in i,n.iswebkit="WebkitAppearance"in i,n.ischrome="chrome"in window,n.ischrome38=n.ischrome&&"touchAction"in i,n.ischrome22=!n.ischrome38&&n.ischrome&&n.haspointerlock,n.ischrome26=!n.ischrome38&&n.ischrome&&"transition"in i,n.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,n.hasw3ctouch=(window.PointerEvent||!1)&&(navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0),n.hasmstouch=!n.hasw3ctouch&&(window.MSPointerEvent||!1),n.ismac=/^mac$/i.test(r),n.isios=n.cantouch&&/iphone|ipad|ipod/i.test(r),n.isios4=n.isios&&!("seal"in Object),n.isios7=n.isios&&"webkitHidden"in document,n.isios8=n.isios&&"hidden"in document,n.isandroid=/android/i.test(o),n.haseventlistener="addEventListener"in t,n.trstyle=!1,n.hastransform=!1,n.hastranslate3d=!1,n.transitionstyle=!1,n.hastransition=!1,n.transitionend=!1;var s,a=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(s=0;s<a.length;s++)if(void 0!==i[a[s]]){n.trstyle=a[s];break}n.hastransform=!!n.trstyle,n.hastransform&&(i[n.trstyle]="translate3d(1px,2px,3px)",n.hastranslate3d=/translate3d/.test(i[n.trstyle])),n.transitionstyle=!1,n.prefixstyle="",n.transitionend=!1,a=["transition","webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"];var l=["","-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],c=["transitionend","webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"];for(s=0;s<a.length;s++)if(a[s]in i){n.transitionstyle=a[s],n.prefixstyle=l[s],n.transitionend=c[s];break}return n.ischrome26&&(n.prefixstyle=l[1]),n.hastransition=n.transitionstyle,n.cursorgrabvalue=e(),n.hasmousecapture="setCapture"in t,n.hasMutationObserver=p!==!1,t=null,g=n,n},w=function(e,t){function i(){var e=w.doc.css(k.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function c(){var e=w.win;if("zIndex"in e)return e.zIndex();for(;e.length>0;){if(9==e[0].nodeType)return!1;var t=e.css("zIndex");if(!isNaN(t)&&0!=t)return parseInt(t);e=e.parent()}return!1}function h(e,t,i){var o=e.css(t),r=parseFloat(o);if(isNaN(r)){r=E[o]||0;var n=3==r?i?w.win.outerHeight()-w.win.innerHeight():w.win.outerWidth()-w.win.innerWidth():1;return w.isie8&&r&&(r+=1),n?r:0}return r}function f(e,t,i,o){w._bind(e,t,function(o){var o=o?o:window.event,r={original:o,target:o.target||o.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==o.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return o.preventDefault?o.preventDefault():o.returnValue=!1,!1},stopImmediatePropagation:function(){o.stopImmediatePropagation?o.stopImmediatePropagation():o.cancelBubble=!0}};return"mousewheel"==t?(o.wheelDeltaX&&(r.deltaX=-.025*o.wheelDeltaX),o.wheelDeltaY&&(r.deltaY=-.025*o.wheelDeltaY),!r.deltaY&&!r.deltaX&&(r.deltaY=-.025*o.wheelDelta)):r.deltaY=o.detail,i.call(e,r)},o)}function g(e,t,i){var o,r;if(0==e.deltaMode?(o=-Math.floor(e.deltaX*(w.opt.mousescrollstep/54)),r=-Math.floor(e.deltaY*(w.opt.mousescrollstep/54))):1==e.deltaMode&&(o=-Math.floor(e.deltaX*w.opt.mousescrollstep),r=-Math.floor(e.deltaY*w.opt.mousescrollstep)),t&&w.opt.oneaxismousemode&&0==o&&r&&(o=r,r=0,i)){var n=o<0?w.getScrollLeft()>=w.page.maxw:w.getScrollLeft()<=0;n&&(r=o,o=0)}if(w.isrtlmode&&(o=-o),o&&(w.scrollmom&&w.scrollmom.stop(),w.lastdeltax+=o,w.debounced("mousewheelx",function(){var e=w.lastdeltax;w.lastdeltax=0,w.rail.drag||w.doScrollLeftBy(e)},15)),r){if(w.opt.nativeparentscrolling&&i&&!w.ispage&&!w.zoomactive)if(r<0){if(w.getScrollTop()>=w.page.maxh)return!0}else if(w.getScrollTop()<=0)return!0;w.scrollmom&&w.scrollmom.stop(),w.lastdeltay+=r,w.synched("mousewheely",function(){var e=w.lastdeltay;w.lastdeltay=0,w.rail.drag||w.doScrollBy(e)},15)}return e.stopImmediatePropagation(),e.preventDefault()}var w=this;if(this.version="3.6.8",this.name="nicescroll",this.me=t,this.opt={doc:l("body"),win:!1},l.extend(this.opt,m),this.opt.snapbackspeed=80,e)for(var y in w.opt)void 0!==e[y]&&(w.opt[y]=e[y]);if(w.opt.disablemutationobserver&&(p=!1),this.doc=w.opt.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(w.opt.win?w.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=w.opt.win!==!1,this.win=w.opt.win||(this.ispage?l(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?l(window):this.win,this.body=l("body"),this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=w.opt.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==this.opt.rtlmode){var _=this.win[0]==window?this.body:this.win,x=_.css("writing-mode")||_.css("-webkit-writing-mode")||_.css("-ms-writing-mode")||_.css("-moz-writing-mode");"horizontal-tb"==x||"lr-tb"==x||""==x?(this.isrtlmode="rtl"==_.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==x||"tb"==x||"tb-rl"==x||"rl-tb"==x,this.isvertical="vertical-rl"==x||"tb"==x||"tb-rl"==x)}else this.isrtlmode=this.opt.rtlmode===!0,this.isvertical=!1;this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1;do this.id="ascrail"+s++;while(document.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.visibility=!0,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=w.opt.overflowx,this.overflowy=w.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=v();var k=l.extend({},this.detected);this.canhwscroll=k.hastransform&&w.opt.hwacceleration,this.ishwscroll=this.canhwscroll&&w.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(k.iswebkit||k.isie||k.isie11):this.hasreversehr=!(k.iswebkit||k.isie&&!k.isie10&&!k.isie11):this.hasreversehr=!1,this.istouchcapable=!1,k.cantouch||!k.hasw3ctouch&&!k.hasmstouch?!k.cantouch||k.isios||k.isandroid||!k.iswebkit&&!k.ismozilla||(this.istouchcapable=!0):this.istouchcapable=!0,w.opt.enablemouselockapi||(k.hasmousecapture=!1,k.haspointerlock=!1),this.debounced=function(e,t,i){if(w){var o=w.delaylist[e]||!1;o||(t.call(w),w.delaylist[e]={h:u(function(){w.delaylist[e].fn.call(w),w.delaylist[e]=!1},i)}),w.delaylist[e].fn=t}};var S=!1;this.synched=function(e,t){function i(){S||(u(function(){if(w){S=!1;for(var e in w.synclist){var t=w.synclist[e];t&&t.call(w),w.synclist[e]=!1}}}),S=!0)}return w.synclist[e]=t,i(),e},this.unsynched=function(e){w.synclist[e]&&(w.synclist[e]=!1)},this.css=function(e,t){for(var i in t)w.saved.css.push([e,i,e.css(i)]),e.css(i,t[i])},this.scrollTop=function(e){return void 0===e?w.getScrollTop():w.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?w.getScrollLeft():w.setScrollLeft(e)};var T=function(e,t,i,o,r,n,s){this.st=e,this.ed=t,this.spd=i,this.p1=o||0,this.p2=r||1,this.p3=n||0,this.p4=s||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st};if(T.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=(new Date).getTime(),t=1-(e-this.ts)/this.spd,i=this.B2(t)+this.B3(t)+this.B4(t);return t<0?this.ed:this.st+Math.round(this.df*i)},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=(new Date).getTime(),
this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},k.hastranslate3d&&k.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){var t=i();if(t)return 16==t.length?-t[13]:-t[5];if(w.timerscroll&&w.timerscroll.bz)return w.timerscroll.bz.getNow()}return w.doc.translate.y},this.getScrollLeft=function(e){if(!e){var t=i();if(t)return 16==t.length?-t[12]:-t[4];if(w.timerscroll&&w.timerscroll.bh)return w.timerscroll.bh.getNow()}return w.doc.translate.x},this.notifyScrollEvent=function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",!1,!0,window,1),t.niceevent=!0,e.dispatchEvent(t)};var z=this.isrtlmode?1:-1;k.hastranslate3d&&w.opt.enabletranslate3d?(this.setScrollTop=function(e,t){w.doc.translate.y=e,w.doc.translate.ty=e*-1+"px",w.doc.css(k.trstyle,"translate3d("+w.doc.translate.tx+","+w.doc.translate.ty+",0px)"),t||w.notifyScrollEvent(w.win[0])},this.setScrollLeft=function(e,t){w.doc.translate.x=e,w.doc.translate.tx=e*z+"px",w.doc.css(k.trstyle,"translate3d("+w.doc.translate.tx+","+w.doc.translate.ty+",0px)"),t||w.notifyScrollEvent(w.win[0])}):(this.setScrollTop=function(e,t){w.doc.translate.y=e,w.doc.translate.ty=e*-1+"px",w.doc.css(k.trstyle,"translate("+w.doc.translate.tx+","+w.doc.translate.ty+")"),t||w.notifyScrollEvent(w.win[0])},this.setScrollLeft=function(e,t){w.doc.translate.x=e,w.doc.translate.tx=e*z+"px",w.doc.css(k.trstyle,"translate("+w.doc.translate.tx+","+w.doc.translate.ty+")"),t||w.notifyScrollEvent(w.win[0])})}else this.getScrollTop=function(){return w.docscroll.scrollTop()},this.setScrollTop=function(e){return setTimeout(function(){w&&w.docscroll.scrollTop(e)},1)},this.getScrollLeft=function(){var e;return e=w.hasreversehr?w.detected.ismozilla?w.page.maxw-Math.abs(w.docscroll.scrollLeft()):w.page.maxw-w.docscroll.scrollLeft():w.docscroll.scrollLeft()},this.setScrollLeft=function(e){return setTimeout(function(){if(w)return w.hasreversehr&&(e=w.detected.ismozilla?-(w.page.maxw-e):w.page.maxw-e),w.docscroll.scrollLeft(e)},1)};this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,t){if(!e)return!1;for(var i=e.target||e.srcElement||e||!1;i&&i.id!=t;)i=i.parentNode||!1;return i!==!1};var E={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}},this.getOffset=function(){if(w.isfixed){var e=w.win.offset(),t=w.getDocumentScrollOffset();return e.top-=t.top,e.left-=t.left,e}var i=w.win.offset();if(!w.viewport)return i;var o=w.viewport.offset();return{top:i.top-o.top,left:i.left-o.left}},this.updateScrollBar=function(e){var t,i;if(w.ishwscroll)w.rail.css({height:w.win.innerHeight()-(w.opt.railpadding.top+w.opt.railpadding.bottom)}),w.railh&&w.railh.css({width:w.win.innerWidth()-(w.opt.railpadding.left+w.opt.railpadding.right)});else{var o=w.getOffset();if(t={top:o.top,left:o.left-(w.opt.railpadding.left+w.opt.railpadding.right)},t.top+=h(w.win,"border-top-width",!0),t.left+=w.rail.align?w.win.outerWidth()-h(w.win,"border-right-width")-w.rail.width:h(w.win,"border-left-width"),i=w.opt.railoffset,i&&(i.top&&(t.top+=i.top),i.left&&(t.left+=i.left)),w.railslocked||w.rail.css({top:t.top,left:t.left,height:(e?e.h:w.win.innerHeight())-(w.opt.railpadding.top+w.opt.railpadding.bottom)}),w.zoom&&w.zoom.css({top:t.top+1,left:1==w.rail.align?t.left-20:t.left+w.rail.width+4}),w.railh&&!w.railslocked){t={top:o.top,left:o.left},i=w.opt.railhoffset,i&&(i.top&&(t.top+=i.top),i.left&&(t.left+=i.left));var r=w.railh.align?t.top+h(w.win,"border-top-width",!0)+w.win.innerHeight()-w.railh.height:t.top+h(w.win,"border-top-width",!0),n=t.left+h(w.win,"border-left-width");w.railh.css({top:r-(w.opt.railpadding.top+w.opt.railpadding.bottom),left:n,width:w.railh.width})}}},this.doRailClick=function(e,t,i){var o,r,n,s;w.railslocked||(w.cancelEvent(e),t?(o=i?w.doScrollLeft:w.doScrollTop,n=i?(e.pageX-w.railh.offset().left-w.cursorwidth/2)*w.scrollratio.x:(e.pageY-w.rail.offset().top-w.cursorheight/2)*w.scrollratio.y,o(n)):(o=i?w.doScrollLeftBy:w.doScrollBy,n=i?w.scroll.x:w.scroll.y,s=i?e.pageX-w.railh.offset().left:e.pageY-w.rail.offset().top,r=i?w.view.w:w.view.h,o(n>=s?r:-r)))},w.hasanimationframe=u,w.hascancelanimationframe=d,w.hasanimationframe?w.hascancelanimationframe||(d=function(){w.cancelAnimationFrame=!0}):(u=function(e){return setTimeout(e,15-Math.floor(+new Date/1e3)%16)},d=clearTimeout),this.init=function(){if(w.saved.css=[],k.isie7mobile)return!0;if(k.isoperamini)return!0;k.isie10?"-ms-touch-action":"touch-action";k.hasmstouch&&w.css(w.ispage?l("html"):w.win,{_touchaction:"none"});var e=k.ismodernie||k.isie10?{"-ms-overflow-style":"none"}:{"overflow-y":"hidden"};if(w.zindex="auto",w.ispage||"auto"!=w.opt.zindex?w.zindex=w.opt.zindex:w.zindex=c()||"auto",!w.ispage&&"auto"!=w.zindex&&w.zindex>a&&(a=w.zindex),w.isie&&0==w.zindex&&"auto"==w.opt.zindex&&(w.zindex="auto"),!w.ispage||!k.cantouch&&!k.isieold&&!k.isie9mobile){var t=w.docscroll;w.ispage&&(t=w.haswrapper?w.win:w.doc),k.isie9mobile||w.css(t,e),w.ispage&&k.isie7&&("BODY"==w.doc[0].nodeName?w.css(l("html"),{"overflow-y":"hidden"}):"HTML"==w.doc[0].nodeName&&w.css(l("body"),e)),!k.isios||w.ispage||w.haswrapper||w.css(l("body"),{"-webkit-overflow-scrolling":"touch"});var i=l(document.createElement("div"));i.css({position:"relative",top:0,"float":"right",width:w.opt.cursorwidth,height:0,"background-color":w.opt.cursorcolor,border:w.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":w.opt.cursorborderradius,"-moz-border-radius":w.opt.cursorborderradius,"border-radius":w.opt.cursorborderradius}),i.hborder=parseFloat(i.outerHeight()-i.innerHeight()),i.addClass("nicescroll-cursors"),w.cursor=i;var s=l(document.createElement("div"));s.attr("id",w.id),s.addClass("nicescroll-rails nicescroll-rails-vr");var u,d,h=["left","right","top","bottom"];for(var f in h)d=h[f],u=w.opt.railpadding[d],u?s.css("padding-"+d,u+"px"):w.opt.railpadding[d]=0;s.append(i),s.width=Math.max(parseFloat(w.opt.cursorwidth),i.outerWidth()),s.css({width:s.width+"px",zIndex:w.zindex,background:w.opt.background,cursor:"default"}),s.visibility=!0,s.scrollable=!0,s.align="left"==w.opt.railalign?0:1,w.rail=s,w.rail.drag=!1;var m=!1;!w.opt.boxzoom||w.ispage||k.isieold||(m=document.createElement("div"),w.bind(m,"click",w.doZoom),w.bind(m,"mouseenter",function(){w.zoom.css("opacity",w.opt.cursoropacitymax)}),w.bind(m,"mouseleave",function(){w.zoom.css("opacity",w.opt.cursoropacitymin)}),w.zoom=l(m),w.zoom.css({cursor:"pointer",zIndex:w.zindex,backgroundImage:"url("+w.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),w.opt.dblclickzoom&&w.bind(w.win,"dblclick",w.doZoom),k.cantouch&&w.opt.gesturezoom&&(w.ongesturezoom=function(e){return e.scale>1.5&&w.doZoomIn(e),e.scale<.8&&w.doZoomOut(e),w.cancelEvent(e)},w.bind(w.win,"gestureend",w.ongesturezoom))),w.railh=!1;var g;if(w.opt.horizrailenabled){w.css(t,{overflowX:"hidden"});var i=l(document.createElement("div"));i.css({position:"absolute",top:0,height:w.opt.cursorwidth,width:0,backgroundColor:w.opt.cursorcolor,border:w.opt.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":w.opt.cursorborderradius,"-moz-border-radius":w.opt.cursorborderradius,"border-radius":w.opt.cursorborderradius}),k.isieold&&i.css("overflow","hidden"),i.wborder=parseFloat(i.outerWidth()-i.innerWidth()),i.addClass("nicescroll-cursors"),w.cursorh=i,g=l(document.createElement("div")),g.attr("id",w.id+"-hr"),g.addClass("nicescroll-rails nicescroll-rails-hr"),g.height=Math.max(parseFloat(w.opt.cursorwidth),i.outerHeight()),g.css({height:g.height+"px",zIndex:w.zindex,background:w.opt.background}),g.append(i),g.visibility=!0,g.scrollable=!0,g.align="top"==w.opt.railvalign?0:1,w.railh=g,w.railh.drag=!1}if(w.ispage)s.css({position:"fixed",top:0,height:"100%"}),s.align?s.css({right:0}):s.css({left:0}),w.body.append(s),w.railh&&(g.css({position:"fixed",left:0,width:"100%"}),g.align?g.css({bottom:0}):g.css({top:0}),w.body.append(g));else{if(w.ishwscroll){"static"==w.win.css("position")&&w.css(w.win,{position:"relative"});var v="HTML"==w.win[0].nodeName?w.body:w.win;l(v).scrollTop(0).scrollLeft(0),w.zoom&&(w.zoom.css({position:"absolute",top:1,right:0,"margin-right":s.width+4}),v.append(w.zoom)),s.css({position:"absolute",top:0}),s.align?s.css({right:0}):s.css({left:0}),v.append(s),g&&(g.css({position:"absolute",left:0,bottom:0}),g.align?g.css({bottom:0}):g.css({top:0}),v.append(g))}else{w.isfixed="fixed"==w.win.css("position");var y=w.isfixed?"fixed":"absolute";w.isfixed||(w.viewport=w.getViewport(w.win[0])),w.viewport&&(w.body=w.viewport,0==/fixed|absolute/.test(w.viewport.css("position"))&&w.css(w.viewport,{position:"relative"})),s.css({position:y}),w.zoom&&w.zoom.css({position:y}),w.updateScrollBar(),w.body.append(s),w.zoom&&w.body.append(w.zoom),w.railh&&(g.css({position:y}),w.body.append(g))}k.isios&&w.css(w.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),k.isie&&w.opt.disableoutline&&w.win.attr("hideFocus","true"),k.iswebkit&&w.opt.disableoutline&&w.win.css("outline","none")}if(w.opt.autohidemode===!1?(w.autohidedom=!1,w.rail.css({opacity:w.opt.cursoropacitymax}),w.railh&&w.railh.css({opacity:w.opt.cursoropacitymax})):w.opt.autohidemode===!0||"leave"===w.opt.autohidemode?(w.autohidedom=l().add(w.rail),k.isie8&&(w.autohidedom=w.autohidedom.add(w.cursor)),w.railh&&(w.autohidedom=w.autohidedom.add(w.railh)),w.railh&&k.isie8&&(w.autohidedom=w.autohidedom.add(w.cursorh))):"scroll"==w.opt.autohidemode?(w.autohidedom=l().add(w.rail),w.railh&&(w.autohidedom=w.autohidedom.add(w.railh))):"cursor"==w.opt.autohidemode?(w.autohidedom=l().add(w.cursor),w.railh&&(w.autohidedom=w.autohidedom.add(w.cursorh))):"hidden"==w.opt.autohidemode&&(w.autohidedom=!1,w.hide(),w.railslocked=!1),k.isie9mobile){w.scrollmom=new b(w),w.onmangotouch=function(){var e=w.getScrollTop(),t=w.getScrollLeft();if(e==w.scrollmom.lastscrolly&&t==w.scrollmom.lastscrollx)return!0;var i=e-w.mangotouch.sy,o=t-w.mangotouch.sx,r=Math.round(Math.sqrt(Math.pow(o,2)+Math.pow(i,2)));if(0!=r){var n=i<0?-1:1,s=o<0?-1:1,a=+new Date;if(w.mangotouch.lazy&&clearTimeout(w.mangotouch.lazy),a-w.mangotouch.tm>80||w.mangotouch.dry!=n||w.mangotouch.drx!=s)w.scrollmom.stop(),w.scrollmom.reset(t,e),w.mangotouch.sy=e,w.mangotouch.ly=e,w.mangotouch.sx=t,w.mangotouch.lx=t,w.mangotouch.dry=n,w.mangotouch.drx=s,w.mangotouch.tm=a;else{w.scrollmom.stop(),w.scrollmom.update(w.mangotouch.sx-o,w.mangotouch.sy-i),w.mangotouch.tm=a;var l=Math.max(Math.abs(w.mangotouch.ly-e),Math.abs(w.mangotouch.lx-t));w.mangotouch.ly=e,w.mangotouch.lx=t,l>2&&(w.mangotouch.lazy=setTimeout(function(){w.mangotouch.lazy=!1,w.mangotouch.dry=0,w.mangotouch.drx=0,w.mangotouch.tm=0,w.scrollmom.doMomentum(30)},100))}}};var _=w.getScrollTop(),x=w.getScrollLeft();w.mangotouch={sy:_,ly:_,dry:0,sx:x,lx:x,drx:0,lazy:!1,tm:0},w.bind(w.docscroll,"scroll",w.onmangotouch)}else{if(k.cantouch||w.istouchcapable||w.opt.touchbehavior||k.hasmstouch){w.scrollmom=new b(w),w.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(w.hasmoving=!1,!w.railslocked){var t;if(k.hasmstouch)for(t=!!e.target&&e.target;t;){var i=l(t).getNiceScroll();if(i.length>0&&i[0].me==w.me)break;if(i.length>0)return!1;if("DIV"==t.nodeName&&t.id==w.id)break;t=!!t.parentNode&&t.parentNode}if(w.cancelScroll(),t=w.getTarget(e)){var o=/INPUT/i.test(t.nodeName)&&/range/i.test(t.type);if(o)return w.stopPropagation(e)}if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),w.forcescreen){var r=e;e={original:e.original?e.original:e},e.clientX=r.screenX,e.clientY=r.screenY}if(w.rail.drag={x:e.clientX,y:e.clientY,sx:w.scroll.x,sy:w.scroll.y,st:w.getScrollTop(),sl:w.getScrollLeft(),pt:2,dl:!1},w.ispage||!w.opt.directionlockdeadzone)w.rail.drag.dl="f";else{var n={w:l(window).width(),h:l(window).height()},s={w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},a=Math.max(0,s.h-n.h),c=Math.max(0,s.w-n.w);!w.rail.scrollable&&w.railh.scrollable?w.rail.drag.ck=a>0&&"v":w.rail.scrollable&&!w.railh.scrollable?w.rail.drag.ck=c>0&&"h":w.rail.drag.ck=!1,w.rail.drag.ck||(w.rail.drag.dl="f")}if(w.opt.touchbehavior&&w.isiframe&&k.isie){var u=w.win.position();w.rail.drag.x+=u.left,w.rail.drag.y+=u.top}if(w.hasmoving=!1,w.lastmouseup=!1,w.scrollmom.reset(e.clientX,e.clientY),!k.cantouch&&!this.istouchcapable&&!e.pointerType){var d=!!t&&/INPUT|SELECT|TEXTAREA/i.test(t.nodeName);if(!d)return!w.ispage&&k.hasmousecapture&&t.setCapture(),w.opt.touchbehavior?(t.onclick&&!t._onclick&&(t._onclick=t.onclick,t.onclick=function(e){return!w.hasmoving&&void t._onclick.call(this,e)}),w.cancelEvent(e)):w.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(l(t).attr("type"))&&(pc={tg:t,click:!1},w.preventclick=pc)}}},w.ontouchend=function(e){if(!w.rail.drag)return!0;if(2==w.rail.drag.pt){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(w.scrollmom.doMomentum(),w.rail.drag=!1,w.hasmoving&&(w.lastmouseup=!0,w.hideCursor(),k.hasmousecapture&&document.releaseCapture(),!k.cantouch))return w.cancelEvent(e)}else if(1==w.rail.drag.pt)return w.onmouseup(e)};var S=w.opt.touchbehavior&&w.isiframe&&!k.hasmousecapture;w.ontouchmove=function(e,t){if(!w.rail.drag)return!1;if(e.targetTouches&&w.opt.preventmultitouchscrolling&&e.targetTouches.length>1)return!1;if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(2==w.rail.drag.pt){if(k.cantouch&&k.isios&&void 0===e.original)return!0;w.hasmoving=!0,w.preventclick&&!w.preventclick.click&&(w.preventclick.click=w.preventclick.tg.onclick||!1,w.preventclick.tg.onclick=w.onpreventclick);var i=l.extend({original:e},e);if(e=i,"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),w.forcescreen){var o=e;e={original:e.original?e.original:e},e.clientX=o.screenX,e.clientY=o.screenY}var r,n;if(n=r=0,S&&!t){var s=w.win.position();n=-s.left,r=-s.top}var a=e.clientY+r,c=a-w.rail.drag.y,u=e.clientX+n,d=u-w.rail.drag.x,h=w.rail.drag.st-c;w.ishwscroll&&w.opt.bouncescroll?h<0?h=Math.round(h/2):h>w.page.maxh&&(h=w.page.maxh+Math.round((h-w.page.maxh)/2)):(h<0&&(h=0,a=0),h>w.page.maxh&&(h=w.page.maxh,a=0));var f;w.railh&&w.railh.scrollable&&(f=w.isrtlmode?d-w.rail.drag.sl:w.rail.drag.sl-d,w.ishwscroll&&w.opt.bouncescroll?f<0?f=Math.round(f/2):f>w.page.maxw&&(f=w.page.maxw+Math.round((f-w.page.maxw)/2)):(f<0&&(f=0,u=0),f>w.page.maxw&&(f=w.page.maxw,u=0)));var p=!1;if(w.rail.drag.dl)p=!0,"v"==w.rail.drag.dl?f=w.rail.drag.sl:"h"==w.rail.drag.dl&&(h=w.rail.drag.st);else{var m=Math.abs(c),g=Math.abs(d),v=w.opt.directionlockdeadzone;if("v"==w.rail.drag.ck){if(m>v&&g<=.3*m)return w.rail.drag=!1,!0;g>v&&(w.rail.drag.dl="f",l("body").scrollTop(l("body").scrollTop()))}else if("h"==w.rail.drag.ck){if(g>v&&m<=.3*g)return w.rail.drag=!1,!0;m>v&&(w.rail.drag.dl="f",l("body").scrollLeft(l("body").scrollLeft()))}}if(w.synched("touchmove",function(){w.rail.drag&&2==w.rail.drag.pt&&(w.prepareTransition&&w.prepareTransition(0),w.rail.scrollable&&w.setScrollTop(h),w.scrollmom.update(u,a),w.railh&&w.railh.scrollable?(w.setScrollLeft(f),w.showCursor(h,f)):w.showCursor(h),k.isie10&&document.selection.clear())}),k.ischrome&&w.istouchcapable&&(p=!1),p)return w.cancelEvent(e)}else if(1==w.rail.drag.pt)return w.onmousemove(e)}}if(w.onmousedown=function(e,t){if(!w.rail.drag||1==w.rail.drag.pt){if(w.railslocked)return w.cancelEvent(e);w.cancelScroll(),w.rail.drag={x:e.clientX,y:e.clientY,sx:w.scroll.x,sy:w.scroll.y,pt:1,hr:!!t};var i=w.getTarget(e);return!w.ispage&&k.hasmousecapture&&i.setCapture(),w.isiframe&&!k.hasmousecapture&&(w.saved.csspointerevents=w.doc.css("pointer-events"),w.css(w.doc,{"pointer-events":"none"})),w.hasmoving=!1,w.cancelEvent(e)}},w.onmouseup=function(e){if(w.rail.drag)return 1!=w.rail.drag.pt||(k.hasmousecapture&&document.releaseCapture(),w.isiframe&&!k.hasmousecapture&&w.doc.css("pointer-events",w.saved.csspointerevents),w.rail.drag=!1,w.hasmoving&&w.triggerScrollEnd(),w.cancelEvent(e))},w.onmousemove=function(e){if(w.rail.drag){if(1!=w.rail.drag.pt)return;if(k.ischrome&&0==e.which)return w.onmouseup(e);if(w.cursorfreezed=!0,w.hasmoving=!0,w.rail.drag.hr){w.scroll.x=w.rail.drag.sx+(e.clientX-w.rail.drag.x),w.scroll.x<0&&(w.scroll.x=0);var t=w.scrollvaluemaxw;w.scroll.x>t&&(w.scroll.x=t)}else{w.scroll.y=w.rail.drag.sy+(e.clientY-w.rail.drag.y),w.scroll.y<0&&(w.scroll.y=0);var i=w.scrollvaluemax;w.scroll.y>i&&(w.scroll.y=i)}return w.synched("mousemove",function(){w.rail.drag&&1==w.rail.drag.pt&&(w.showCursor(),w.rail.drag.hr?w.hasreversehr?w.doScrollLeft(w.scrollvaluemaxw-Math.round(w.scroll.x*w.scrollratio.x),w.opt.cursordragspeed):w.doScrollLeft(Math.round(w.scroll.x*w.scrollratio.x),w.opt.cursordragspeed):w.doScrollTop(Math.round(w.scroll.y*w.scrollratio.y),w.opt.cursordragspeed))}),w.cancelEvent(e)}w.checkarea=0},k.cantouch||w.opt.touchbehavior)w.onpreventclick=function(e){if(w.preventclick)return w.preventclick.tg.onclick=w.preventclick.click,w.preventclick=!1,w.cancelEvent(e)},w.bind(w.win,"mousedown",w.ontouchstart),w.onclick=!k.isios&&function(e){return!w.lastmouseup||(w.lastmouseup=!1,w.cancelEvent(e))},w.opt.grabcursorenabled&&k.cursorgrabvalue&&(w.css(w.ispage?w.doc:w.win,{cursor:k.cursorgrabvalue}),w.css(w.rail,{cursor:k.cursorgrabvalue}));else{var T=function(e){if(w.selectiondrag){if(e){var t=w.win.outerHeight(),i=e.pageY-w.selectiondrag.top;i>0&&i<t&&(i=0),i>=t&&(i-=t),w.selectiondrag.df=i}if(0!=w.selectiondrag.df){var o=2*-Math.floor(w.selectiondrag.df/6);w.doScrollBy(o),w.debounced("doselectionscroll",function(){T()},50)}}};"getSelection"in document?w.hasTextSelected=function(){return document.getSelection().rangeCount>0}:"selection"in document?w.hasTextSelected=function(){return"None"!=document.selection.type}:w.hasTextSelected=function(){return!1},w.onselectionstart=function(){w.ispage||(w.selectiondrag=w.win.offset())},w.onselectionend=function(){w.selectiondrag=!1},w.onselectiondrag=function(e){w.selectiondrag&&w.hasTextSelected()&&w.debounced("selectionscroll",function(){T(e)},250)}}k.hasw3ctouch?(w.css(w.rail,{"touch-action":"none"}),w.css(w.cursor,{"touch-action":"none"}),w.bind(w.win,"pointerdown",w.ontouchstart),w.bind(document,"pointerup",w.ontouchend),w.bind(document,"pointermove",w.ontouchmove)):k.hasmstouch?(w.css(w.rail,{"-ms-touch-action":"none"}),w.css(w.cursor,{"-ms-touch-action":"none"}),w.bind(w.win,"MSPointerDown",w.ontouchstart),w.bind(document,"MSPointerUp",w.ontouchend),w.bind(document,"MSPointerMove",w.ontouchmove),w.bind(w.cursor,"MSGestureHold",function(e){e.preventDefault()}),w.bind(w.cursor,"contextmenu",function(e){e.preventDefault()})):this.istouchcapable&&(w.bind(w.win,"touchstart",w.ontouchstart),w.bind(document,"touchend",w.ontouchend),w.bind(document,"touchcancel",w.ontouchend),w.bind(document,"touchmove",w.ontouchmove)),(w.opt.cursordragontouch||!k.cantouch&&!w.opt.touchbehavior)&&(w.rail.css({cursor:"default"}),w.railh&&w.railh.css({cursor:"default"}),w.jqbind(w.rail,"mouseenter",function(){return!(!w.ispage&&!w.win.is(":visible"))&&(w.canshowonmouseevent&&w.showCursor(),void(w.rail.active=!0))}),w.jqbind(w.rail,"mouseleave",function(){w.rail.active=!1,w.rail.drag||w.hideCursor()}),w.opt.sensitiverail&&(w.bind(w.rail,"click",function(e){w.doRailClick(e,!1,!1)}),w.bind(w.rail,"dblclick",function(e){w.doRailClick(e,!0,!1)}),w.bind(w.cursor,"click",function(e){w.cancelEvent(e)}),w.bind(w.cursor,"dblclick",function(e){w.cancelEvent(e)})),w.railh&&(w.jqbind(w.railh,"mouseenter",function(){return!(!w.ispage&&!w.win.is(":visible"))&&(w.canshowonmouseevent&&w.showCursor(),void(w.rail.active=!0))}),w.jqbind(w.railh,"mouseleave",function(){w.rail.active=!1,w.rail.drag||w.hideCursor()}),w.opt.sensitiverail&&(w.bind(w.railh,"click",function(e){w.doRailClick(e,!1,!0)}),w.bind(w.railh,"dblclick",function(e){w.doRailClick(e,!0,!0)}),w.bind(w.cursorh,"click",function(e){w.cancelEvent(e)}),w.bind(w.cursorh,"dblclick",function(e){w.cancelEvent(e)})))),k.cantouch||w.opt.touchbehavior?(w.bind(k.hasmousecapture?w.win:document,"mouseup",w.ontouchend),w.bind(document,"mousemove",w.ontouchmove),w.onclick&&w.bind(document,"click",w.onclick),w.opt.cursordragontouch?(w.bind(w.cursor,"mousedown",w.onmousedown),w.bind(w.cursor,"mouseup",w.onmouseup),w.cursorh&&w.bind(w.cursorh,"mousedown",function(e){w.onmousedown(e,!0)}),w.cursorh&&w.bind(w.cursorh,"mouseup",w.onmouseup)):(w.bind(w.rail,"mousedown",function(e){e.preventDefault()}),w.railh&&w.bind(w.railh,"mousedown",function(e){e.preventDefault()}))):(w.bind(k.hasmousecapture?w.win:document,"mouseup",w.onmouseup),w.bind(document,"mousemove",w.onmousemove),w.onclick&&w.bind(document,"click",w.onclick),w.bind(w.cursor,"mousedown",w.onmousedown),w.bind(w.cursor,"mouseup",w.onmouseup),w.railh&&(w.bind(w.cursorh,"mousedown",function(e){w.onmousedown(e,!0)}),w.bind(w.cursorh,"mouseup",w.onmouseup)),!w.ispage&&w.opt.enablescrollonselection&&(w.bind(w.win[0],"mousedown",w.onselectionstart),w.bind(document,"mouseup",w.onselectionend),w.bind(w.cursor,"mouseup",w.onselectionend),w.cursorh&&w.bind(w.cursorh,"mouseup",w.onselectionend),w.bind(document,"mousemove",w.onselectiondrag)),w.zoom&&(w.jqbind(w.zoom,"mouseenter",function(){w.canshowonmouseevent&&w.showCursor(),w.rail.active=!0}),w.jqbind(w.zoom,"mouseleave",function(){w.rail.active=!1,w.rail.drag||w.hideCursor()}))),w.opt.enablemousewheel&&(w.isiframe||w.mousewheel(k.isie&&w.ispage?document:w.win,w.onmousewheel),w.mousewheel(w.rail,w.onmousewheel),w.railh&&w.mousewheel(w.railh,w.onmousewheelhr)),w.ispage||k.cantouch||/HTML|^BODY/.test(w.win[0].nodeName)||(w.win.attr("tabindex")||w.win.attr({tabindex:n++}),w.jqbind(w.win,"focus",function(e){o=w.getTarget(e).id||!0,w.hasfocus=!0,w.canshowonmouseevent&&w.noticeCursor()}),w.jqbind(w.win,"blur",function(){o=!1,w.hasfocus=!1}),w.jqbind(w.win,"mouseenter",function(e){r=w.getTarget(e).id||!0,w.hasmousefocus=!0,w.canshowonmouseevent&&w.noticeCursor()}),w.jqbind(w.win,"mouseleave",function(){r=!1,w.hasmousefocus=!1,w.rail.drag||w.hideCursor()}))}if(w.onkeypress=function(e){if(w.railslocked&&0==w.page.maxh)return!0;e=e?e:window.e;var t=w.getTarget(e);if(t&&/INPUT|TEXTAREA|SELECT|OPTION/.test(t.nodeName)){var i=t.getAttribute("type")||t.type||!1;if(!i||!/submit|button|cancel/i.tp)return!0}if(l(t).attr("contenteditable"))return!0;if(w.hasfocus||w.hasmousefocus&&!o||w.ispage&&!o&&!r){var n=e.keyCode;if(w.railslocked&&27!=n)return w.cancelEvent(e);var s=e.ctrlKey||!1,a=e.shiftKey||!1,c=!1;switch(n){case 38:case 63233:w.doScrollBy(72),c=!0;break;case 40:case 63235:w.doScrollBy(-72),c=!0;break;case 37:case 63232:w.railh&&(s?w.doScrollLeft(0):w.doScrollLeftBy(72),c=!0);break;case 39:case 63234:w.railh&&(s?w.doScrollLeft(w.page.maxw):w.doScrollLeftBy(-72),c=!0);break;case 33:case 63276:w.doScrollBy(w.view.h),c=!0;break;case 34:case 63277:w.doScrollBy(-w.view.h),c=!0;break;case 36:case 63273:w.railh&&s?w.doScrollPos(0,0):w.doScrollTo(0),c=!0;break;case 35:case 63275:w.railh&&s?w.doScrollPos(w.page.maxw,w.page.maxh):w.doScrollTo(w.page.maxh),c=!0;break;case 32:w.opt.spacebarenabled&&(a?w.doScrollBy(w.view.h):w.doScrollBy(-w.view.h),c=!0);break;case 27:w.zoomactive&&(w.doZoom(),c=!0)}if(c)return w.cancelEvent(e)}},w.opt.enablekeyboard&&w.bind(document,k.isopera&&!k.isopera12?"keypress":"keydown",w.onkeypress),w.bind(document,"keydown",function(e){var t=e.ctrlKey||!1;t&&(w.wheelprevented=!0)}),w.bind(document,"keyup",function(e){var t=e.ctrlKey||!1;t||(w.wheelprevented=!1)}),w.bind(window,"blur",function(){w.wheelprevented=!1}),w.bind(window,"resize",w.lazyResize),w.bind(window,"orientationchange",w.lazyResize),w.bind(window,"load",w.lazyResize),k.ischrome&&!w.ispage&&!w.haswrapper){var z=w.win.attr("style"),E=parseFloat(w.win.css("width"))+1;w.win.css("width",E),w.synched("chromefix",function(){w.win.attr("style",z)})}w.onAttributeChange=function(){w.lazyResize(w.isieold?250:30)},w.isie11||p===!1||(w.observerbody=new p(function(e){if(e.forEach(function(e){if("attributes"==e.type)return l("body").hasClass("modal-open")&&l("body").hasClass("modal-dialog")&&!l.contains(l(".modal-dialog")[0],w.doc[0])?w.hide():w.show()}),document.body.scrollHeight!=w.page.maxh)return w.lazyResize(30)}),w.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),w.ispage||w.haswrapper||(p!==!1?(w.observer=new p(function(e){e.forEach(w.onAttributeChange)}),w.observer.observe(w.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),w.observerremover=new p(function(e){e.forEach(function(e){if(e.removedNodes.length>0)for(var t in e.removedNodes)if(w&&e.removedNodes[t]==w.win[0])return w.remove()})}),w.observerremover.observe(w.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(w.bind(w.win,k.isie&&!k.isie9?"propertychange":"DOMAttrModified",w.onAttributeChange),k.isie9&&w.win[0].attachEvent("onpropertychange",w.onAttributeChange),w.bind(w.win,"DOMNodeRemoved",function(e){e.target==w.win[0]&&w.remove()}))),!w.ispage&&w.opt.boxzoom&&w.bind(window,"resize",w.resizeZoom),w.istextarea&&(w.bind(w.win,"keydown",w.lazyResize),w.bind(w.win,"mouseup",w.lazyResize)),w.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var M=function(){w.iframexd=!1;var t;try{t="contentDocument"in this?this.contentDocument:this.contentWindow.document;t.domain}catch(e){w.iframexd=!0,t=!1}if(w.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;if(w.forcescreen=!0,w.isiframe&&(w.iframe={doc:l(t),html:w.doc.contents().find("html")[0],body:w.doc.contents().find("body")[0]},w.getContentSize=function(){return{w:Math.max(w.iframe.html.scrollWidth,w.iframe.body.scrollWidth),h:Math.max(w.iframe.html.scrollHeight,w.iframe.body.scrollHeight)}},w.docscroll=l(w.iframe.body)),!k.isios&&w.opt.iframeautoresize&&!w.isiframe){w.win.scrollTop(0),w.doc.height("");var i=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);w.doc.height(i)}w.lazyResize(30),k.isie7&&w.css(l(w.iframe.html),e),w.css(l(w.iframe.body),e),k.isios&&w.haswrapper&&w.css(l(t.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?w.bind(this.contentWindow,"scroll",w.onscroll):w.bind(t,"scroll",w.onscroll),w.opt.enablemousewheel&&w.mousewheel(t,w.onmousewheel),w.opt.enablekeyboard&&w.bind(t,k.isopera?"keypress":"keydown",w.onkeypress),(k.cantouch||w.opt.touchbehavior)&&(w.bind(t,"mousedown",w.ontouchstart),w.bind(t,"mousemove",function(e){return w.ontouchmove(e,!0)}),w.opt.grabcursorenabled&&k.cursorgrabvalue&&w.css(l(t.body),{cursor:k.cursorgrabvalue})),w.bind(t,"mouseup",w.ontouchend),w.zoom&&(w.opt.dblclickzoom&&w.bind(t,"dblclick",w.doZoom),w.ongesturezoom&&w.bind(t,"gestureend",w.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){M.call(w.doc[0],!1)},500),w.bind(this.doc,"load",M)}},this.showCursor=function(e,t){if(w.cursortimeout&&(clearTimeout(w.cursortimeout),w.cursortimeout=0),w.rail){if(w.autohidedom&&(w.autohidedom.stop().css({opacity:w.opt.cursoropacitymax}),w.cursoractive=!0),w.rail.drag&&1==w.rail.drag.pt||(void 0!==e&&e!==!1&&(w.scroll.y=Math.round(1*e/w.scrollratio.y)),void 0!==t&&(w.scroll.x=Math.round(1*t/w.scrollratio.x))),w.cursor.css({height:w.cursorheight,top:w.scroll.y}),w.cursorh){var i=w.hasreversehr?w.scrollvaluemaxw-w.scroll.x:w.scroll.x;!w.rail.align&&w.rail.visibility?w.cursorh.css({width:w.cursorwidth,left:i+w.rail.width}):w.cursorh.css({width:w.cursorwidth,left:i}),w.cursoractive=!0}w.zoom&&w.zoom.stop().css({opacity:w.opt.cursoropacitymax})}},this.hideCursor=function(e){w.cursortimeout||w.rail&&w.autohidedom&&(w.hasmousefocus&&"leave"==w.opt.autohidemode||(w.cursortimeout=setTimeout(function(){w.rail.active&&w.showonmouseevent||(w.autohidedom.stop().animate({opacity:w.opt.cursoropacitymin}),w.zoom&&w.zoom.stop().animate({opacity:w.opt.cursoropacitymin}),w.cursoractive=!1),w.cursortimeout=0},e||w.opt.hidecursordelay)))},this.noticeCursor=function(e,t,i){w.showCursor(t,i),w.rail.active||w.hideCursor(e)},this.getContentSize=w.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:w.haswrapper?function(){return{w:w.doc.outerWidth()+parseInt(w.win.css("paddingLeft"))+parseInt(w.win.css("paddingRight")),h:w.doc.outerHeight()+parseInt(w.win.css("paddingTop"))+parseInt(w.win.css("paddingBottom"))}}:function(){return{w:w.docscroll[0].scrollWidth,h:w.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!w||!w.win)return!1;if(!w.haswrapper&&!w.ispage){if("none"==w.win.css("display"))return w.visibility&&w.hideRail().hideRailHr(),!1;w.hidden||w.visibility||w.showRail().showRailHr()}var i=w.page.maxh,o=w.page.maxw,r={h:w.view.h,w:w.view.w};if(w.view={w:w.ispage?w.win.width():parseInt(w.win[0].clientWidth),h:w.ispage?w.win.height():parseInt(w.win[0].clientHeight)},w.page=t?t:w.getContentSize(),w.page.maxh=Math.max(0,w.page.h-w.view.h),w.page.maxw=Math.max(0,w.page.w-w.view.w),w.page.maxh==i&&w.page.maxw==o&&w.view.w==r.w&&w.view.h==r.h){if(w.ispage)return w;var n=w.win.offset();if(w.lastposition){var s=w.lastposition;if(s.top==n.top&&s.left==n.left)return w}w.lastposition=n}if(0==w.page.maxh?(w.hideRail(),w.scrollvaluemax=0,w.scroll.y=0,w.scrollratio.y=0,w.cursorheight=0,w.setScrollTop(0),w.rail&&(w.rail.scrollable=!1)):(w.page.maxh-=w.opt.railpadding.top+w.opt.railpadding.bottom,w.rail.scrollable=!0),0==w.page.maxw?(w.hideRailHr(),w.scrollvaluemaxw=0,w.scroll.x=0,w.scrollratio.x=0,w.cursorwidth=0,w.setScrollLeft(0),w.railh&&(w.railh.scrollable=!1)):(w.page.maxw-=w.opt.railpadding.left+w.opt.railpadding.right,w.railh&&(w.railh.scrollable=w.opt.horizrailenabled)),w.railslocked=w.locked||0==w.page.maxh&&0==w.page.maxw,w.railslocked)return w.ispage||w.updateScrollBar(w.view),!1;w.hidden||w.visibility?!w.railh||w.hidden||w.railh.visibility||w.showRailHr():w.showRail().showRailHr(),w.istextarea&&w.win.css("resize")&&"none"!=w.win.css("resize")&&(w.view.h-=20),w.cursorheight=Math.min(w.view.h,Math.round(w.view.h*(w.view.h/w.page.h))),w.cursorheight=w.opt.cursorfixedheight?w.opt.cursorfixedheight:Math.max(w.opt.cursorminheight,w.cursorheight),w.cursorwidth=Math.min(w.view.w,Math.round(w.view.w*(w.view.w/w.page.w))),w.cursorwidth=w.opt.cursorfixedheight?w.opt.cursorfixedheight:Math.max(w.opt.cursorminheight,w.cursorwidth),w.scrollvaluemax=w.view.h-w.cursorheight-w.cursor.hborder-(w.opt.railpadding.top+w.opt.railpadding.bottom),w.railh&&(w.railh.width=w.page.maxh>0?w.view.w-w.rail.width:w.view.w,w.scrollvaluemaxw=w.railh.width-w.cursorwidth-w.cursorh.wborder-(w.opt.railpadding.left+w.opt.railpadding.right)),w.ispage||w.updateScrollBar(w.view),w.scrollratio={x:w.page.maxw/w.scrollvaluemaxw,y:w.page.maxh/w.scrollvaluemax};var a=w.getScrollTop();return a>w.page.maxh?w.doScrollTop(w.page.maxh):(w.scroll.y=Math.round(w.getScrollTop()*(1/w.scrollratio.y)),w.scroll.x=Math.round(w.getScrollLeft()*(1/w.scrollratio.x)),w.cursoractive&&w.noticeCursor()),w.scroll.y&&0==w.getScrollTop()&&w.doScrollTo(Math.floor(w.scroll.y*w.scrollratio.y)),w},this.resize=w.onResize,this.hlazyresize=0,this.lazyResize=function(){return w.haswrapper||w.hide(),w.hlazyresize&&clearTimeout(w.hlazyresize),w.hlazyresize=setTimeout(function(){w&&w.show().resize()},240),w},this.jqbind=function(e,t,i){w.events.push({e:e,n:t,f:i,q:!0}),l(e).bind(t,i)},this.mousewheel=function(e,t,i){var o="jquery"in e?e[0]:e;if("onwheel"in document.createElement("div"))w._bind(o,"wheel",t,i||!1);else{var r=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";f(o,r,t,i||!1),"DOMMouseScroll"==r&&f(o,"MozMousePixelScroll",t,i||!1)}},k.haseventlistener?(this.bind=function(e,t,i,o){var r="jquery"in e?e[0]:e;w._bind(r,t,i,o||!1)},this._bind=function(e,t,i,o){w.events.push({e:e,n:t,f:i,b:o,q:!1}),e.addEventListener(t,i,o||!1)},this.cancelEvent=function(e){if(!e)return!1;var e=e.original?e.original:e;return e.cancelable&&e.preventDefault(),e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),!1},this.stopPropagation=function(e){if(!e)return!1;var e=e.original?e.original:e;return e.stopPropagation(),!1},this._unbind=function(e,t,i,o){e.removeEventListener(t,i,o)}):(this.bind=function(e,t,i,o){var r="jquery"in e?e[0]:e;w._bind(r,t,function(e){return e=e||window.event||!1,e&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,
e.pageY=e.clientY+document.documentElement.scrollTop),i.call(r,e)!==!1&&o!==!1||w.cancelEvent(e)})},this._bind=function(e,t,i,o){w.events.push({e:e,n:t,f:i,b:o,q:!1}),e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i},this.cancelEvent=function(e){var e=window.event||!1;return!!e&&(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1)},this.stopPropagation=function(e){var e=window.event||!1;return!!e&&(e.cancelBubble=!0,!1)},this._unbind=function(e,t,i){e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]=!1}),this.unbindAll=function(){for(var e=0;e<w.events.length;e++){var t=w.events[e];t.q?t.e.unbind(t.n,t.f):w._unbind(t.e,t.n,t.f,t.b)}},this.showRail=function(){return 0==w.page.maxh||!w.ispage&&"none"==w.win.css("display")||(w.visibility=!0,w.rail.visibility=!0,w.rail.css("display","block")),w},this.showRailHr=function(){return w.railh?(0==w.page.maxw||!w.ispage&&"none"==w.win.css("display")||(w.railh.visibility=!0,w.railh.css("display","block")),w):w},this.hideRail=function(){return w.visibility=!1,w.rail.visibility=!1,w.rail.css("display","none"),w},this.hideRailHr=function(){return w.railh?(w.railh.visibility=!1,w.railh.css("display","none"),w):w},this.show=function(){return w.hidden=!1,w.railslocked=!1,w.showRail().showRailHr()},this.hide=function(){return w.hidden=!0,w.railslocked=!0,w.hideRail().hideRailHr()},this.toggle=function(){return w.hidden?w.show():w.hide()},this.remove=function(){w.stop(),w.cursortimeout&&clearTimeout(w.cursortimeout);for(var e in w.delaylist)w.delaylist[e]&&d(w.delaylist[e].h);w.doZoomOut(),w.unbindAll(),k.isie9&&w.win[0].detachEvent("onpropertychange",w.onAttributeChange),w.observer!==!1&&w.observer.disconnect(),w.observerremover!==!1&&w.observerremover.disconnect(),w.observerbody!==!1&&w.observerbody.disconnect(),w.events=null,w.cursor&&w.cursor.remove(),w.cursorh&&w.cursorh.remove(),w.rail&&w.rail.remove(),w.railh&&w.railh.remove(),w.zoom&&w.zoom.remove();for(var t=0;t<w.saved.css.length;t++){var i=w.saved.css[t];i[0].css(i[1],void 0===i[2]?"":i[2])}w.saved=!1,w.me.data("__nicescroll","");var o=l.nicescroll;o.each(function(e){if(this&&this.id===w.id){delete o[e];for(var t=++e;t<o.length;t++,e++)o[e]=o[t];o.length--,o.length&&delete o[o.length]}});for(var r in w)w[r]=null,delete w[r];w=null},this.scrollstart=function(e){return this.onscrollstart=e,w},this.scrollend=function(e){return this.onscrollend=e,w},this.scrollcancel=function(e){return this.onscrollcancel=e,w},this.zoomin=function(e){return this.onzoomin=e,w},this.zoomout=function(e){return this.onzoomout=e,w},this.isScrollable=function(e){var t=e.target?e.target:e;if("OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var i=l(t),o=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(o))return t.clientHeight!=t.scrollHeight;t=!!t.parentNode&&t.parentNode}return!1},this.getViewport=function(e){for(var t=!(!e||!e.parentNode)&&e.parentNode;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var i=l(t);if(/fixed|absolute/.test(i.css("position")))return i;var o=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(o)&&t.clientHeight!=t.scrollHeight)return i;if(i.getNiceScroll().length>0)return i;t=!!t.parentNode&&t.parentNode}return!1},this.triggerScrollEnd=function(){if(w.onscrollend){var e=w.getScrollLeft(),t=w.getScrollTop(),i={type:"scrollend",current:{x:e,y:t},end:{x:e,y:t}};w.onscrollend.call(w,i)}},this.onmousewheel=function(e){if(!w.wheelprevented){if(w.railslocked)return w.debounced("checkunlock",w.resize,250),!0;if(w.rail.drag)return w.cancelEvent(e);if("auto"==w.opt.oneaxismousemode&&0!=e.deltaX&&(w.opt.oneaxismousemode=!1),w.opt.oneaxismousemode&&0==e.deltaX&&!w.rail.scrollable)return!w.railh||!w.railh.scrollable||w.onmousewheelhr(e);var t=+new Date,i=!1;if(w.opt.preservenativescrolling&&w.checkarea+600<t&&(w.nativescrollingarea=w.isScrollable(e),i=!0),w.checkarea=t,w.nativescrollingarea)return!0;var o=g(e,!1,i);return o&&(w.checkarea=0),o}},this.onmousewheelhr=function(e){if(!w.wheelprevented){if(w.railslocked||!w.railh.scrollable)return!0;if(w.rail.drag)return w.cancelEvent(e);var t=+new Date,i=!1;return w.opt.preservenativescrolling&&w.checkarea+600<t&&(w.nativescrollingarea=w.isScrollable(e),i=!0),w.checkarea=t,!!w.nativescrollingarea||(w.railslocked?w.cancelEvent(e):g(e,!0,i))}},this.stop=function(){return w.cancelScroll(),w.scrollmon&&w.scrollmon.stop(),w.cursorfreezed=!1,w.scroll.y=Math.round(w.getScrollTop()*(1/w.scrollratio.y)),w.noticeCursor(),w},this.getTransitionSpeed=function(e){var t=Math.round(10*w.opt.scrollspeed),i=Math.min(t,Math.round(e/20*w.opt.scrollspeed));return i>20?i:0},w.opt.smoothscroll?w.ishwscroll&&k.hastransition&&w.opt.usetransition&&w.opt.smoothscroll?(this.prepareTransition=function(e,t){var i=t?e>20?e:0:w.getTransitionSpeed(e),o=i?k.prefixstyle+"transform "+i+"ms ease-out":"";return w.lasttransitionstyle&&w.lasttransitionstyle==o||(w.lasttransitionstyle=o,w.doc.css(k.transitionstyle,o)),i},this.doScrollLeft=function(e,t){var i=w.scrollrunning?w.newscrolly:w.getScrollTop();w.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=w.scrollrunning?w.newscrollx:w.getScrollLeft();w.doScrollPos(i,e,t)},this.doScrollPos=function(e,t,i){var o=w.getScrollTop(),r=w.getScrollLeft();return((w.newscrolly-o)*(t-o)<0||(w.newscrollx-r)*(e-r)<0)&&w.cancelScroll(),0==w.opt.bouncescroll&&(t<0?t=0:t>w.page.maxh&&(t=w.page.maxh),e<0?e=0:e>w.page.maxw&&(e=w.page.maxw)),(!w.scrollrunning||e!=w.newscrollx||t!=w.newscrolly)&&(w.newscrolly=t,w.newscrollx=e,w.newscrollspeed=i||!1,!w.timer&&void(w.timer=setTimeout(function(){var i=w.getScrollTop(),o=w.getScrollLeft(),r={};r.x=e-o,r.y=t-i,r.px=o,r.py=i;var n=Math.round(Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2))),s=w.newscrollspeed&&w.newscrollspeed>1?w.newscrollspeed:w.getTransitionSpeed(n);if(w.newscrollspeed&&w.newscrollspeed<=1&&(s*=w.newscrollspeed),w.prepareTransition(s,!0),w.timerscroll&&w.timerscroll.tm&&clearInterval(w.timerscroll.tm),s>0){if(!w.scrollrunning&&w.onscrollstart){var a={type:"scrollstart",current:{x:o,y:i},request:{x:e,y:t},end:{x:w.newscrollx,y:w.newscrolly},speed:s};w.onscrollstart.call(w,a)}k.transitionend?w.scrollendtrapped||(w.scrollendtrapped=!0,w.bind(w.doc,k.transitionend,w.onScrollTransitionEnd,!1)):(w.scrollendtrapped&&clearTimeout(w.scrollendtrapped),w.scrollendtrapped=setTimeout(w.onScrollTransitionEnd,s));var l=i,c=o;w.timerscroll={bz:new T(l,w.newscrolly,s,0,0,.58,1),bh:new T(c,w.newscrollx,s,0,0,.58,1)},w.cursorfreezed||(w.timerscroll.tm=setInterval(function(){w.showCursor(w.getScrollTop(),w.getScrollLeft())},60))}w.synched("doScroll-set",function(){w.timer=0,w.scrollendtrapped&&(w.scrollrunning=!0),w.setScrollTop(w.newscrolly),w.setScrollLeft(w.newscrollx),w.scrollendtrapped||w.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!w.scrollendtrapped)return!0;var e=w.getScrollTop(),t=w.getScrollLeft();return w.scrollrunning=!1,k.transitionend||clearTimeout(k.transitionend),w.scrollendtrapped=!1,w._unbind(w.doc[0],k.transitionend,w.onScrollTransitionEnd),w.prepareTransition(0),w.setScrollTop(e),w.railh&&w.setScrollLeft(t),w.timerscroll&&w.timerscroll.tm&&clearInterval(w.timerscroll.tm),w.timerscroll=!1,w.cursorfreezed=!1,w.showCursor(e,t),w},this.onScrollTransitionEnd=function(){w.scrollendtrapped&&w._unbind(w.doc[0],k.transitionend,w.onScrollTransitionEnd),w.scrollendtrapped=!1,w.prepareTransition(0),w.timerscroll&&w.timerscroll.tm&&clearInterval(w.timerscroll.tm),w.timerscroll=!1;var e=w.getScrollTop(),t=w.getScrollLeft();return w.setScrollTop(e),w.railh&&w.setScrollLeft(t),w.noticeCursor(!1,e,t),w.cursorfreezed=!1,e<0?e=0:e>w.page.maxh&&(e=w.page.maxh),t<0?t=0:t>w.page.maxw&&(t=w.page.maxw),e!=w.newscrolly||t!=w.newscrollx?w.doScrollPos(t,e,w.opt.snapbackspeed):(w.onscrollend&&w.scrollrunning&&w.triggerScrollEnd(),void(w.scrollrunning=!1))}):(this.doScrollLeft=function(e,t){var i=w.scrollrunning?w.newscrolly:w.getScrollTop();w.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=w.scrollrunning?w.newscrollx:w.getScrollLeft();w.doScrollPos(i,e,t)},this.doScrollPos=function(e,t,i){function o(){if(w.cancelAnimationFrame)return!0;if(w.scrollrunning=!0,h=1-h)return w.timer=u(o)||1;var e,t,i=0,r=t=w.getScrollTop();if(w.dst.ay){r=w.bzscroll?w.dst.py+w.bzscroll.getNow()*w.dst.ay:w.newscrolly;var n=r-t;(n<0&&r<w.newscrolly||n>0&&r>w.newscrolly)&&(r=w.newscrolly),w.setScrollTop(r),r==w.newscrolly&&(i=1)}else i=1;var s=e=w.getScrollLeft();if(w.dst.ax){s=w.bzscroll?w.dst.px+w.bzscroll.getNow()*w.dst.ax:w.newscrollx;var n=s-e;(n<0&&s<w.newscrollx||n>0&&s>w.newscrollx)&&(s=w.newscrollx),w.setScrollLeft(s),s==w.newscrollx&&(i+=1)}else i+=1;2==i?(w.timer=0,w.cursorfreezed=!1,w.bzscroll=!1,w.scrollrunning=!1,r<0?r=0:r>w.page.maxh&&(r=Math.max(0,w.page.maxh)),s<0?s=0:s>w.page.maxw&&(s=w.page.maxw),s!=w.newscrollx||r!=w.newscrolly?w.doScrollPos(s,r):w.onscrollend&&w.triggerScrollEnd()):w.timer=u(o)||1}var t=void 0===t||t===!1?w.getScrollTop(!0):t;if(w.timer&&w.newscrolly==t&&w.newscrollx==e)return!0;w.timer&&d(w.timer),w.timer=0;var r=w.getScrollTop(),n=w.getScrollLeft();((w.newscrolly-r)*(t-r)<0||(w.newscrollx-n)*(e-n)<0)&&w.cancelScroll(),w.newscrolly=t,w.newscrollx=e,w.bouncescroll&&w.rail.visibility||(w.newscrolly<0?w.newscrolly=0:w.newscrolly>w.page.maxh&&(w.newscrolly=w.page.maxh)),w.bouncescroll&&w.railh.visibility||(w.newscrollx<0?w.newscrollx=0:w.newscrollx>w.page.maxw&&(w.newscrollx=w.page.maxw)),w.dst={},w.dst.x=e-n,w.dst.y=t-r,w.dst.px=n,w.dst.py=r;var s=Math.round(Math.sqrt(Math.pow(w.dst.x,2)+Math.pow(w.dst.y,2)));w.dst.ax=w.dst.x/s,w.dst.ay=w.dst.y/s;var a=0,l=s;0==w.dst.x?(a=r,l=t,w.dst.ay=1,w.dst.py=0):0==w.dst.y&&(a=n,l=e,w.dst.ax=1,w.dst.px=0);var c=w.getTransitionSpeed(s);if(i&&i<=1&&(c*=i),c>0?w.bzscroll=w.bzscroll?w.bzscroll.update(l,c):new T(a,l,c,0,1,0,1):w.bzscroll=!1,!w.timer){(r==w.page.maxh&&t>=w.page.maxh||n==w.page.maxw&&e>=w.page.maxw)&&w.checkContentSize();var h=1;if(w.cancelAnimationFrame=!1,w.timer=1,w.onscrollstart&&!w.scrollrunning){var f={type:"scrollstart",current:{x:n,y:r},request:{x:e,y:t},end:{x:w.newscrollx,y:w.newscrolly},speed:c};w.onscrollstart.call(w,f)}o(),(r==w.page.maxh&&t>=r||n==w.page.maxw&&e>=n)&&w.checkContentSize(),w.noticeCursor()}},this.cancelScroll=function(){return w.timer&&d(w.timer),w.timer=0,w.bzscroll=!1,w.scrollrunning=!1,w}):(this.doScrollLeft=function(e,t){var i=w.getScrollTop();w.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=w.getScrollLeft();w.doScrollPos(i,e,t)},this.doScrollPos=function(e,t){var i=e>w.page.maxw?w.page.maxw:e;i<0&&(i=0);var o=t>w.page.maxh?w.page.maxh:t;o<0&&(o=0),w.synched("scroll",function(){w.setScrollTop(o),w.setScrollLeft(i)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,t){var i=0;if(t)i=Math.floor((w.scroll.y-e)*w.scrollratio.y);else{var o=w.timer?w.newscrolly:w.getScrollTop(!0);i=o-e}if(w.bouncescroll){var r=Math.round(w.view.h/2);i<-r?i=-r:i>w.page.maxh+r&&(i=w.page.maxh+r)}w.cursorfreezed=!1;var n=w.getScrollTop(!0);return i<0&&n<=0?w.noticeCursor():i>w.page.maxh&&n>=w.page.maxh?(w.checkContentSize(),w.noticeCursor()):void w.doScrollTop(i)},this.doScrollLeftBy=function(e,t){var i=0;if(t)i=Math.floor((w.scroll.x-e)*w.scrollratio.x);else{var o=w.timer?w.newscrollx:w.getScrollLeft(!0);i=o-e}if(w.bouncescroll){var r=Math.round(w.view.w/2);i<-r?i=-r:i>w.page.maxw+r&&(i=w.page.maxw+r)}w.cursorfreezed=!1;var n=w.getScrollLeft(!0);return i<0&&n<=0?w.noticeCursor():i>w.page.maxw&&n>=w.page.maxw?w.noticeCursor():void w.doScrollLeft(i)},this.doScrollTo=function(e,t){var i=t?Math.round(e*w.scrollratio.y):e;i<0?i=0:i>w.page.maxh&&(i=w.page.maxh),w.cursorfreezed=!1,w.doScrollTop(e)},this.checkContentSize=function(){var e=w.getContentSize();e.h==w.page.h&&e.w==w.page.w||w.resize(!1,e)},w.onscroll=function(){w.rail.drag||w.cursorfreezed||w.synched("scroll",function(){w.scroll.y=Math.round(w.getScrollTop()*(1/w.scrollratio.y)),w.railh&&(w.scroll.x=Math.round(w.getScrollLeft()*(1/w.scrollratio.x))),w.noticeCursor()})},w.bind(w.docscroll,"scroll",w.onscroll),this.doZoomIn=function(e){if(!w.zoomactive){w.zoomactive=!0,w.zoomrestore={style:{}};var t=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],i=w.win[0].style;for(var o in t){var r=t[o];w.zoomrestore.style[r]=void 0!==i[r]?i[r]:""}w.zoomrestore.style.width=w.win.css("width"),w.zoomrestore.style.height=w.win.css("height"),w.zoomrestore.padding={w:w.win.outerWidth()-w.win.width(),h:w.win.outerHeight()-w.win.height()},k.isios4&&(w.zoomrestore.scrollTop=l(window).scrollTop(),l(window).scrollTop(0)),w.win.css({position:k.isios4?"absolute":"fixed",top:0,left:0,zIndex:a+100,margin:0});var n=w.win.css("backgroundColor");return(""==n||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(n))&&w.win.css("backgroundColor","#fff"),w.rail.css({zIndex:a+101}),w.zoom.css({zIndex:a+102}),w.zoom.css("backgroundPosition","0px -18px"),w.resizeZoom(),w.onzoomin&&w.onzoomin.call(w),w.cancelEvent(e)}},this.doZoomOut=function(e){if(w.zoomactive)return w.zoomactive=!1,w.win.css("margin",""),w.win.css(w.zoomrestore.style),k.isios4&&l(window).scrollTop(w.zoomrestore.scrollTop),w.rail.css({"z-index":w.zindex}),w.zoom.css({"z-index":w.zindex}),w.zoomrestore=!1,w.zoom.css("backgroundPosition","0px 0px"),w.onResize(),w.onzoomout&&w.onzoomout.call(w),w.cancelEvent(e)},this.doZoom=function(e){return w.zoomactive?w.doZoomOut(e):w.doZoomIn(e)},this.resizeZoom=function(){if(w.zoomactive){var e=w.getScrollTop();w.win.css({width:l(window).width()-w.zoomrestore.padding.w+"px",height:l(window).height()-w.zoomrestore.padding.h+"px"}),w.onResize(),w.setScrollTop(Math.min(w.page.maxh,e))}},this.init(),l.nicescroll.push(this)},b=function(e){var t=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.time=function(){return+new Date},this.reset=function(e,i){t.stop();var o=t.time();t.steptime=0,t.lasttime=o,t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=i,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,i){var o=t.time();t.steptime=o-t.lasttime,t.lasttime=o;var r=i-t.lasty,n=e-t.lastx,s=t.nc.getScrollTop(),a=t.nc.getScrollLeft(),l=s+r,c=a+n;t.snapx=c<0||c>t.nc.page.maxw,t.snapy=l<0||l>t.nc.page.maxh,t.speedx=n,t.speedy=r,t.lastx=e,t.lasty=i},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,i){var o=!1;i<0?(i=0,o=!0):i>t.nc.page.maxh&&(i=t.nc.page.maxh,o=!0),e<0?(e=0,o=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,o=!0),o?t.nc.doScrollPos(e,i,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()},this.doMomentum=function(e){var i=t.time(),o=e?i+e:t.lasttime,r=t.nc.getScrollLeft(),n=t.nc.getScrollTop(),s=t.nc.page.maxh,a=t.nc.page.maxw;t.speedx=a>0?Math.min(60,t.speedx):0,t.speedy=s>0?Math.min(60,t.speedy):0;var l=o&&i-o<=60;(n<0||n>s||r<0||r>a)&&(l=!1);var c=!(!t.speedy||!l)&&t.speedy,u=!(!t.speedx||!l)&&t.speedx;if(c||u){var d=Math.max(16,t.steptime);if(d>50){var h=d/50;t.speedx*=h,t.speedy*=h,d=50}t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var f=t.lastscrollx,p=t.lastscrolly,m=function(){var e=t.time()-i>600?.04:.02;t.speedx&&(f=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=f,(f<0||f>a)&&(e=.1)),t.speedy&&(p=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=p,(p<0||p>s)&&(e=.1)),t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",function(){if(t.speedx){t.nc.getScrollLeft();t.chkx=f,t.nc.setScrollLeft(f)}if(t.speedy){t.nc.getScrollTop();t.chky=p,t.nc.setScrollTop(p)}t.timer||(t.nc.hideCursor(),t.doSnapy(f,p))}),t.demulxy<1?t.timer=setTimeout(m,d):(t.stop(),t.nc.hideCursor(),t.doSnapy(f,p))};m()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},y=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e){var t=l.data(e,"__nicescroll")||!1;return t&&t.ishwscroll?t.getScrollTop():y.call(e)},set:function(e,t){var i=l.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(t)):y.call(e,t),this}},e.fn.scrollTop=function(e){if(void 0===e){var t=!!this[0]&&(l.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollTop():y.call(this)}return this.each(function(){var t=l.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(e)):y.call(l(this),e)})};var _=e.fn.scrollLeft;l.cssHooks.pageXOffset={get:function(e){var t=l.data(e,"__nicescroll")||!1;return t&&t.ishwscroll?t.getScrollLeft():_.call(e)},set:function(e,t){var i=l.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(t)):_.call(e,t),this}},e.fn.scrollLeft=function(e){if(void 0===e){var t=!!this[0]&&(l.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollLeft():_.call(this)}return this.each(function(){var t=l.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):_.call(l(this),e)})};var x=function(e){var t=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){return l.each(t,e),t},this.push=function(e){t[t.length]=e,t.length++},this.eq=function(e){return t[e]},e)for(var i=0;i<e.length;i++){var o=l.data(e[i],"__nicescroll")||!1;o&&(this[this.length]=o,this.length++)}return this};i(x.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}}),e.fn.getNiceScroll=function(e){return void 0===e?new x(this):this[e]&&l.data(this[e],"__nicescroll")||!1},e.expr[":"].nicescroll=function(e){return void 0!==l.data(e,"__nicescroll")},l.fn.niceScroll=function(e,t){void 0!==t||"object"!=typeof e||"jquery"in e||(t=e,e=!1),t=l.extend({},t);var i=new x;void 0===t&&(t={}),e&&(t.doc=l(e),t.win=l(this));var o=!("doc"in t);return o||"win"in t||(t.win=l(this)),this.each(function(){var e=l(this).data("__nicescroll")||!1;e||(t.doc=o?l(this):t.doc,e=new w(t,l(this)),l(this).data("__nicescroll",e)),i.push(e)}),1==i.length?i[0]:i},window.NiceScroll={getjQuery:function(){return e}},l.nicescroll||(l.nicescroll=new x,l.nicescroll.options=m)}),function(e){"use strict";function t(e,t){var i=(65535&e)+(65535&t),o=(e>>16)+(t>>16)+(i>>16);return o<<16|65535&i}function i(e,t){return e<<t|e>>>32-t}function o(e,o,r,n,s,a){return t(i(t(t(o,e),t(n,a)),s),r)}function r(e,t,i,r,n,s,a){return o(t&i|~t&r,e,t,n,s,a)}function n(e,t,i,r,n,s,a){return o(t&r|i&~r,e,t,n,s,a)}function s(e,t,i,r,n,s,a){return o(t^i^r,e,t,n,s,a)}function a(e,t,i,r,n,s,a){return o(i^(t|~r),e,t,n,s,a)}function l(e,i){e[i>>5]|=128<<i%32,e[(i+64>>>9<<4)+14]=i;var o,l,c,u,d,h=1732584193,f=-271733879,p=-1732584194,m=271733878;for(o=0;o<e.length;o+=16)l=h,c=f,u=p,d=m,h=r(h,f,p,m,e[o],7,-680876936),m=r(m,h,f,p,e[o+1],12,-389564586),p=r(p,m,h,f,e[o+2],17,606105819),f=r(f,p,m,h,e[o+3],22,-1044525330),h=r(h,f,p,m,e[o+4],7,-176418897),m=r(m,h,f,p,e[o+5],12,1200080426),p=r(p,m,h,f,e[o+6],17,-1473231341),f=r(f,p,m,h,e[o+7],22,-45705983),h=r(h,f,p,m,e[o+8],7,1770035416),m=r(m,h,f,p,e[o+9],12,-1958414417),p=r(p,m,h,f,e[o+10],17,-42063),f=r(f,p,m,h,e[o+11],22,-1990404162),h=r(h,f,p,m,e[o+12],7,1804603682),m=r(m,h,f,p,e[o+13],12,-40341101),p=r(p,m,h,f,e[o+14],17,-1502002290),f=r(f,p,m,h,e[o+15],22,1236535329),h=n(h,f,p,m,e[o+1],5,-165796510),m=n(m,h,f,p,e[o+6],9,-1069501632),p=n(p,m,h,f,e[o+11],14,643717713),f=n(f,p,m,h,e[o],20,-373897302),h=n(h,f,p,m,e[o+5],5,-701558691),m=n(m,h,f,p,e[o+10],9,38016083),p=n(p,m,h,f,e[o+15],14,-660478335),f=n(f,p,m,h,e[o+4],20,-405537848),h=n(h,f,p,m,e[o+9],5,568446438),m=n(m,h,f,p,e[o+14],9,-1019803690),p=n(p,m,h,f,e[o+3],14,-187363961),f=n(f,p,m,h,e[o+8],20,1163531501),h=n(h,f,p,m,e[o+13],5,-1444681467),m=n(m,h,f,p,e[o+2],9,-51403784),p=n(p,m,h,f,e[o+7],14,1735328473),f=n(f,p,m,h,e[o+12],20,-1926607734),h=s(h,f,p,m,e[o+5],4,-378558),m=s(m,h,f,p,e[o+8],11,-2022574463),p=s(p,m,h,f,e[o+11],16,1839030562),f=s(f,p,m,h,e[o+14],23,-35309556),h=s(h,f,p,m,e[o+1],4,-1530992060),m=s(m,h,f,p,e[o+4],11,1272893353),p=s(p,m,h,f,e[o+7],16,-155497632),f=s(f,p,m,h,e[o+10],23,-1094730640),h=s(h,f,p,m,e[o+13],4,681279174),m=s(m,h,f,p,e[o],11,-358537222),p=s(p,m,h,f,e[o+3],16,-722521979),f=s(f,p,m,h,e[o+6],23,76029189),h=s(h,f,p,m,e[o+9],4,-640364487),m=s(m,h,f,p,e[o+12],11,-421815835),p=s(p,m,h,f,e[o+15],16,530742520),f=s(f,p,m,h,e[o+2],23,-995338651),h=a(h,f,p,m,e[o],6,-198630844),m=a(m,h,f,p,e[o+7],10,1126891415),p=a(p,m,h,f,e[o+14],15,-1416354905),f=a(f,p,m,h,e[o+5],21,-57434055),h=a(h,f,p,m,e[o+12],6,1700485571),m=a(m,h,f,p,e[o+3],10,-1894986606),p=a(p,m,h,f,e[o+10],15,-1051523),f=a(f,p,m,h,e[o+1],21,-2054922799),h=a(h,f,p,m,e[o+8],6,1873313359),m=a(m,h,f,p,e[o+15],10,-30611744),p=a(p,m,h,f,e[o+6],15,-1560198380),f=a(f,p,m,h,e[o+13],21,1309151649),h=a(h,f,p,m,e[o+4],6,-145523070),m=a(m,h,f,p,e[o+11],10,-1120210379),p=a(p,m,h,f,e[o+2],15,718787259),f=a(f,p,m,h,e[o+9],21,-343485551),h=t(h,l),f=t(f,c),p=t(p,u),m=t(m,d);return[h,f,p,m]}function c(e){var t,i="",o=32*e.length;for(t=0;t<o;t+=8)i+=String.fromCharCode(e[t>>5]>>>t%32&255);return i}function u(e){var t,i=[];for(i[(e.length>>2)-1]=void 0,t=0;t<i.length;t+=1)i[t]=0;var o=8*e.length;for(t=0;t<o;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return i}function d(e){return c(l(u(e),8*e.length))}function h(e,t){var i,o,r=u(e),n=[],s=[];for(n[15]=s[15]=void 0,r.length>16&&(r=l(r,8*e.length)),i=0;i<16;i+=1)n[i]=909522486^r[i],s[i]=1549556828^r[i];return o=l(n.concat(u(t)),512+8*t.length),c(l(s.concat(o),640))}function f(e){var t,i,o="0123456789abcdef",r="";for(i=0;i<e.length;i+=1)t=e.charCodeAt(i),r+=o.charAt(t>>>4&15)+o.charAt(15&t);return r}function p(e){return unescape(encodeURIComponent(e))}function m(e){return d(p(e))}function g(e){return f(m(e))}function v(e,t){return h(p(e),p(t))}function w(e,t){return f(v(e,t))}function b(e,t,i){return t?i?v(t,e):w(t,e):i?m(e):g(e)}"function"==typeof define&&define.amd?define(function(){return b}):"object"==typeof module&&module.exports?module.exports=b:e.md5=b}(this),function(){var e;e=function(){function e(){this.previous_scroll_left=0,this.scroll_left=0,this.window_previous_scroll_left=0,this.window_scroll_left=0,this.window_scroll_left_delta=0,this.scroll_left_delta=0}return e.prototype.update_values=function(e){return null==e&&(e={}),this.previous_scroll_left=this.scroll_left,e.scroll_left>=0&&(this.scroll_left=e.scroll_left),this.scroll_left_delta=this.scroll_left-this.previous_scroll_left,this.window_previous_scroll_left=this.window_scroll_left,e.window_scroll_left>=0&&(this.window_scroll_left=e.window_scroll_left),this.window_scroll_left_delta=this.window_scroll_left-this.window_previous_scroll_left,this.trigger_updated()},e.prototype.was_updated=function(){return Math.abs(this.scroll_left_delta)>1},e.prototype.scroll_value=function(){return this.scrollable_scene.scrollLeft},e.prototype.trigger_updated=function(){return $(this).trigger("updated")},e}(),window.about_scroll_storage=new e}.call(this),function(){window.test_scroll_to=function(e){return $("@scenes_container").trigger("mousewheel",[0,0,-e])},window.start_speed_test=function(){var e,t;for(console.log("test start"),t=Date.now(),e=0;e<200;)e++,console.log(e),test_scroll_to(e);return console.log("Time: "+(Date.now()-t))}}.call(this),function(){window.on_init_func_arr=[],window.about_scroll_ready=!1,window.on_init_push=function(){return function(e){return window.on_init_func_arr.push(e)}}(this),window.on_init=function(){return function(){return $(document).ready(function(){return $("html, body").scrollTop(0),$(window).on("load",function(){return setTimeout(function(){return window.on_init_start()},0),setTimeout(function(){return window.on_init_start(),$(window).trigger("about_before_init"),setTimeout(function(){return window.about_scroll_ready=!0,$(window).trigger("about_after_init")},config.about.load.animate_speed)},100)})})}}(this),window.on_init_start=function(){return function(){var e,t,i,o,r,n;for(r=window.on_init_func_arr,n=[],t=i=0,o=r.length;i<o;t=++i)e=r[t],n.push(e());return n}}(this)}.call(this),function(){window.config={about:{load:{animate_speed:1200},mouse_scroll_step:30,key_scroll_step:30,scroll_offset:50,girl:{move_delay:5,move_speed:.04},title:{scroll_k:3},cycle:{speed_k:3.3},registry_office:{girl_way_size:1,close_gates_way_size:80,blackout_way_size:40,open_gates_way_size:80,cycle_scroll_way_size:300,return_way_size:50,way_size:610}}}}.call(this),function(){var e,t;e=$(document),t=$(window),e.ready(function(){var e,t;return e=$("@location"),t=$("@map"),e.click(function(){return e.toggleClass("selected"),t.toggleClass("second").attr("href",$(this).data("url")),!1}),$("@count_dresses").click(function(){return $("body").trigger("show_silhouttes_menu")})})}.call(this),function(){var e,t;e={facebook:{width:554,height:500},twitter:{width:600,height:250},vkontakte:{width:600,height:400},odnoklassniki:{width:550,height:360},pinterest:{width:630,height:270}},t=function(){function t(e){this.root=e,this.prepare_sharer("facebook"),this.prepare_sharer("twitter"),this.prepare_sharer("vkontakte"),this.prepare_sharer("odnoklassniki"),this.prepare_sharer("pinterest")}return t.prototype.prepare_sharer=function(t){var i;return i=this.root.find("@"+t),i.click(function(o){return function(r){return r.preventDefault(),o.open_popup(t,i.attr("href"),e[t].width,e[t].height)}}(this))},t.prototype.open_popup=function(e,t,i,o){var r,n,s;return r=Math.round(screen.width/2-i/2),n=0,screen.height>o&&(n=Math.round(screen.height/3-o/2)),s=window.open(t,"sl_"+e,"left="+r+",top="+n+",width="+i+",height="+o+",personalbar=0,toolbar=0,scrollbars=1,resizable=1"),s?s.focus():window.location.href=t},t}(),$(document).ready(function(){return new t($("@social_shares"))})}.call(this),function(){var e,t,i,o,r;e=37,t=39,o=function(e,t){var i,o;if(o=$(e),null!=(i=o.attr("href"))&&"#"!==i)return t.preventDefault(),window.location=i},r=function(i){if(i.altKey===!0)switch(i.keyCode){case e:return o("@previous_page",i);case t:return o("@next_page",i)}},i=$(document),i.ready(function(){return i.keydown(r)})}.call(this),function(){var e;e=function(){function e(){}return e.prototype.preorder_dress_view=function(){var e;return null!=(e=window.yaCounter)&&"function"==typeof e.reachGoal?e.reachGoal("preorder_dress_view"):void 0},e.prototype.email_click=function(){if("undefined"!=typeof ga&&null!==ga)return ga("send","event","E-mail","click",window.analytics_email)},e.prototype.turn_button_click=function(){if("undefined"!=typeof ga&&null!==ga)return ga("send","event","Buttons","click","turn_button")},e.prototype.phone_click=function(e){var t;if("undefined"!=typeof ga&&null!==ga)return t=function(){switch(e){case"header":return"phone_up";case"footer":return"phone_down"}}(),null!=t?ga("send","event","telephones","click",t):void 0},e.prototype.fitting_button_click=function(){return this.append_double_click_floodlight_tag(),"samara"!==window.city.id()&&"volgograd"!==window.city.id()||"function"==typeof fbq&&fbq("track","Lead",{value:1}),"function"==typeof ga?ga("send","event","forms","fitting_open","fitting_step1"):void 0},e.prototype.social_network_icon_click=function(e){var t;if("undefined"!=typeof ga&&null!==ga)return t=function(){switch(e){case"fb":return"to_facebook";case"vk":return"to_VK";case"insta":return"to_instagram"}}(),null!=t?ga("send","event","Links","link_out",t):void 0},e.prototype.yandex_map_location_change_click=function(e){var t;if("undefined"!=typeof ga&&null!==ga)return t=function(){switch(e){case"komsomolskiy":return"map_komsomolskiy";case"kutuzovskiy":return"map_kutuzovskiy";case"veskovoy":return"map_veskovoy"}}(),null!=t?ga("send","event","Links","link_in",t):void 0},e.prototype.yandex_map_click=function(){if("undefined"!=typeof ga&&null!==ga)return ga("send","event","Links","link_out","to_yandex_map")},e.prototype.append_double_click_floodlight_tag=function(){var e;return e='<!--\nStart of DoubleClick Floodlight Tag: Please do not remove\nActivity name of this tag: Marytrufel_conversion\nURL of the webpage where the tag is expected to be placed: http://marytrufel.ru\nThis tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.\nCreation Date: 03/10/2017\n-->\n<iframe src="https://6640906.fls.doubleclick.net/activityi;src=6640906;type=sales;cat=whd8g55v;qty=[Quantity];cost=[Revenue];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=[OrderID]?" width="1" height="1" frameborder="0" style="display:none"></iframe>\n<!-- End of DoubleClick Floodlight Tag: Please do not remove -->',$("body").append(e)},e}(),window.analytics=new e}.call(this),function(){evil.block("@@news_link",{init:function(){var e;return e=this.block.find("span.a"),this.block.hover(function(){return e.addClass("hover")},function(){return e.removeClass("hover")})}})}.call(this),function(){evil.block("@@order_form",{init:function(){return this.email.val(localStorage.getItem("order_email"))},"keyup on @message":function(){return this.validate(this.message,this.isValidMessage)},"keyup on @email":function(){if(this.isValidEmail(this.email.val()))return this.setValid(this.email)},validate:function(e,t){var i;return i=e.val(),t(i)?this.setValid(e):this.setInvalid(e)},"submit.rails on @order_form":function(e){var t,i;return this.isValidForm()?(null!=this.dress_id&&null!=(t=window.criteo)&&t.trackTransaction(this.dress_id.val()+"_"+(null!=(i=window.city)?i.id():void 0)),localStorage.setItem("order_email",this.email.val())):(e.preventDefault(),e.stopPropagation(),!1)},isValidEmail:function(e){return/^([a-zA-Z0-9\.\-_]+)?[a-zA-Z0-9]+@[a-zA-Z0-9-_]+(\.[a-zA-Z0-9]+){1,}$/.test(e)},isValidMessage:function(e){return""!==e},isValidForm:function(){return this.isValidMessage(this.message.val())?!!this.isValidEmail(this.email.val())||(this.setInvalid(this.email),this.email.focus(),!1):(this.setInvalid(this.message),this.message.focus(),!1)},setValid:function(e){return e.removeClass("invalid")},setInvalid:function(e){return e.addClass("invalid")}})}.call(this),function(){evil.block("@@subscribe_form",{init:function(){var e,t;if((null!=(t=e=localStorage.getItem("subscribe_email"))?t.length:void 0)>0)return this.email.val(e).focus().blur(),this.subscribe_button.prop("disabled",!0).addClass("disabled")},"keyup on @email":function(){if(""===this.email.val()&&(this.setValid(this.email),this.subscribe_button.prop("disabled",!1).removeClass("disabled")),this.isValidEmail(this.email.val()))return this.setValid(this.email)},"submit.rails on @subscribe_form":function(e){return this.isValidForm()?localStorage.setItem("subscribe_email",this.email.val()):(e.preventDefault(),e.stopPropagation(),!1)},validate:function(e,t){var i;return i=e.val(),t(i)?this.setValid(e):this.setInvalid(e)},isValidEmail:function(e){return/^([a-zA-Z0-9\.\-_]+)?[a-zA-Z0-9]+@[a-zA-Z0-9-_]+(\.[a-zA-Z0-9]+){1,}$/.test(e)},isValidForm:function(){return!!this.isValidEmail(this.email.val())||(this.setInvalid(this.email),this.email.focus(),!1)},setValid:function(e){return e.removeClass("invalid")},setInvalid:function(e){return e.addClass("invalid")}})}.call(this),function(){evil.block("@@photo-animate",{init:function(){var e,t;return this.delta=this.block.data("delta")||0,this.stattOffset=parseInt(this.block.css("left")),this.offsetTop=this.offsetBlock(),this.document=$(document),e=0,t=setInterval(function(i){return function(){if(i.offsetTop===i.offsetBlock()&&(e+=1),i.offsetTop=i.offsetBlock(),10===e)return clearInterval(t)}}(this),100)},"resize on widow":function(){return this.offsetTop=this.offsetBlock()},"orientationchange on window":function(){return this.offsetTop=this.offsetBlock()},"scroll on window":function(){return this.animate(this.offset())},offsetBlock:function(){return this.block.offset().top-this.block.height()/2+this.delta},animate:function(e){return this.stattOffset>=e?e=this.stattOffset:e>=880&&(e=880),this.block.css({left:e+"px"}),e>=880?this.block.addClass("hide"):this.block.removeClass("hide")},offset:function(){return 4*(this.document.scrollTop()-this.offsetTop)}})}.call(this),function(){evil.block("@@offer_feature",{init:function(){return this.spans=this.block.find("span"),this.update_block_width()},"resize on window":function(){return this.update_block_width()},update_block_width:function(){var e,t;return this.block.width("auto"),t=this.spans.map(function(){return $(this).width()}).toArray(),e=t.sort()[0],null==e&&(e="auto"),this.block.width(e)}})}.call(this),function(){evil.block("@@js_content",{init:function(){var e,t;return e=this.block.data("attr"),t=this.block.data("content"),this.block.data("reversed")&&(t=t.split("").reverse().join("")),e?void this.block.attr(e,t):this.block.text(t);
}})}.call(this),function(){var e;e=function(){function e(){}return e.prototype.add=function(e){var t;if(null!=(t=window.city)?t.isFavouritesEnabled():void 0)return null!=e&&($.post(Routes.favourites_path({dress_id:e})),!0)},e}(),window.visited_dresses=new e}.call(this),function(){evil.block("@@dress",{init:function(){var e;return this.dress_id=this.block.data("id"),"visible"===document.visibilityState?window.visited_dresses.add(this.dress_id):(e=function(t){return function(){if("visible"===document.visibilityState)return window.visited_dresses.add(t.dress_id),document.removeEventListener("visibilitychange",e)}}(this),document.addEventListener("visibilitychange",e,!1))}})}.call(this),function(){evil.block("@@dress-fav",{init:function(){return this.dress_id=this.block.data("id"),window.favourite_dresses.ready&&this.show(),this.block.hover(function(){},function(e){return function(){return e.block.removeClass("dress__fav_nohover")}}(this))},"favourite_dresses:ready on window":function(){return this.show()},"click on @fav_text":function(e){return this.handleClick(e)},"on click":function(e){return this.handleClick(e)},handleClick:function(e){var t;return e.preventDefault(),t=this.isAtFavouritesPage()?{update_favourites:1}:{},window.favourite_dresses.toggle(this.dress_id,t),window.favourite_dresses.exists(this.dress_id)&&this.block.addClass("dress__fav_nohover"),this.updateFavorites()},updateFavorites:function(){var e,t;return window.favourite_dresses.exists(this.dress_id)?(null!=(e=this.fav_text)&&e.text("\u0412 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445"),this.block.addClass("dress__fav_already-in-favorites").attr("title","\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437\xa0\u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445")):this.isAtFavouritesPage()?void 0:(null!=(t=this.fav_text)&&t.text("\u0412 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435"),this.block.removeClass("dress__fav_already-in-favorites").attr("title","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\xa0\u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435"))},show:function(){return this.updateFavorites(),this.block.removeClass("dress__fav_hidden")},isAtFavouritesPage:function(){return $("@favourite_dresses_container").length>0}})}.call(this),function(){evil.block("@@favourite_dresses_panel",{mobile_version_width_breakpoint:993,init:function(){if(this.$window=$(window),this.dress_id=this.block.data("dress-id"),this.maximized=!1,this.favourite_dresses_panel_toggler.hover(function(e){return function(){return e.favourite_dresses_panel_toggler.addClass("dress__favourite-dresses-panel__toggler_hover")}}(this),function(e){return function(){return e.favourite_dresses_panel_toggler.removeClass("dress__favourite-dresses-panel__toggler_hover")}}(this)),this.block.hasClass("dress__favourite-dresses-panel_ready")||window.requestAnimationFrame(function(e){return function(){if(e.block.addClass("dress__favourite-dresses-panel_ready"),!e.maximized&&(e.atFavouritesPage()&&!e.atMobile()||!e.atFavouritesPage()))return window.requestAnimationFrame(function(){return e.maximize()})}}(this)),this.atFavouritesPage()&&!this.atMobile())return this.border=$("@footer").offset().top,window.requestAnimationFrame(function(e){return function(){return e.border=$("@footer").offset().top,e.freezed=!1,e.update_freeze()}}(this))},"on update_freeze":function(){return this.border=$("@footer").offset().top,this.freezed=!1,this.update_freeze({force:!0})},"click on @favourite_dresses_panel_toggler":function(){if(this.isToggable())return this.maximized?this.atFavouritesPage()&&this.atMobile()?this.minimize():this.destroy():this.maximize()},"favourite_dresses:remove on window":function(e,t){var i;if(i=t.dress_id,this.dress_id===i)return this.destroy()},"resize on window":function(){if(this.atFavouritesPage())return this.border=$("@footer").offset().top,window.requestAnimationFrame(function(e){return function(){return e.border=$("@footer").offset().top}}(this)),this.atMobile()?(this.freezed=!0,this.unfreeze()):(this.block.hasClass("dress__favourite-dresses-panel_minimized")&&(this.block.removeClass("dress__favourite-dresses-panel_minimized"),this.maximized=!0),this.update_freeze())},"scroll on window":function(){if(this.atFavouritesPage())return this.update_freeze()},update_freeze:function(){var e;if(!this.atMobile())return e=this.$window.scrollTop()+this.$window.height(),e>this.border?this.freeze():this.unfreeze()},freeze:function(){var e;if(!this.freezed)return e=this.border,e-=this.atMobile()?303:145,this.block.css({position:"absolute",top:e+"px"}),this.freezed=!0},unfreeze:function(){if(this.freezed)return this.block.css({position:"fixed",top:"auto"}),this.freezed=!1},maximize:function(){return this.block.removeClass("dress__favourite-dresses-panel_minimized"),null==this.email||this.atMobile()||setTimeout(function(e){return function(){return e.email.focus()}}(this),250),this.maximized=!0},minimize:function(){return this.block.addClass("dress__favourite-dresses-panel_minimized"),this.maximized=!1},toggle:function(){return this.maximized?this.minimize():this.maximize()},destroy:function(){return this.block.removeClass("dress__favourite-dresses-panel_ready"),this.maximized&&window.requestAnimationFrame(function(e){return function(){return e.minimize()}}(this)),setTimeout(function(e){return function(){return $(e.block).trigger("destroyed"),e.block.remove()}}(this),250)},isToggable:function(){return!this.atFavouritesPage()||this.atMobile()},atMobile:function(){var e;return e=navigator.userAgent.indexOf("Chrome/")>0?window.innerWidth:document.documentElement.clientWidth,e<this.mobile_version_width_breakpoint},atFavouritesPage:function(){return $("@favourite_dresses_container").length>0}})}.call(this),function(){evil.block("@@notification_panel",{"on destroyed":function(){return this.destroy_notification()},"click on @favourite_link":function(){return this.destroy_notification()},destroy_notification:function(){var e;return e=this.block.data("notification-id"),$.post(Routes.favourites_notification_path(e),{_method:"delete"})}})}.call(this),function(){evil.block("@@favourite_login_form",{init:function(){return this.prev_email=this.email.val(),""===this.prev_email&&(this.prev_email=void 0),this.restoreFromStorage()},"blur on @email":function(){if(!this.validateEmail()&&""===this.email.val())return this.markAsValid()},"change paste keyup on @email":function(){if(this.isValidEmail(this.email.val())&&this.saveToStorage(),null!=this.prev_email&&(this.email.val()===this.prev_email?this.submit.addClass("dress__favourite-dresses-panel__submit_retry"):this.submit.removeClass("dress__favourite-dresses-panel__submit_retry")),this.email.hasClass("dress__favourite-dresses-panel__input_invalid"))return this.markAsValid()},"on invalid":function(){return this.markAsInvalid(),this.email.focus()},"on submit.rails":function(e){return this.isValidForm()?(this.block.data("same-email",this.email.val()===this.prev_email),this.block.data("same-email")?this.animateSameEmailRetry():void 0):(e.preventDefault(),e.stopPropagation(),this.email.focus(),!1)},isValidForm:function(){return this.validateEmail()},isValidEmail:function(e){return/^([a-zA-Z0-9\.\-_]+)?[a-zA-Z0-9]+@[a-zA-Z0-9-_]+(\.[a-zA-Z0-9]+){1,}$/.test(e)},validateEmail:function(){return this.isValidEmail(this.email.val())?(this.markAsValid(),!0):(this.markAsInvalid(),!1)},markAsValid:function(){return this.email.removeClass("dress__favourite-dresses-panel__input_invalid"),this.submit.removeClass("dress__favourite-dresses-panel__submit_unavailable")},markAsInvalid:function(){return this.email.addClass("dress__favourite-dresses-panel__input_invalid"),this.submit.addClass("dress__favourite-dresses-panel__submit_unavailable")},animateSameEmailRetry:function(){var e;return e=this.block.parent(),e.addClass("dress__favourite-dresses-panel__email_hide"),setTimeout(function(){return e.addClass("dress__favourite-dresses-panel__email_above-the-top").removeClass("dress__favourite-dresses-panel__email_hide"),setTimeout(function(){return e.addClass("dress__favourite-dresses-panel__email_show"),setTimeout(function(){return e.removeClass("dress__favourite-dresses-panel__email_above-the-top").removeClass("dress__favourite-dresses-panel__email_show")},300)},10)},300)},saveToStorage:function(){return localStorage.setItem("favouriteEmail",this.email.val())},restoreFromStorage:function(){return this.email.val(localStorage.getItem("favouriteEmail"))}})}.call(this),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Clipboard=e()}}(function(){var e;return function e(t,i,o){function r(s,a){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(n)return n(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[s]={exports:{}};t[s][0].call(u.exports,function(e){var i=t[s][1][e];return r(i?i:e)},u,u.exports,e,t,i,o)}return i[s].exports}for(var n="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(e,t){function i(e,t){for(;e&&e.nodeType!==o;){if(e.matches(t))return e;e=e.parentNode}}var o=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=i},{}],2:[function(e,t){function i(e,t,i,r,n){var s=o.apply(this,arguments);return e.addEventListener(i,s,n),{destroy:function(){e.removeEventListener(i,s,n)}}}function o(e,t,i,o){return function(i){i.delegateTarget=r(i.target,t),i.delegateTarget&&o.call(e,i)}}var r=e("./closest");t.exports=i},{"./closest":1}],3:[function(e,t,i){i.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},i.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||i.node(e[0]))},i.string=function(e){return"string"==typeof e||e instanceof String},i.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},{}],4:[function(e,t){function i(e,t,i){if(!e&&!t&&!i)throw new Error("Missing required arguments");if(!s.string(t))throw new TypeError("Second argument must be a String");if(!s.fn(i))throw new TypeError("Third argument must be a Function");if(s.node(e))return o(e,t,i);if(s.nodeList(e))return r(e,t,i);if(s.string(e))return n(e,t,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(e,t,i){return e.addEventListener(t,i),{destroy:function(){e.removeEventListener(t,i)}}}function r(e,t,i){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,i)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,i)})}}}function n(e,t,i){return a(document.body,e,t,i)}var s=e("./is"),a=e("delegate");t.exports=i},{"./is":3,delegate:2}],5:[function(e,t){function i(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var i=e.hasAttribute("readonly");i||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),i||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var o=window.getSelection(),r=document.createRange();r.selectNodeContents(e),o.removeAllRanges(),o.addRange(r),t=o.toString()}return t}t.exports=i},{}],6:[function(e,t){function i(){}i.prototype={on:function(e,t,i){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:i}),this},once:function(e,t,i){function o(){r.off(e,o),t.apply(i,arguments)}var r=this;return o._=t,this.on(e,o,i)},emit:function(e){var t=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),o=0,r=i.length;for(o;o<r;o++)i[o].fn.apply(i[o].ctx,t);return this},off:function(e,t){var i=this.e||(this.e={}),o=i[e],r=[];if(o&&t)for(var n=0,s=o.length;n<s;n++)o[n].fn!==t&&o[n].fn._!==t&&r.push(o[n]);return r.length?i[e]=r:delete i[e],this}},t.exports=i},{}],7:[function(t,i,o){!function(r,n){if("function"==typeof e&&e.amd)e(["module","select"],n);else if("undefined"!=typeof o)n(i,t("select"));else{var s={exports:{}};n(s,r.select),r.clipboardAction=s.exports}}(this,function(e,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=i(t),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),a=function(){function e(t){o(this,e),this.resolveOptions(t),this.initSelection()}return s(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,r["default"])(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r["default"])(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==("undefined"==typeof e?"undefined":n(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=a})},{select:5}],8:[function(t,i,o){!function(r,n){if("function"==typeof e&&e.amd)e(["module","./clipboard-action","tiny-emitter","good-listener"],n);else if("undefined"!=typeof o)n(i,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var s={exports:{}};n(s,r.clipboardAction,r.tinyEmitter,r.goodListener),r.clipboard=s.exports}}(this,function(e,t,i,o){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var i="data-clipboard-"+e;if(t.hasAttribute(i))return t.getAttribute(i)}var c=r(t),u=r(i),d=r(o),h=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),f=function(e){function t(e,i){n(this,t);var o=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.resolveOptions(i),o.listenClick(e),o}return a(t,e),h(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,d["default"])(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c["default"]({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return l("action",e)}},{key:"defaultTarget",value:function(e){var t=l("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return l("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,i=!!document.queryCommandSupported;return t.forEach(function(e){i=i&&!!document.queryCommandSupported(e)}),i}}]),t}(u["default"]);e.exports=f})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),function(){evil.block("@@favourites-share",{mobile_version_width_breakpoint:993,init:function(){return this.default_text=this.text.text(),this.client=new Clipboard(this.toggler[0])},"mouseenter on @toggler":function(){return this.toggler.addClass("favourites-share__toggler__hovered")},"mouseleave on @toggler":function(){if(this.toggler.removeClass("favourites-share__toggler__hovered"),this.toggler.hasClass("favourites-share__toggler__copied"))return this.hide_hint()},"click tap scroll on window":function(e){if(!$(e.target).is(this.block)&&!$(e.target).parents().is(this.block)&&this.atMobile()&&this.toggler.hasClass("favourites-share__toggler__copied"))return this.hide_hint()},hide_hint:function(){return this.text.text(this.default_text),this.hint.addClass("invisible").addClass("favourites-share__hint_hidden"),this.toggler.removeClass("favourites-share__toggler__copied")},"click on @toggler":function(){return this.toggler.addClass("favourites-share__toggler__hovered"),this.text.text("\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430"),this.toggler.addClass("favourites-share__toggler__copied"),this.hint.removeClass("invisible").removeClass("favourites-share__hint_hidden")},atMobile:function(){var e;return e=navigator.userAgent.indexOf("Chrome/")>0?window.innerWidth:document.documentElement.clientWidth,e<this.mobile_version_width_breakpoint}})}.call(this),function(){evil.block("@@visited_dress",{init:function(){return this.dress_id=this.block.data("dress-id"),this.updateHoverable(),this.block.on("click",function(e){return function(t){if(t.preventDefault(),!e.isFavourited())return window.favourite_dresses.add(e.dress_id,{update_favourites:1}),e.updateHoverable(),e.block.removeClass("hover")}}(this)),this.block.hover(function(e){return function(){if(!e.isFavourited())return e.block.addClass("hover")}}(this),function(e){return function(){if(!e.isFavourited())return e.block.removeClass("hover")}}(this))},"favourite_dresses:remove on window":function(){return this.updateHoverable()},updateHoverable:function(){return window.favourite_dresses.exists(this.dress_id)?this.block.addClass("non-hoverable favourites__visited-dresses__dress_favorited"):this.block.removeClass("non-hoverable favourites__visited-dresses__dress_favorited")},isFavourited:function(){return $("@favourite_dress[data-dress-id='"+this.dress_id+"']").length>0}})}.call(this),function(){var e;e=function(){function e(){this.dresses={},this.ready=!1,this.load()}return e.prototype.merge=function(e){var t,i,o;if(!this.ready)throw"FavouriteDresses is not ready";for(i=0,o=e.length;i<o;i++)t=e[i],this.exists(t)||(this.dresses[t]=!0);return this.save,!0},e.prototype.add=function(e,t){if(null==t&&(t={}),!this.ready)throw"FavouriteDresses is not ready";return null!=e&&(!this.dresses[e]&&(this.dresses[e]=!0,$.post(Routes.favourite_dress_path(e,t)),this.dispatch("favourite_dresses:add",{dress_id:e}),!0))},e.prototype.remove=function(e,t){if(null==t&&(t={}),!this.ready)throw"FavouriteDresses is not ready";return null!=e&&(null!=this.dresses[e]&&(delete this.dresses[e],$.post(Routes.favourite_dress_path(e,t),{_method:"delete"}),this.dispatch("favourite_dresses:remove",{dress_id:e}),!0))},e.prototype.exists=function(e){return this.dresses[e]===!0},e.prototype.toggle=function(e,t){return null==t&&(t={}),this.exists(e)?this.remove(e,t):this.add(e,t)},e.prototype.dispatch=function(e,t){return $(document).trigger(e,[t])},e.prototype.load=function(){var e,t,i,o,r,n,s;if(null!=(s=window.city)?s.isFavouritesEnabled():void 0){if(this.isAtFavouritesPage()){for(t=$("@@dress-fav").map(function(){return $(this).data("id")}).toArray(),i=0,o=t.length;i<o;i++)e=t[i],this.dresses[e]=!0;return this.ready=!0,this.dispatch("favourite_dresses:ready")}return n={format:"js"},r=window.location.toString().match(/token=([^&]*)/),null!=(null!=r?r[1]:void 0)&&(n.token=r[1]),$.getScript(Routes.favourites_path(n),function(e){return function(){return e.ready=!0,e.dispatch("favourite_dresses:ready")}}(this))}},e.prototype.isAtFavouritesPage=function(){return $("@favourite_dresses_container").length>0},e}(),window.favourite_dresses=new e}.call(this),function(){var e,t,i,o,r,n,s,a;for(o=document.querySelectorAll("[data-role~=lazyload]"),e=0,r=o.length;e<r;e++)i=o[e],a=null!=(n=i.dataset)?n.sizeImages:void 0,t=null!=(s=i.dataset)?s.images:void 0,isMobile.any?(null!=a&&(a=JSON.parse(i.dataset.sizeImages),null!=a.mobile.width&&i.setAttribute("width",a.mobile.width),null!=a.mobile.height&&i.setAttribute("height",a.mobile.height)),null!=t&&(t=JSON.parse(i.dataset.images),i.setAttribute("data-srcset",t.mobile.normal+", "+t.mobile.retina),i.setAttribute("data-src",t.mobile.normal.replace(" 1x","").replace(" 2x","")))):(null!=a&&(a=JSON.parse(i.dataset.sizeImages),null!=a.desktop.width&&i.setAttribute("width",a.desktop.width),null!=a.desktop.height&&i.setAttribute("height",a.desktop.height)),null!=t&&(t=JSON.parse(i.dataset.images),i.setAttribute("data-srcset",t.desktop.normal+", "+t.desktop.retina),i.setAttribute("data-src",t.desktop.normal.replace(" 1x","").replace(" 2x","")))),i.removeAttribute("data-size-images"),i.removeAttribute("data-images")}.call(this),function(e,t){var i=t(e,e.document);e.lazySizes=i,"object"==typeof module&&module.exports&&(module.exports=i)}(window,function(e,t){"use strict";if(t.getElementsByClassName){var i,o,r=t.documentElement,n=e.Date,s=e.HTMLPictureElement,a="addEventListener",l="getAttribute",c=e[a],u=e.setTimeout,d=e.requestAnimationFrame||u,h=e.requestIdleCallback,f=/^picture$/i,p=["load","error","lazyincluded","_lazyloaded"],m={},g=Array.prototype.forEach,v=function(e,t){return m[t]||(m[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),m[t].test(e[l]("class")||"")&&m[t]},w=function(e,t){v(e,t)||e.setAttribute("class",(e[l]("class")||"").trim()+" "+t)},b=function(e,t){var i;(i=v(e,t))&&e.setAttribute("class",(e[l]("class")||"").replace(i," "))},y=function(e,t,i){var o=i?a:"removeEventListener";i&&y(e,t),p.forEach(function(i){e[o](i,t)})},_=function(e,o,r,n,s){var a=t.createEvent("CustomEvent");return r||(r={}),r.instance=i,a.initCustomEvent(o,!n,!s,r),e.dispatchEvent(a),a},x=function(t,i){var r;!s&&(r=e.picturefill||o.pf)?r({reevaluate:!0,elements:[t]}):i&&i.src&&(t.src=i.src)},k=function(e,t){return(getComputedStyle(e,null)||{})[t]},S=function(e,t,i){for(i=i||e.offsetWidth;i<o.minSize&&t&&!e._lazysizesWidth;)i=t.offsetWidth,t=t.parentNode;return i},T=function(){var e,i,o=[],r=[],n=o,s=function(){var t=n;for(n=o.length?r:o,e=!0,i=!1;t.length;)t.shift()();e=!1},a=function(o,r){e&&!r?o.apply(this,arguments):(n.push(o),i||(i=!0,(t.hidden?u:d)(s)))};return a._lsFlush=s,a}(),z=function(e,t){return t?function(){T(e)}:function(){var t=this,i=arguments;T(function(){e.apply(t,i)})}},E=function(e){var t,i=0,r=125,s=o.ricTimeout,a=function(){t=!1,i=n.now(),e()},l=h&&o.ricTimeout?function(){h(a,{timeout:s}),s!==o.ricTimeout&&(s=o.ricTimeout)}:z(function(){u(a)},!0);return function(e){var o;(e=e===!0)&&(s=33),t||(t=!0,o=r-(n.now()-i),o<0&&(o=0),e||o<9&&h?l():u(l,o))}},M=function(e){var t,i,o=99,r=function(){t=null,e()},s=function(){var e=n.now()-i;e<o?u(s,o-e):(h||r)(r)};return function(){i=n.now(),t||(t=u(s,o))}};!function(){var t,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:300};o=e.lazySizesConfig||e.lazysizesConfig||{};for(t in i)t in o||(o[t]=i[t]);e.lazySizesConfig=o,u(function(){o.init&&A()})}();var C=function(){var s,d,h,p,m,S,C,A,O,I,P,R,D,F,j=/^img$/i,B=/^iframe$/i,H="onscroll"in e&&!/glebot/.test(navigator.userAgent),Y=0,X=0,N=0,W=-1,q=function(e){N--,e&&e.target&&y(e.target,q),(!e||N<0||!e.target)&&(N=0)},$=function(e,i){var o,n=e,s="hidden"==k(t.body,"visibility")||"hidden"!=k(e,"visibility");for(A-=i,P+=i,O-=i,I+=i;s&&(n=n.offsetParent)&&n!=t.body&&n!=r;)s=(k(n,"opacity")||1)>0,s&&"visible"!=k(n,"overflow")&&(o=n.getBoundingClientRect(),s=I>o.left&&O<o.right&&P>o.top-1&&A<o.bottom+1);return s},V=function(){var e,n,a,c,u,h,f,m,g,v=i.elements;if((p=o.loadMode)&&N<8&&(e=v.length)){n=0,W++,null==D&&("expand"in o||(o.expand=r.clientHeight>500&&r.clientWidth>500?500:370),R=o.expand,D=R*o.expFactor),X<D&&N<1&&W>2&&p>2&&!t.hidden?(X=D,W=0):X=p>1&&W>1&&N<6?R:Y;for(;n<e;n++)if(v[n]&&!v[n]._lazyRace)if(H)if((m=v[n][l]("data-expand"))&&(h=1*m)||(h=X),g!==h&&(S=innerWidth+h*F,C=innerHeight+h,f=h*-1,g=h),a=v[n].getBoundingClientRect(),(P=a.bottom)>=f&&(A=a.top)<=C&&(I=a.right)>=f*F&&(O=a.left)<=S&&(P||I||O||A)&&(o.loadHidden||"hidden"!=k(v[n],"visibility"))&&(d&&N<3&&!m&&(p<3||W<4)||$(v[n],h))){if(te(v[n]),u=!0,N>9)break}else!u&&d&&!c&&N<4&&W<4&&p>2&&(s[0]||o.preloadAfterLoad)&&(s[0]||!m&&(P||I||O||A||"auto"!=v[n][l](o.sizesAttr)))&&(c=s[0]||v[n]);else te(v[n]);c&&!u&&te(c)}},U=E(V),K=function(e){w(e.target,o.loadedClass),b(e.target,o.loadingClass),y(e.target,Q),_(e.target,"lazyloaded")},Z=z(K),Q=function(e){Z({target:e.target})},G=function(e,t){try{e.contentWindow.location.replace(t)}catch(i){e.src=t}},J=function(e){var t,i=e[l](o.srcsetAttr);(t=o.customMedia[e[l]("data-media")||e[l]("media")])&&e.setAttribute("media",t),i&&e.setAttribute("srcset",i)},ee=z(function(e,t,i,r,n){var s,a,c,d,p,m;(p=_(e,"lazybeforeunveil",t)).defaultPrevented||(r&&(i?w(e,o.autosizesClass):e.setAttribute("sizes",r)),a=e[l](o.srcsetAttr),s=e[l](o.srcAttr),n&&(c=e.parentNode,d=c&&f.test(c.nodeName||"")),m=t.firesLoad||"src"in e&&(a||s||d),p={target:e},m&&(y(e,q,!0),clearTimeout(h),h=u(q,2500),w(e,o.loadingClass),y(e,Q,!0)),d&&g.call(c.getElementsByTagName("source"),J),a?e.setAttribute("srcset",a):s&&!d&&(B.test(e.nodeName)?G(e,s):e.src=s),n&&(a||d)&&x(e,{src:s})),e._lazyRace&&delete e._lazyRace,b(e,o.lazyClass),T(function(){(!m||e.complete&&e.naturalWidth>1)&&(m?q(p):N--,K(p))},!0)}),te=function(e){var t,i=j.test(e.nodeName),r=i&&(e[l](o.sizesAttr)||e[l]("sizes")),n="auto"==r;(!n&&d||!i||!e[l]("src")&&!e.srcset||e.complete||v(e,o.errorClass)||!v(e,o.lazyClass))&&(t=_(e,"lazyunveilread").detail,n&&L.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,N++,ee(e,t,n,r,i))},ie=function(){if(!d){if(n.now()-m<999)return void u(ie,999);var e=M(function(){o.loadMode=3,U()});d=!0,o.loadMode=3,U(),c("scroll",function(){3==o.loadMode&&(o.loadMode=2),e()},!0)}};return{_:function(){m=n.now(),i.elements=t.getElementsByClassName(o.lazyClass),s=t.getElementsByClassName(o.lazyClass+" "+o.preloadClass),F=o.hFac,c("scroll",U,!0),c("resize",U,!0),e.MutationObserver?new MutationObserver(U).observe(r,{childList:!0,subtree:!0,attributes:!0}):(r[a]("DOMNodeInserted",U,!0),r[a]("DOMAttrModified",U,!0),setInterval(U,999)),c("hashchange",U,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){t[a](e,U,!0)}),/d$|^c/.test(t.readyState)?ie():(c("load",ie),t[a]("DOMContentLoaded",U),u(ie,2e4)),i.elements.length?(V(),T._lsFlush()):U()},checkElems:U,unveil:te}}(),L=function(){var e,i=z(function(e,t,i,o){var r,n,s;if(e._lazysizesWidth=o,o+="px",e.setAttribute("sizes",o),f.test(t.nodeName||""))for(r=t.getElementsByTagName("source"),n=0,s=r.length;n<s;n++)r[n].setAttribute("sizes",o);i.detail.dataAttr||x(e,i.detail)}),r=function(e,t,o){var r,n=e.parentNode;n&&(o=S(e,n,o),r=_(e,"lazybeforesizes",{width:o,dataAttr:!!t}),r.defaultPrevented||(o=r.detail.width,o&&o!==e._lazysizesWidth&&i(e,n,r,o)))},n=function(){var t,i=e.length;if(i)for(t=0;t<i;t++)r(e[t])},s=M(n);return{_:function(){e=t.getElementsByClassName(o.autosizesClass),c("resize",s)},checkElems:s,updateElem:r}}(),A=function(){A.i||(A.i=!0,L._(),C._())};return i={cfg:o,autoSizer:L,loader:C,init:A,uP:x,aC:w,rC:b,hC:v,fire:_,gW:S,rAF:T}}}),function(){evil.block("@@fotorama",{init:function(){return this.fotorama=this.fotorama_generic.fotorama().data("fotorama"),this.show_photos_on_mirror_frame_load()},update_mirror_link:function(){var e;return e=this.fotorama_generic.find(".fotorama__active").find("a").addClass("hover"),this.mirror.attr("href",e.attr("href"))},"fotorama:show on @fotorama_generic":function(e,t){var i;return this.dot.removeClass("active").eq(t.activeIndex).addClass("active"),i=t.activeFrame.$stageFrame.find("a"),this.mirror.attr("href",i.attr("href")),this.fotorama_generic.find("a").removeClass("hover")},"fotorama:showend on @fotorama_generic":function(){return this.update_mirror_link(),this.fotorama_generic.find("a").removeClass("hover")},"mouseover on @mirror":function(){return this.fotorama_generic.find("a").removeClass("hover"),this.update_mirror_link()},"mouseout on @mirror":function(){return this.fotorama_generic.find("a").removeClass("hover"),this.mirror.removeAttr("href")},"click on @left":function(e){return e.preventDefault(),this.fotorama.show("<")},"click on @right":function(e){return e.preventDefault(),this.fotorama.show(">")},"click on @dot":function(e){return e.preventDefault(),this.fotorama.show($(e.currentTarget).data("index"))},background_image_url:function(e){var t,i;return t=$(e).css("background-image"),i=t.match(/\((.*?)\)/)[1].replace(/('|")/g,"")},preload_image:function(e){var t,i;return t=new Image,i=$.Deferred(),$(t).on("load error",function(){return setTimeout(function(){return i.resolve()},0)}),t.src=e,i.promise()},show_photos_on_mirror_frame_load:function(){var e,t,i;return e=this.front_image.eq(0),t=e[0].currentSrc||e.attr("src"),i=[this.preload_image(this.background_image_url(this.mirror_front)),this.preload_image(this.background_image_url(this.mirror_frame)),this.preload_image(t),this.preload_image(this.background_image_url(this.line_left)),this.preload_image(this.background_image_url(this.line_right)),this.preload_image(this.background_image_url(this.line_tail_1)),this.preload_image(this.background_image_url(this.line_tail_2)),this.preload_image(this.background_image_url(this.line_center))],
$.when.apply($,i).then(function(e){return function(){return e.fotorama_generic.addClass("show"),e.block.addClass("with-line")}}(this))}})}.call(this),function(){var e;e=$(document),e.ready(function(){return $("body").height()<e.height()&&$(window).width()>992&&$("@content").css("minHeight",e.height()-$("@footer").height()),$(".sticky").Stickyfill(),setTimeout(function(){return $("@@favourite_dresses_panel").trigger("update_freeze")},100)})}.call(this);