if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}(function(bA,t,a8){var aX=false,F="125",b1=42,p=bA.roistatHost,ai="0.2",N="1.0",b8="roistat_visit_cookie_expire",bu="roistat_visit",av="roistat_first_visit",S="roistat_is_need_listen_requests",cv="roistat_phone",ah="roistat_referrer",cb="roistat_marker",aM="roistat_marker_old",ce="roistat_referrer_old",a3="roistat_ab",bR="rs",u="roistat",J="leadhunter_expire",z=5*60*60,a9="roistat_leadHunterEnabled",aJ="roistat_multiwidgetEnabled",bm="roistat_multiwidgetVKEnabled",A="roistat_multiwidgetFBEnabled",bO="roistat_multiwidgetTelegramEnabled",bX="roistat_onlineChatEnabled",d=7*24*60*60,b3={expires:d,path:"/"},O="roistat-promo",U="roistat-phone",s="roistat-phone-country",P="roistat-phone-region",v="roistat-phone-number",co="roistat-phone-tel",be="country",ao="region",aQ="number",bp="tel",k="roistat_call_tracking",G="roistat-js-script",a1="roistat_phone_replacement",aR="roistat_phone_script_data",b0="roistat-visit-id",aw="roistat_metrika_counter_id",g="roistat_marker_from_referrer",a0="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",bb="roistat_emailtracking_emails",cq="roistat_proxy_forms",b5="roistat_isMultiDomain",bU=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],bv="roistat_debug",az="roistat_settings_saved",bG="nocookie",ax=["yandex.ru"],af="beta_test";var ch=p.replace(/^cloud\./,"");var cc="collector."+ch;var bl={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};
var bw={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false};var b2={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[]};if(bA.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}bA.roistatAlreadyStarted=true;if(bA.roistatCookieDomain){b3.domain=bA.roistatCookieDomain}bA.roistat={version:F,getSource:function(){return bw.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(cA){bw.visitFromUser=cA},registerOnVisitProcessedCallback:function(cA){bN(cA)},registerOnCalltrackingPhoneReceivedCallback:function(cA){aY(cA)},disableCallTracking:function(){bl.callTrackingEnabled=false},setCallTrackingManualMode:function(){bl.callTrackingManual=true},setJSONPRequestTimeout:function(cA){bl.jsonpRequestTimeout=cA},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){o("Warning: used emailtracking refresh before module init")}},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null,},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null,}},onlineChat:{isEnabled:true,},multiwidget:{isEnabled:true,vk:{isEnabled:false,link:null,},fb:{isEnabled:false,link:null,},telegram:{isEnabled:false,link:null,},},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},authClientById:function(cA){ad(cA,a8)},authClientByEmail:function(cA){ad(a8,cA)}};var ad=function(cA,cD){if(!bw.isVisitProcessed){o("Visit is not processed, return");return}var cE=cA!==a8&&cA.length>0,cH=cD!==a8&&cD.length>0;if(!cE&&!cH){o("Invalid client params, return");return}var cF=l();if(cF<=0){o("Invalid arguments, return");return}var cG="roistat_authorized_client",cI=by.get(cG),cC=cE?cA:cD;if(cI===cC){o('Client "'+cC+'" is already authorized, return');return}o("Auth client: "+cC);by.set(cG,cC);var cB=y()+"/update-visit-by-client?visit="+cF+"&v="+F;if(cE){cB+="&client_id="+encodeURIComponent(cA)}if(cH){cB+="&client_email="+encodeURIComponent(cD)}au(cB)};var cj=function(cD,cB){var cC=cD.length;for(var cA=0;cA<cC;cA++){if(cB===cD[cA]){return true}}return false};var K=function(){return h(af)>0};var aC=function(){return bA.roistatProjectId};var bQ=function(){return aC().replace(/\D/g,"")};var aT=function(cA){var cB=bQ();return cj(cA,cB)};var bW=function(cA){return JSON.parse(JSON.stringify(cA))};var a4=function(){var cB=bW(b3),cA=parseInt(by.get(b8));cB.expires=cA>0?cA:d;return cB};var bN=function(cA){if(!bw.isVisitProcessed){b2.onVisitProcessed.push(cA)}else{cA()}};var bY=function(){bw.isVisitProcessed=true;o("[Roistat] visit id set. Processing callbacks");var cB=b2.onVisitProcessed.length;for(var cA=0;cA<cB;cA++){b2.onVisitProcessed[cA]()}if(bA.roistatVisitCallback!==a8){bA.roistatVisitCallback(bA.roistat.getVisit())}};var aY=function(cA){b2.onCallTrackingPhoneReceived.push(cA)};var ci=function(){var cB=b2.onCallTrackingPhoneReceived.length;for(var cA=0;cA<cB;cA++){b2.onCallTrackingPhoneReceived[cA]()}};var aa=function aa(cA){b2.onSPAPageChanged.push(cA)};var bs=function bs(){o("[Roistat] SPA page changed. Processing callbacks");var cB=b2.onSPAPageChanged.length;for(var cA=0;cA<cB;cA++){b2.onSPAPageChanged[cA]()}};var Q=function(cE,cD){var cC=cE.className.split(" "),cB=false,cA;for(cA=0;cA<cC.length;cA++){if(cC[cA]===cD){cB=true;break}}if(!cB){cC.push(cD);cE.className=cC.join(" ")}};var bt=function(cD,cC){var cB=cD.className.split(" "),cA;for(cA=0;cA<cB.length;cA++){if(cB[cA]===cC){cB.splice(cA,1);cD.className=cB.join(" ");break}}};var ae=function(cB){try{return decodeURIComponent(cB)}catch(cC){var cA;cA=q(cB);if(cA===null){return cB}return cA}};var bj={visitor_uid:function(){o("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!cz(bA.AMOPIXEL_IDENTIFIER)||!C(bA.AMOPIXEL_IDENTIFIER.getVisitorUid)){o("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var cA=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!ay(cA)){o("AmoCrmUID: visitor_uid value must be a string");return null}return cA}};var ac=function(){for(var cB in bj){var cA=bj[cB]();if(cA===null){continue}cp(cB,cA,b3)}};var aN=function(){return["_ym_uid","_ga"].concat(w(bj))};var q=function(cE){var cD={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};
var cB="";var cC=0;while(cC<cE.length){var cA=cE.substring(cC,cC+3);if(Object.prototype.hasOwnProperty.call(cD,cA)){cB+=cD[cA];cC+=3}else{cB+=cE.substring(cC,cC+1);cC++}}try{return decodeURIComponent(cB)}catch(cF){return null}};bA.roistatVersion=F;var a2,E=[],bK=aT(["4227995881258865037","215381773260016033586","15824408914062546506955"]),i,bI=true,bM=t.location.href,aO="",at="",aV=new Date().getTime(),ca=false,bT=bA.roistatPhonePrefix?bA.roistatPhonePrefix:"",cw=bA.roistatPhonePrefixBind?bA.roistatPhonePrefixBind:"",B=bA.roistatCalltrackingScripts&&bA.roistatCalltrackingScripts.join?bA.roistatCalltrackingScripts.join(","):"";var h,cp;h=bA.roistatGetCookie=function(cA){var cB=t.cookie.match(new RegExp("(?:^|; )"+cA.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return cB?ae(cB[1]):a8};cp=bA.roistatSetCookie=function(cD,cF,cC){cC=cC||{};var cB=cC.expires;if(typeof cB=="number"&&cB){var cH=new Date();cH.setTime(cH.getTime()+cB*1000);cB=cC.expires=cH}if(cB&&cB.toUTCString){cC.expires=cB.toUTCString()}cF=encodeURIComponent(cF);var cA=cD+"="+cF;for(var cE in cC){cA+="; "+cE;var cG=cC[cE];if(cG!==true){cA+="="+cG}}t.cookie=cA};var a7=function(cB,cD,cC){var cA=cB[cD];cB[cD]=function(){if(cA){cA.apply(this,arguments)}cC.apply(this,arguments)}};var M=function(cC,cB,cD){if(cC.addEventListener){cC.addEventListener(cB,cD,false);return}var cA="on"+cB;if(cC.attachEvent){cC.attachEvent(cA,cD);return}if(cA in cC){a7(cC,cA,cD);return}if(cB in cC){a7(cC,cB,cD);return}o("Handler could not be attached")};var m=function(cD,cC){var cB=cD.length;for(var cA=0;cA<cB;cA++){cC(cD[cA])}};var w=function(cA){var cB=[];aU(cA,function(cC,cD){cB.push(cC)});return cB};var aU=function(cA,cC){for(var cB in cA){if(Object.prototype.hasOwnProperty.call(cA,cB)){cC(cB,cA[cB])}}};var aZ=function(cA){return Object.prototype.toString.call(cA)==="[object Array]"};var ap=function(cB){if(typeof cB!=="object"){return false}for(var cA in cB){if(cB.hasOwnProperty(cA)){return true}}return false};var cl=function(cB){try{var cA=JSON.parse(cB);if(cA&&typeof cA==="object"){return cA}}catch(cC){}return null};if(t.getElementsByClassName==a8){t.getElementsByClassName=function(cB){var cA=[];var cF=new RegExp("\\b"+cB+"\\b");var cE=this.getElementsByTagName("*");for(var cD=0;cD<cE.length;cD++){var cC=cE[cD].className;if(cF.test(cC)){cA.push(cE[cD])}}return cA}}var ag=function(){return String.fromCharCode};var bZ=function(cC){var cA="";for(var cB=0;cB<cC.length;++cB){cA+=ag()(b1^cC.charCodeAt(cB))}return cA};var am=function(cA){return encodeURIComponent(bZ(bD.encode(cA)))};var bD={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(cC){var cA="";var cJ,cH,cF,cI,cG,cE,cD;var cB=0;cC=bD._utf8_encode(cC);while(cB<cC.length){cJ=cC.charCodeAt(cB++);cH=cC.charCodeAt(cB++);cF=cC.charCodeAt(cB++);cI=cJ>>2;cG=((cJ&3)<<4)|(cH>>4);cE=((cH&15)<<2)|(cF>>6);cD=cF&63;if(isNaN(cH)){cE=cD=64}else{if(isNaN(cF)){cD=64}}cA=cA+this._keyStr.charAt(cI)+this._keyStr.charAt(cG)+this._keyStr.charAt(cE)+this._keyStr.charAt(cD)}return cA},decode:function(cC){var cA="";var cJ,cH,cF;var cI,cG,cE,cD;var cB=0;cC=cC.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(cB<cC.length){cI=this._keyStr.indexOf(cC.charAt(cB++));cG=this._keyStr.indexOf(cC.charAt(cB++));cE=this._keyStr.indexOf(cC.charAt(cB++));cD=this._keyStr.indexOf(cC.charAt(cB++));cJ=(cI<<2)|(cG>>4);cH=((cG&15)<<4)|(cE>>2);cF=((cE&3)<<6)|cD;cA=cA+String.fromCharCode(cJ);if(cE!=64){cA=cA+String.fromCharCode(cH)}if(cD!=64){cA=cA+String.fromCharCode(cF)}}cA=bD._utf8_decode(cA);return cA},_utf8_encode:function(cB){cB=cB.replace(/\r\n/g,"\n");var cA="";for(var cD=0;cD<cB.length;cD++){var cC=cB.charCodeAt(cD);if(cC<128){cA+=String.fromCharCode(cC)}else{if((cC>127)&&(cC<2048)){cA+=String.fromCharCode((cC>>6)|192);cA+=String.fromCharCode((cC&63)|128)}else{cA+=String.fromCharCode((cC>>12)|224);cA+=String.fromCharCode(((cC>>6)&63)|128);cA+=String.fromCharCode((cC&63)|128)}}}return cA},_utf8_decode:function(cA){var cC="";var cE=0;var cF=0;var cD=0;var cB=0;while(cE<cA.length){cF=cA.charCodeAt(cE);if(cF<128){cC+=String.fromCharCode(cF);cE++}else{if((cF>191)&&(cF<224)){cD=cA.charCodeAt(cE+1);cC+=String.fromCharCode(((cF&31)<<6)|(cD&63));cE+=2}else{cD=cA.charCodeAt(cE+1);cB=cA.charCodeAt(cE+2);cC+=String.fromCharCode(((cF&15)<<12)|((cD&63)<<6)|(cB&63));cE+=3}}}return cC}};var a5=function(){return t[ag()(99,111,111,107,105,101)]};var W=function(){cs();var cA={c:cf()};return am(JSON.stringify(cA))};var bP=function(){var cA=l();return(cA===a8||cA===null)?bG:cA};var cf=function(){var cA=[];for(var cB in bw.cookies){if(!Object.prototype.hasOwnProperty.call(bw.cookies,cB)){continue}cA.push(cB+"="+bw.cookies[cB])}return cA.join("; ")};var cs=function(){var cA=j();for(var cB in cA){if(!Object.prototype.hasOwnProperty.call(cA,cB)){continue}bw.cookies[cB]=cA[cB]}};var V=function(cA){cp(cb,cA,a4());bw.source.marker=cA};var R=function(){return h(cb)};var e=function(){aU(bA.roistat.page.params,function(cB,cA){bw.pageParams[cB]=cA
})};var j=function(){var cD=a5();var cE=cD.split("; ");var cA={};for(var cC=0;cC<cE.length;cC++){var cH=cE[cC];if(cH===""){continue}var cB=cH.split("=");if(cB.length<2){continue}var cG=cB[0].trim();var cF=cB[1].trim();cA[cG]=cF}return cA};var f=function(){return ag()(104,97,115,104)};var an=function(cA){return cA.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var br={isAvailable:function(){var cA=false;if(!bA.sessionStorage||!bA.sessionStorage.setItem||!bA.sessionStorage.getItem||!bA.sessionStorage.removeItem){return cA}try{bA.sessionStorage.setItem("testKey","testValue");cA=bA.sessionStorage.getItem("testKey")==="testValue";bA.sessionStorage.removeItem("testKey")}catch(cB){return false}return cA},remove:function(cA){if(this.isAvailable()){bA.sessionStorage.removeItem(cA)}},setObject:function(cA,cB){if(this.isAvailable()){bA.sessionStorage.setItem(cA,JSON.stringify(cB))}},getObject:function(cB){var cA=null;if(this.isAvailable()){cA=bA.sessionStorage.getItem(cB);cA=JSON.parse(cA)}return cA},set:function(cA,cB){if(this.isAvailable()){bA.sessionStorage.setItem(cA,cB)}},get:function(cB){var cA=null;if(this.isAvailable()){cA=bA.sessionStorage.getItem(cB)}return cA}};var by={isAvailable:function(){var cA=false;if(!bA.localStorage||!bA.localStorage.setItem||!bA.localStorage.getItem||!bA.localStorage.removeItem){return cA}try{bA.localStorage.setItem("testKey","testValue");cA=bA.localStorage.getItem("testKey")==="testValue";bA.localStorage.removeItem("testKey")}catch(cB){return false}return cA},remove:function(cB){if(this.isAvailable()){bA.localStorage.removeItem(cB)}else{var cA=new Date(1970,1,1);cp(cB,"",{expires:cA.toUTCString()})}},setObject:function(cA,cB){if(this.isAvailable()){localStorage.setItem(cA,JSON.stringify(cB))}},getObject:function(cB){var cA=null;if(this.isAvailable()){cA=localStorage.getItem(cB);cA=cl(cA)}return cA},set:function(cA,cB){if(this.isAvailable()){localStorage.setItem(cA,cB)}else{cp(cA,cB,b3)}},save:function(cB,cC,cA){if(this.isAvailable()){localStorage.setItem(cB,cC)}cp(cB,cC,cA)},get:function(cB){var cA=null;if(this.isAvailable()){cA=localStorage.getItem(cB)}if(cA===null){cA=h(cB)}return cA}};var bo=function(){return !bn(t.referrer)?t.referrer:null};var C=function(cA){return typeof cA==="function"};var cz=function(cA){return typeof cA==="object"};var ay=function(cA){return typeof cA==="string"};var H=function(cD,cC){cC=typeof cC!=="undefined"?cC:false;var cE=function(cH){var cG=null;var cI=new RegExp("[#&?]("+cD+"=[^#&?]+)");if(cI.test(cH)){cG=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var cF=ae(cG);return cG&&cF?cF:cG};var cA=cE(bM);if(cC){var cB=t.referrer;if(cA===null&&cB){cA=cE(cB)}}return cA};var cg=function(cB,cC){var cA=false;if(cB&&cC){cA=cB.split(cC).join("")!==cB}return cA};if(H(bv)==="1"||j()[bv]==="1"){aX=true}var aI=function(){if("https:"===t.location.protocol){return"https:"}else{return"http:"}};var D=function(cB){var cA=t.createElement("img");cA.src=cB;o("sendRequestByUrl: "+cB)};var au=function(cB){o("sendApiRequestJSONP: init with url "+cB);var cA=t.createElement("script");cA.onload=cA.onreadystatechange=function(){var cD=this.readyState?this.readyState:"unknown";o("sendApiRequestJSONP: script state changed to "+cD)};cA.src=cB;cA.type="text/javascript";cA.async=true;var cC=t.getElementsByTagName("script")[0];cC.parentNode.insertBefore(cA,cC);o("sendApiRequestJSONP: script appended")};var bL=function(){var cB=t.createElement("link"),cA=t.getElementsByTagName("head");cB.setAttribute("rel","stylesheet");cB.setAttribute("href",aI()+"//"+p+"/dist/module.css?"+F);if(cA.length>0){cA[0].appendChild(cB)}};var bE=function(){return bH()||cx()};var bH=function(){return aP()!==null};var cx=function(){return bB()!==null};var b9=function(){var cA=b6();if(cA!==null){cp(bu,cA,a4())}};var b6=function(){return aP()||bB()||null};var aP=function(){return H("roistat_visit")};var bB=function(){return bw.visitFromUser};var a=function(cA){if(bw.isSettingsUpdating||!t.hasFocus()){o("Already updating settings or document not in focus, return");return}var cB=y()+"/get-settings?v="+F+"&visit="+cA;o("Request new settings");bw.isSettingsUpdating=true;au(cB)};var aq=function(){return by.get(az)>0};var cm=function(){by.set(az,1)};var ct=function(){o("Call: Init");o("Counter version: "+F);if(H("roistat_ab_demo")==="1"){o("Roistat initialisation rejected: ab test preview mode");return}bL();aS();bV();if(!T()||cy()){ca=true;ba()}else{b9();var cA=l();bf();aF();b7();roistat.visit=cA;bw.source.marker=R();var cB=aq();if(!cB){a(cA)}else{bY()}}ck()};var aS=function(){o("Call: initMarker");a2=bF();o("Call: inited marker: "+a2)};var bV=function(){o("Call: initReferrer");i=bo();o("Call: end initReferrer: "+i)};var bn=function(cC){if(!cC){return true}var cA=aG(cC);var cB=aG(t.domain);if(cA===cB){return true}var cD=bk();if(cD===null){return false}if(cg(cA,cD)&&cg(cB,cD)){return true}return false};var bk=function(){if(typeof b3.domain==="string"&&b3.domain!==""){return aG(b3.domain)
}return null};var aG=function(cA){var cB=cA.split("http://").join("").split("https://").join("").split("www.").join("");return cB.split("/")[0]};var bF=function(){var cF=h(g)>0;var cH=null;var cC=function(cK){return cK.split("_").join(":u:")};var cJ=function(cL){var cK=false;m(ax,function(cM){if(cL.indexOf(cM)>-1){cK=true}});return cK};var cI=function(){var cK=false;var cL;cL=H(u,cF);if(cL!==null){cH=cL;cK=true}cL=H(bR,cF);if(cL!==null){cH=cL;cK=true}return cK};var cD=function(){var cK=false;var cL=R();if(cL){cH=cL;cK=true;bI=false}return cK};var cB=function(){var cK=false;var cM=H("utm_source",cF);if(cM!==null){cK=true;cH=":utm:"+cC(cM);var cO=["utm_medium","utm_campaign","utm_content","utm_term"];var cL;for(var cN=0;cN<cO.length;cN++){cL=H(cO[cN],cF);if(cL!==null){cH=cH+"_"+cC(cL)}}}return cK};var cE=function(){var cM,cL,cK=false;cL=H("_openstat",cF);if(!cL){return false}if(cG(cL)){cM=cL}else{cM=encodeURI(bD.decode(cL));if(!cG(cM)){cM=cL}}if(cM){cM=cC(cM).split(";").join("_");cH=":openstat:"+cM;cK=true}return cK};var cG=function(cK){return cK.match(/^([^;]*(;[^;]*){3})$/)!==null};var cA=function(){var cK=false;var cL=t.referrer;if(bn(cL)){return cK}var cM=H("from",cF);if(cM!==null&&!cg(cM,"http")){if(!cJ(cM)){cK=true;cH=cC(cM)}}return cK};if(cI()){bS("Init marker: init from RS param "+cH);return cH}if(cB()){bS("Init marker: init from UTM "+cH);return cH}if(cE()){bS("Init marker: init from OpenStat "+cH);return cH}if(cA()){bS("Init marker: init from custom tag "+cH);return cH}bS("Init marker: try init from cookie "+cH);cD();return cH};var l=function(){return by.get(bu)};var I=function(){o("Call: saveReferrer");by.remove(ce);by.set(ah,i)};var bq=function(){o("Call: removeReferrer");by.remove(ah)};var ck=function(){cp(aM,ae(a2),a4())};var b7=function(){o("Call: refreshPromoCode");var cA=function(){return h(bu)};Z(cA());if(!bA.onload){bA.onload=function(){Z(cA())}}setTimeout(function(){Z(cA())},50);setTimeout(function(){Z(cA())},200);setTimeout(function(){Z(cA())},2000);setTimeout(function(){Z(cA())},10000)};bA.roistatPromoCodeRefresh=b7;var cn=function(){var cA=[];var cB=t.getElementsByClassName(O);if(cB&&cB.length){cA=cB}return cA};var Z=function(cA){var cD=cn();o("setPromoCode: "+cA+" in "+cD.length+" elements");for(var cC=0;cC<cD.length;cC++){var cB=cD[cC];cB.innerHTML=cA?cA:""}};var bc=function(){var cC=bF(),cB=h(aM),cE=cC!==null,cD=true;var cG=ae(ae(cC)).toLowerCase().split("+").join(" "),cF=ae(ae(cB)).toLowerCase().split("+").join(" ");if(cC&&cB){cD=cG!==cF}var cA=cE&&cD;at="Call: needOverrideByMarker (result "+(cA?"true":"false")+") with current "+cC+":"+cG+" and old "+cB+":"+cF;bS(at);return cA};var al=function(){var cB=function(cK){return/[\u0400-\u04FF]/.test(cK)};var cJ=false,cG=i,cF=by.get(ah),cA=ay(cF)?cF:by.get(ce),cI=bA.location.host;if(!cG||!cI){bS("Call: needOverrideByReferrer (result "+(cJ?"true":"false")+"), skip because one of params is empty");return cJ}cI=aG(cI);cG=ae(cG);cA=ae(cA);var cE=aG(cG);if(cg(cG,"xn--")&&cB(cI)){bS("Call: needOverrideByReferrer (result "+(cJ?"true":"false")+"), skip because of bugs with punycode in FF");return cJ}if(!cE){bS("Call: needOverrideByReferrer (result "+(cJ?"true":"false")+"), skip because current referrer is null");return cJ}if(!cA){cJ=!cg(cE,cI);bS("Call: needOverrideByReferrer (result "+(cJ?"true":"false")+"), compare current referrer and host");return cJ}if(cg(cG,cA)){bS("Call: needOverrideByReferrer (result "+(cJ?"true":"false")+"), skip because the same referrer");return cJ}var cH=cI.split(".").length>2&&cE.split(".").length>2;var cD=bA.roistatCookieDomain!==a8&&bA.roistatCookieDomain!==cI;var cC=cE.split(".").slice(1).join(".")===cI.split(".").slice(1).join(".");if(cH&&cD&&cC){bS("Call: needOverrideByReferrer (result "+(cJ?"true":"false")+"), skip because sub domains of same domain");return cJ}cJ=!(cg(cE,cI)||(cg(cI,cE)));bS("Call: needOverrideByReferrer (result "+(cJ?"true":"false")+") referrerHost: "+cE+", currentHost: "+cI);return cJ};var bg=function(){return H("utm_nooverride")==="1"};var cy=function(){return !bE()&&!bg()&&(bc()||al())};var bh=function(cB,cA){return(cB&&cA&&cB!=cA)};var aK=function(cC){var cA=["cookieExpire"];var cE=cC.leadHunterEnabled;if(Number(by.get(a9))!==Number(cC.leadHunterEnabled)){by.set(a9,Number(cC.leadHunterEnabled))}if(cE){var cD={expires:z,path:"/"};if(b3.domain){cD.domain=b3.domain}cp(J,1,cD)}for(var cB in cC){if(!Object.prototype.hasOwnProperty.call(cC,cB)){continue}if(!cE&&cB.indexOf("leadHunter")>=0){continue}if(!Y(cA,cB)){by.set("roistat_"+cB,cC[cB])}}};var b4=function(cA){if(!cA){return}roistat.multiwidget={isEnabled:cA.is_enabled,vk:{isEnabled:cA.vk.is_enabled,link:cA.vk.link,},fb:{isEnabled:cA.fb.is_enabled,link:cA.fb.link,},telegram:{isEnabled:cA.telegram.is_enabled,link:cA.telegram.link,},};if(Number(by.get(aJ))!==Number(cA.is_enabled)){by.set(aJ,Number(cA.is_enabled))}if(Number(by.get(bm))!==Number(cA.vk.is_enabled)){by.set(bm,Number(cA.vk.is_enabled))}if(Number(by.get(A))!==Number(cA.fb.is_enabled)){by.set(A,Number(cA.fb.is_enabled))
}if(Number(by.get(bO))!==cA.telegram.is_enabled){by.set(bO,Number(cA.telegram.is_enabled))}};var cu=function(cC,cE,cB,cD,cA,cF){aK(cC);roistat.callTracking.enabled=cE.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=cB.email;roistat.emailtracking.trackingEmail=cB.trackingEmail;roistat.emailtracking.emails=cB.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=cD;if(K()){b4(cA);roistat.onlineChat.isEnabled=cF.is_enabled;if(Number(by.get(bX))!==Number(cF.is_enabled)){by.set(bX,Number(cF.is_enabled))}}};bA.roistatModuleSetVisitCookie=function(cF,cM,cD,cB,cL,cA,cN,cH){o("Call: roistatModuleSetVisitCookie("+cF+")");var cI;if(typeof cD.cookieExpire!=="number"){cI=a4().expires}else{cI=cD.cookieExpire}var cG=h(bu);var cK={expires:cI,path:"/"};if(b3.domain){cK.domain=b3.domain}cp(bu,cF,cK);if(!(h(bu)>0)){by.save(bu,cF,cK)}if(!by.get(av)){var cC={expires:10*365*24*60*60,path:"/"};if(b3.domain){cC.domain=b3.domain}by.save(av,cF,cC)}var cJ=cD.abTests;if((typeof cJ!=="undefined")&&by.isAvailable()){by.setObject("abTesting",cJ)}applyTests();var cE=cD.isNeedToListenRequests;if((typeof cE!=="undefined")&&by.isAvailable()){by.set(S,cE)}Z(cF);if(cM){V(cM);cp(aM,cM,cK)}o("Call: pre renderPromoCode");aF();b7();if(bh(cG,cF)){o("roistatModuleSetVisitCookie: visit changed from "+cG+" to "+cF)}if(bA.roistatCallback!==a8){bA.roistatCallback(cF,cM)}if(!cN){cN={}}cu(cD,cB,cL,cA,cN.multiwidget_settings,cH);roistat.callTracking.phone=cB.phone;roistat.callTracking.sessionTime=cB.sessionTime;roistat.callTracking.replacementClasses=cB.replacementClasses;roistat.callTracking.phoneScriptsJson=cB.scripts;roistat.visit=cF;ci();cm();bY()};bA.roistatUpdateSettings=function(cA){o("Set settings.");bw.isSettingsUpdating=false;cu(cA.js_settings,cA.calltracking,cA.emailtracking,cA.proxy_forms,cA.multiwidget.multiwidget_settings,cA.online_chat);cm();bY()};var T=function(){var cA;if(bA.roistatIsInitVisit===true){cA=false}else{cA=h(bu)>0}bS("Call: alreadyVisited (return "+(cA?"true":"false")+")");return cA};var c=function(cA){return encodeURIComponent?encodeURIComponent(cA):encodeURI(cA)};var aB=function(){return i?c(i):""};var y=function(){return aI()+"//"+p+"/api/site/"+N+"/"+aC()};var bJ=function(){var cA={expires:1,path:"/"};if(b3.domain){cA.domain=b3.domain}cp(a3,"",cA)};var ba=function(){o("Call: setVisitIdCookie");var cB=function(){var cJ=aC(),cG=aB(),cD=bA.roistatIsInitVisit===true?l():0,cI=h(a3),cE=by.get(av);cI=cI?cI:"";cE=cE?cE:"";a2=a2&&(!al()||bI)?ae(ae(a2)):"";var cH=encodeURIComponent(bM);o("Calltracking: enabled="+bl.callTrackingEnabled+",manual="+bl.callTrackingManual);var cF=JSON.stringify(bA.roistat.page.params);return y()+"/addVisit?v="+F+"&marker="+encodeURIComponent(a2)+"&visit="+cD+"&first_visit="+cE+"&phone_prefix="+bT+"&phone_prefix_bind="+cw+"&phone_scripts_bind="+B+"&referrer="+cG+"&page="+cH+"&ab="+c(cI)+"&"+f()+"="+W()+(cF==="{}"?"":"&page_params="+encodeURIComponent(cF))+((!bl.callTrackingEnabled||bl.callTrackingManual)?"&call_tracking_disabled=1":"")+(E.length>0?"&log="+encodeURIComponent(JSON.stringify(E)):"")};var cA=function(cD){setTimeout(function(){o("Call: setVisitIdCookie script creation after timeout");var cE=t.createElement("script");cE.onload=cE.onreadystatechange=function(){var cG=this.readyState?this.readyState:"unknown";o("Call: setVisitIdCookie script state changed to "+cG)};cE.src=cD;cE.type="text/javascript";cE.async=true;cE.id=G;var cF=t.getElementsByTagName("script")[0];cF.parentNode.insertBefore(cE,cF);o("Call: setVisitIdCookie appended "+((t.getElementById(G))?"true":"false"));o("Call: sendJSONPRequest to URL "+cD);bJ()},bl.jsonpRequestTimeout)};if(a2){V(a2)}ac();var cC=cB();cA(cC);i?I():bq()};var bf=function(){o("Call: sendAbTests");var cB=function(){var cF=aC(),cE=h(bu);return aI()+"//"+p+"/site-api/"+ai+"/"+cF+"/visit/"+cE+"/addAbVariant"};var cC=h(a3);if(!cC){return}var cD=cB();cD=cD+"?ab="+c(cC);var cA=t.createElement("img");cA.src=cD;bJ()};var ar={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(ar.Android()||ar.BlackBerry()||ar.iOS()||ar.Opera()||ar.Windows())}};var aA={isIE:function(cC,cE){var cF="IE",cB=t.createElement("B"),cA=t.documentElement,cD;if(cC){cF+=" "+cC;if(cE){cF=cE+" "+cF}}cB.innerHTML="<!--[if "+cF+']><b id="iecctest"></b><![endif]-->';cA.appendChild(cB);cD=!!t.getElementById("iecctest");cA.removeChild(cB);return cD}};var bC=function(){return new Date().getTime()};var L=function(){var cA="";bA.onerror=function(cG,cF,cC,cE,cD){var cB=!cE?"":", column: "+cE;cB+=!cD?"":", error: "+cD;cA=cA+", Error: "+cG+", url: "+cF+", line: "+cC+cB};setTimeout(function(){var cI=false,cJ="";var cE=cn();for(var cH=0;cH<cE.length;cH++){var cD=cE[cH];if(cD!==null&&!cD.innerHTML){cI=true;
cJ="Promo HTML: "+cD.innerHTML}}if(!(h(bu)>0)){cI=true;cJ=cJ+"; roistat_visit = "+h(bu)}if(cI){var cC=t.getElementById(G);var cB=cC?1:0;var cF=bA.navigator.userAgent;cJ=encodeURIComponent(cJ);var cG=t.createElement("img");cG.src=aI()+"//"+p+"/site-api/"+ai+"/"+aC()+"/debug?message="+cJ+"&agent="+cF+"&"+f()+"="+W()+"&jserror="+cA+"&scriptResponse="+cB+"&version="+F+"&debug="+aO}},20000)};var a6=function(){var cC=t.getElementsByTagName("body");var cD=t.documentElement;var cB=0,cE=0;if(cC.length){var cA=cC[0];cB=bA.innerWidth||cD.clientWidth||cA.clientWidth;cE=bA.innerHeight||cD.clientHeight||cA.clientHeight}else{cB=bA.innerWidth||cD.clientWidth;cE=bA.innerHeight||cD.clientHeight}return{width:cB,height:cE}};var aF=function(){var cF=t.getElementsByClassName("roistat-promo-wrap");if(cF.length){o("PromoCode: old promo code length - exit");return}var cD=function(){var cM=t.createElement("div");cM.innerHTML=roistatPromoCode;var cK=t.getElementsByTagName("body");if(cK.length){cK[0].appendChild(cM)}o("PromoCode: appended to body "+roistatPromoCode.length);var cL=t.getElementsByClassName("roistat-promo-wrap")[0];if(!cL){o("PromoCode: roistat-promo-wrap not found, skip");return}var cJ=cL.style;var cH,cI,cG;setInterval(function(){cH=a6();cI=cL.offsetWidth;cG=cL.offsetHeight*2;switch(roistatPosition){case"top_left":cJ.left=0;cJ.top=0;break;case"top":cJ.left=((cH.width-cI)/2)+"px";cJ.top=0;break;case"top_right":cJ.right=0;cJ.top=0;break;case"left":cJ.left=0;cJ.top=((cH.height-cG)/2)+"px";break;case"right":cJ.right=0;cJ.top=((cH.height-cG)/2)+"px";break;case"bottom_left":cJ.left=0;cJ.bottom=0;break;case"bottom":cJ.left=((cH.width-cI)/2)+"px";cJ.bottom=0;break;case"bottom_right":cJ.right=0;cJ.bottom=0;break;default:cJ.left=0;cJ.top=0}},500)};var cA=by.getObject("promo_code_options");if(cA){bA.roistatPromoCode=cA.template;bA.roistatPosition=cA.position;cD()}else{var cE=t.getElementsByTagName("head")[0]||t.documentElement;var cC=t.createElement("script");cC.src=aI()+"//"+p+"/site-api/"+ai+"/"+aC()+"/getPromoCode";cE.insertBefore(cC,cE.firstChild);o("PromoCode: loading started");var cB=false;cC.onload=cC.onreadystatechange=function(){if(!cB&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){cB=true;cC.onload=cC.onreadystatechange=null;if(cE&&cC.parentNode){cE.removeChild(cC)}}if(!cB){return}o("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){o("PromoCode: is disabled");return}cA={template:roistatPromoCode,position:roistatPosition};by.setObject("promo_code_options",cA);cD()}}};var Y=function(cB,cC){for(var cA=0;cA<cB.length;cA++){if(cB[cA]===cC){return true}}return false};var o=function(cB){var cC=bC()-aV;var cA="["+(cC/1000)+"s] "+cB;aO=aO+"; "+cA;if(typeof console!=="undefined"&&console.log&&aX){console.log(cA)}};var bS=function(cA){o(cA);if(!bK){return}E.push(cA)};var ak=function ak(){var cE=bA.onpopstate;var cF=bA.history.pushState;var cA=bA.history.replaceState;M(bA,"popstate",function cD(cG){o("[Roistat]: popstate event catch");bs();if(K()&&typeof cE==="function"){cE(cG)}});M(bA.history,"pushState",function cC(cH,cI,cG){o("[Roistat]: pushState event catch");bs();if(K()&&typeof cF==="function"){cF.apply(this,[cH,cI,cG])}});M(bA.history,"replaceState",function cB(cH,cI,cG){o("[Roistat]: replaceState event catch");bs();if(K()&&typeof cA==="function"){cA.apply(this,[cH,cI,cG])}})};(function bd(){ak();if(bA.onRoistatModuleLoaded!==a8&&typeof bA.onRoistatModuleLoaded==="function"){bA.onRoistatModuleLoaded()}})();ct();if(K()){(function aE(){var cM="roistat-leadhunter-form-template",cP="roistat-leadhunter-pulsator-template",cL="roistat-leadhunter-pulsator-settings",cD="roistat-online-chat-pulsator-template",cF="roistat-online-chat-iframe-template",cH="roistat-multiwidget-pulsator-template";var cR="empty";var cS=function(cV,cU,cT){if(cV.addEventListener){cV.addEventListener(cU,cT,false)}else{if(cV.attachEvent){cV.attachEvent("on"+cU,cT)}else{o("Handler could not be attached")}}};var cO={leadHunter:function(){var ey="roistat-lh-form",de="roistat-lh-form",eA="roistat-lh-head-text",dr="roistat-lh-head",dc="roistat-lh-thank-you",dR="roistat-lh-thank-you",cY="roistat-lh-close",cZ="roistat-lh-submit",dA="roistat-lh-hidden",ee="roistat-lh-wrap",dg="roistat-lh-popup-wrapper",dQ="roistat-lh-popup",ex="roistat-lh-popup-iframe",ez="roistat-lh-agreement",dL="roistat-lh-agreement roistat-lh-mobile",eM="roistat-lh-agreement-input",eo="roistat-lh-agreement-link",cT="roistat-lh-agreement-doc",eu="roistat-lh-alert-row",d0="roistat-lh-agreement",dK="roistat-lh-popup-iframe",d2="roistat_leadHunterUrl",eq="roistat_leadHunterAppearanceUrl",dD="roistat_leadHunterTargetPagesList",db="roistat_leadHunterCaught",d8="roistat_leadHunterMinTime",du="roistat_leadHunterAutoShowTime",d6="roistat_leadHunterPulsatorEnabled",dv="roistat-lh-pulsator-icon",dS="roistat-lh-pulsator-fill",dI="roistat-lh-load-done",df="roistat-lh-close-modal",ef="roistat-lh-setting-size",ev="roistat-lh-before-submit",d3="roistat-lh-before-submit-done",eC="roistat-lh-after-submit",ei="roistat-lh-event-data",ej="roistat-lh-translate-form",er="ru",cW="en",eK={topLeft:{bottom:"80%",right:"auto",},topRight:{bottom:"80%",right:"3%",},bottomRight:{bottom:"10%",right:"3%",},bottomLeft:{bottom:"10%",right:"auto",},};
var da=0.3,dj=0.001,dd=false,dm=0,di=0,dn=0,eD=0,dl=0,dN=false,dB=false,c2=false,dW="",c5=by.get(aJ),dk,et,dU,d1,ed,dq,eL,eH,ep,eJ,c6,eE,eb,dV,dJ,c9,cX,dz,dp,dw,em;var eG={pulsator:{previousClass:""},leave:{isShowEnabled:false,},timeoutId:0};var eB=function(eR){var eQ=encodeURIComponent?encodeURIComponent:encodeURI;return eQ(eR)};var eh=function(){if(!bA.roistat.leadHunter.isEnabled){return false}if(bA.roistatLeadHunterInited){return false}bA.roistatLeadHunterInited=true;if(by.get(a9)<1){o("LeadHunter: disabled");return false}return true};var dy=function(){cX=by.get(d2);if(!cX){o("LeadHunter: not active cause of empty url");return false}dz=by.get(eq);eD=by.get(d8);dl=bA.roistat.leadHunter.form.autoShowTime===null?by.get(du):bA.roistat.leadHunter.form.autoShowTime;dN=by.get(d6)==1&&!c5;cV();return true};var cV=function(){if(by.get(db)>0){o("LeadHunter: not active because already caught");dB=true}if(!(h(J)>0)){o("LeadHunter: not active, expired for this visit");dB=true}};var eP=function(){var eW=function(e3,e1){var e0;if(cg(e1,"*")){var e2=new RegExp(e1.split("*").join(".*"));e0=e2.test(e3)}else{e0=e3===e1}o("LeadHunter: compare current: "+e3+", setting: "+e1+" with result = "+(e0?1:0));return e0};var eR=by.get(dD),eQ=bA.location.href,eT=false,eS=false,eY="",eU=0,eX;eX=eR?eR.split(","):[];if(!eQ||eX.length===0){eT=true}else{eY=an(eQ);var eZ;for(var eV=0;eV<eX.length;eV++){eZ=eX[eV].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(eZ)){if(eW(eY,eZ.split(/^!/).join(""))){eS=true;break}}else{eU++;if(eW(eY,eZ)){eT=true;break}}}}if(eS){o('LeadHunter: current page "'+eY+'" is disabled by list');return false}if(!eT&&eU>0){o('LeadHunter: current page "'+eY+'" is not listed');return false}o('LeadHunter: current page "'+eQ+'", cleaned: "'+eY+'" is not disabled in '+eX.length+" list of pages");return true};var c3=function(){dw=em.src;var eQ={version:F,additionalNotifyEmail:bA.roistat.leadHunter.additionalNotifyEmail,projectKey:aC(),language:dW,visitId:bP(),moduleTargetOrigin:bA.location.origin,referrer:bA.location.href,windowWidth:bA.innerWidth||0,iframeWrapperWidth:d1.offsetWidth||0,sendRequestUrl:by.get(d2),message:dI,};em.contentWindow.postMessage(eQ,dw);d7()};var dH=function(){c2=true;c1("click");c3();ec()};var c0=function(){var eQ=bA.location.hash;if(!eQ){return}if(cg(eQ,"roistat-lead-hunter")){dH()}};var dF=function c8(){o("LeadHunter: binding timeout");if(dB){o("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(dd){o("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(dl>0){var eQ=(dm-bC())+dl*1000;o("LeadHunter: binding timeout with delay "+eQ+" ms");clearTimeout(eG.timeoutId);eG.timeoutId=setTimeout(function(){o("LeadHunter: form auto activate with autoTime = "+dl);if(!dd){c2=true;c1("auto");c3();ec()}},eQ)}else{o("LeadHunter: auto show time is not positive, feature disabled")}};var es=function(){ep.onclick=ed.onclick=dY;eJ.onclick=dC;if(eE){cS(eE,"click",dM)}if(eb){cS(eb,"change",eN)}var eR=t.getElementsByClassName("roistat-lh-input");for(var eU=0;eU<eR.length;eU++){cS(eR[eU],"keyup",function(eW){eW=eW||event;var eV=(eW.keyCode?eW.keyCode:eW.which);if(eV==13){dC()}})}var eS=bA.onresize;bA.onresize=function(eV){if(eS){eS(eV)}ew(eV)};if(!dB){var eQ=t.onmouseout;t.onmouseout=function(eV){if(eQ){eQ(eV)}ea(eV)}}if(dN){dk.onmouseover=function(){Q(dk,"roistat-lh-pulsator-hover")};dk.onmouseout=function(){bt(dk,"roistat-lh-pulsator-hover")};dk.onclick=function(){dH()}}var eT=bA.onhashchange;bA.onhashchange=function(){if(eT){eT.apply(this,arguments)}c0()}};var eI=function(){if(dN){dk.onmouseover=function(){Q(dk,"roistat-lh-pulsator-hover")};dk.onmouseout=function(){bt(dk,"roistat-lh-pulsator-hover")};dk.onclick=function(){dH()}}ed.onclick=dY;em=t.getElementById(dK);cS(em,"load",function(){c3();eF()});var eR=bA.onresize;bA.onresize=function(eT){if(eR){eR(eT)}ew(eT)};if(!dB){var eQ=t.onmouseout;t.onmouseout=function(eT){if(eQ){eQ(eT)}ea(eT)}}var eS=bA.onhashchange;bA.onhashchange=function(){if(eS){eS.apply(this,arguments)}c0()}};var dX=function(eR){var eQ=t.getElementsByClassName(eR);if(eQ.length>0){return eQ[0]}else{return null}};var dT=function(){var eT=dX("roistat-lh-title");if(eT&&roistat.leadHunter.form.title){eT.innerHTML=roistat.leadHunter.form.title}var eR=dX("roistat-lh-sub-title");if(eR&&roistat.leadHunter.form.subTitle){eR.innerHTML=roistat.leadHunter.form.subTitle}var eS=dX("roistat-lh-thank-you");if(eS&&roistat.leadHunter.form.thankYouText){eS.innerHTML=roistat.leadHunter.form.thankYouText}var eV=dX("roistat-lh-submit");if(eV&&roistat.leadHunter.form.buttonText){eV.value=roistat.leadHunter.form.buttonText}var eU=dX("roistat-lh-text-label-name");if(eU&&roistat.leadHunter.form.nameLabel){eU.innerHTML=roistat.leadHunter.form.nameLabel}var eQ=dX("roistat-lh-text-label-contact");if(eQ&&roistat.leadHunter.form.contactLabel){eQ.innerHTML=roistat.leadHunter.form.contactLabel}};var dh=function(eR,eV,eU){var eQ;if(!eR){o("LeadHunter: deactivating, empty form")
}else{o("LeadHunter: rendering hidden form")}ed=t.createElement("div");d1=t.createElement("div");d1.innerHTML=eR;ed.className=dA;d1.className=dA;if(eV&&dN&&eU&&!c5){var eS=typeof eU.position==="string"&&eU.position!==""?eU.position:"bottomRight";eQ=t.createElement("div");eQ.innerHTML=eV;dk=eQ.childNodes.item(0);et=dk.childNodes.item(1);dU=dk.childNodes.item(2).childNodes.item(0);et.setAttribute("style","background: "+eU.button.background+";");dU.setAttribute("style","fill: "+eU.button.color+";");dk.setAttribute("style","bottom: "+eK[eS].bottom+";right:"+eK[eS].right+";");eG.pulsator.previousClass=dk.className;dk.className=dA;t.body.appendChild(dk)}t.body.appendChild(ed);t.body.appendChild(d1);dq=t.getElementById(dr);eL=t.getElementById(de);eH=t.getElementById(dR);ep=t.getElementById(cY);eJ=t.getElementById(cZ);c6=t.getElementById(ez);eb=t.getElementById(eM);eE=t.getElementById(eo);dV=t.getElementById(cT);dJ=t.getElementById(eu);c9=t.getElementById(d0);var eT=dX(dg);dp=eT&&eT.getAttribute("data-is-iframe");if(dp){eI()}else{dT();es();c0();eF()}};var c7=function(){var eQ=by.get(cM),eS=by.get(cP),eR=by.getObject(cL);dh(bD.decode(eQ),bD.decode(eS),eR)};var dE=function(){var eR=d1.clientWidth,eQ=d1.clientHeight;d1.setAttribute("style",d1.getAttribute("style")+" width: "+eR+"px; height: "+eQ+"px;");if(eL!==null){eL.className=dA}if(dq!==null){dq.className=dA}if(c6!==null){c6.className=dA}if(eH!==null){eH.setAttribute("style","width: "+eR+"px; height: "+eQ+"px; display: table-cell;");eH.className=dc}setTimeout(function(){o("LeadHunter: close form after timeout");dY()},7000)};var ec=function(){var eR=Math.round((en()-d1.clientHeight)/2);var eQ=Math.round((eO()-d1.clientWidth)/2);d1.setAttribute("style","left: "+eQ+"px; top: "+Math.max(0,eR)+"px;")};var c1=function(eR){if(bA.roistat.leadHunter.onBeforeAppear){o("LeadHunter: process user defined onBeforeAppear");bA.roistat.leadHunter.onBeforeAppear(eR);if(dp){d7()}}d1.setAttribute("style","left:20px;top:-20px;opacity:0");ed.className=ee;d1.className=dQ;if(eL!==null){eL.className=ey}if(dq!==null){dq.className=eA}if(c6!==null){c6.className=dL}if(eH!==null){eH.setAttribute("style","");eH.className=dA}ed.setAttribute("style","opacity:0;");dd=true;setTimeout(function(){ed.setAttribute("style","opacity:.5;")},10);var eS=h(bu),eQ=dz+"?visit_id="+eS;D(eQ);if(bA.roistat.leadHunter.onAfterAppear){o("LeadHunter: process user defined onAfterAppear");bA.roistat.leadHunter.onAfterAppear(eS,ed,d1,eL);if(dp){d7()}}};var eg=function dZ(){dm=bC();var eQ=false;var eR=bA.onload;bA.onload=function(){if(eR){eR()}if(!eQ){eQ=true;o("LeadHunter: form initialized in window.onload");c7()}};setTimeout(function(){if(!eQ){eQ=true;o("LeadHunter: form initialized after timeout");c7()}},5000)};var eF=function dG(){o("LeadHunter: tuning appearance for page");if(!eP()){o("LeadHunter: disabled on page");eG.leave.isShowEnabled=false;clearTimeout(eG.timeoutId);if(dk){dk.className=dA}}else{o("LeadHunter: enabled on page");eG.leave.isShowEnabled=true;dF();if(dk){dk.className=eG.pulsator.previousClass}}};var ds=function d9(){o("LeadHunter: processing single page application state change");dm=bC();eF()};var el=function dO(){aa(ds);M(bA,"message",function eQ(eT){var eS=typeof eT.data==="string"?eT.data:eT.data.message;if(eS===df){dY()}if(eS===ef){em.setAttribute("style","width: "+eT.data.width+"px !important; height: "+eT.data.height+"px !important;");ew()}if(eS===ev){var eU=eT.data.caughtLeadData;if(bA.roistat.leadHunter.onBeforeSubmit){o("LeadHunter: process user defined onBeforeSubmit");var eR=bA.roistat.leadHunter.onBeforeSubmit(eU);if(eR){eU=eR}}em.contentWindow.postMessage({caughtLead:eU,message:d3},dw)}if(eS===eC){if(bA.roistat.leadHunter.onAfterSubmit){o("LeadHunter: process user defined onAfterSubmit");bA.roistat.leadHunter.onAfterSubmit({name:eT.data.name,phone:eT.data.phone})}}})};function d7(){var eQ={apiData:bA.roistat.leadHunter.form,message:ei};em.contentWindow.postMessage(eQ,dw)}function d5(){if(!eh()){return}if(!dy()){return}o("LeadHunter: activated");eg();el()}function en(){return(bA.innerHeight?bA.innerHeight:t.documentElement.clientHeight==0?t.body.clientHeight:t.documentElement.clientHeight)}function eO(){return(bA.innerWidth?bA.innerWidth:t.documentElement.clientWidth==0?t.body.clientWidth:t.documentElement.clientWidth)}function ea(eS){eS=eS||event;dn=eS.clientY;var eQ=dn/en(),eU=di>0&&di>eQ,eR=eQ<dj,eT=(bC()-dm)>eD*1000;if(eU&&eR&&!dd&&eT&&eG.leave.isShowEnabled){o("LeadHunter: show modal with because move up ("+di+" -> "+eQ+") and in modal zone and show on leave enabled");c1("exit");c3();dP(eS)}if(eQ<da){di=eQ}}function ew(eQ){if(c2){ec()}else{eQ=eQ||event;dP(eQ)}}function dP(eT){var eQ=eT.clientX-Math.round(d1.clientWidth/2)||d1.offsetLeft;eQ=Math.max(20,Math.min(eQ,eO()-d1.offsetWidth-20));var eU=eQ+d1.offsetWidth>eO()-40;if(eU){var eR=(eQ+d1.clientWidth-20)-(eO()-40);eQ=eQ-eR}var eS=eO()-40>d1.offsetWidth?"":"width:"+(d1.offsetWidth-40)+"px;";d1.setAttribute("style","left:"+eQ+"px; top: 0px; "+eS)
}function c4(){bA.roistatSetCookie(db,1,b3)}function dY(){c4();ed.setAttribute("style","opacity:0");d1.style.top="-"+d1.offsetHeight*2+"px";setTimeout(function(){d1.className=ed.className=dA},500)}function dC(){var e4=t.getElementById("roistat-lh-phone-input"),eS=t.getElementById("roistat-lh-name-input"),eU,e2;eU=e4===null?"":e4.value;e2=eS===null?"":eS.value;var eZ={name:e2,phone:eU,isNeedCallback:null,callbackPhone:null,fields:{}};if(bA.roistat.leadHunter.onBeforeSubmit){o("LeadHunter: process user defined onBeforeSubmit");var eV=bA.roistat.leadHunter.onBeforeSubmit(eZ);if(eV){eZ=eV}}var e1=eZ.phone.length<1;var e3=eZ.phone.indexOf("_")===-1;var eX=!e1&&e3;var e0=eZ.name.length<1;var eR=!e0||!bA.roistat.leadHunter.form.isNameRequired;if(!eX){e4.setAttribute("style","border: 2px solid #E0571A;");return}if(!eR){eS.setAttribute("style","border: 2px solid #E0571A;");return}var eQ=cX+"?v="+F+"&lead-hunt-input="+encodeURIComponent(eZ.phone)+"&lead-name="+encodeURIComponent(eZ.name)+"&visit="+bP();if(eZ.isNeedCallback!==null&&eZ.isNeedCallback!==a8){eQ=eQ+"&is_need_callback="+(eZ.isNeedCallback>0?1:0)}if(eZ.callbackPhone){eQ=eQ+"&callback_phone="+eZ.callbackPhone}if(bA.roistat.leadHunter.additionalNotifyEmail!==null){eQ=eQ+"&additional_email="+encodeURIComponent(bA.roistat.leadHunter.additionalNotifyEmail)}var eT=0;if(eZ.fields&&typeof eZ.fields==="object"){for(var eW in eZ.fields){if(eZ.fields.hasOwnProperty(eW)){++eT}}}if(eT>0){eQ=eQ+"&fields="+eB(JSON.stringify(eZ.fields))}eQ=eQ+"&t="+bC();var eY=t.createElement("img");eY.src=eQ;e4.setAttribute("style","");c4();if(eH===null){dY();dx()}else{dE()}if(bA.roistat.leadHunter.onAfterSubmit){o("LeadHunter: process user defined onAfterSubmit");bA.roistat.leadHunter.onAfterSubmit({name:e2,phone:eU})}}function dM(eQ){if(eQ.preventDefault){eQ.preventDefault()}else{eQ.returnValue=false}dV.style.display==="block"?dV.style.display="none":dV.setAttribute("style","display: block; padding: 0 30px; width:"+d1.clientWidth+"px;");ew()}function eN(){eJ.disabled===true?eJ.disabled=false:eJ.disabled=true;dJ.style.display==="block"?dJ.style.display="none":dJ.style.display="block"}function dx(){t.onmousemove=null;ed.onresize=null}var dt=function(eW,eZ){if(!eW||!eZ){o("LeadHunter: skip phone mask render due to empty input or mask");return}o("LeadHunter: render phone mask "+eZ+" for input: "+eW.value);if(bA.roistatRenderPhoneMaskMutex){return}bA.roistatRenderPhoneMaskMutex=true;var eT="_",eS="x",eV="Ñ…",eU=eZ.toLowerCase().split(eS).join(eT).split(eV).join(eT);var eR=function(e0){if(eW.setSelectionRange){eW.setSelectionRange(e0,e0)}else{if(eW.createTextRange){var e1=eW.createTextRange();e1.collapse(true);e1.moveEnd("character",e0);e1.moveStart("character",e0);e1.select()}}};var eX=function(e0){if(!e0){return 0}var e1=e0.indexOf(eT);if(e1<0){return e0.length}return e1};var eY=function(e0){eR(eX(e0))};var eQ=function(e9){var fa=eU.split("");if(!e9){return eU}var e0=e9.split("");var fb=[],e8,e5,e7,e4,e2,e1,e6;for(var e3=0;e3<fa.length;e3++){e5=fa[e3];if(e3>=e0.length){fb.push(e5);continue}e2=((e3+1)<fa.length)?fa[e3+1]:null;e1=((e3+1)<e0.length)?e0[e3+1]:null;e6=((e3+2)<e0.length)?e0[e3+2]:null;e8=e0[e3];e7=parseInt(e8)>=0;e4=(e5===eT)&&e7;if(!e4){fb.push(e5);continue}if(e1===eT&&e2!==eT&&e6!==e2){fb.push(e5);continue}fb.push(e8)}return fb.join("")};setTimeout(function(){var e0=eQ(eW.value);if(eW.value!==e0){eW.value=e0}eY(e0);bA.roistatRenderPhoneMaskMutex=false},1)};var ek=function(eQ,eS,eR){by.set(cM,bD.encode(eQ));by.set(cP,bD.encode(eS));by.setObject(cL,eR)};var d4=function(eQ){dW=eQ;if(em===a8){return}cU()};var cU=function(){var eQ={language:dW,message:ej};em.contentWindow.postMessage(eQ,dw)};bN(d5);bA.roistatLeadHunterShow=dH;bA.roistatRenderPhoneMask=dt;bA.roistat.leadHunter.localization.translateToRussian=function(){d4(er)};bA.roistat.leadHunter.localization.translateToEnglish=function(){d4(cW)}},multiwidget:function(){var df="roistat-multiwidget-hidden",c1="roistat-multiwidget-pulsator-phone",c4="roistat-multiwidget-pulsator-popup-item-lead-hunter",c2="roistat-multiwidget-pulsator-popup-item-chat",c9="roistat-multiwidget-pulsator-popup-item-facebook",c3="roistat-multiwidget-pulsator-popup-item-vk",cW="roistat-multiwidget-pulsator-popup-item-telegram",dd="roistat-multiwidget-pulsator-items-popup-holder";var cU,cX,de,c5,da,c6,cT,cZ;function cY(dg){o("Multiwidget: "+dg)}function dc(){cX=cU.getElementsByClassName(c1)[0];de=cU.getElementsByClassName(dd)[0];c5=de.getElementsByClassName(c4)[0];da=de.getElementsByClassName(c2)[0];c6=de.getElementsByClassName(c3)[0];cT=de.getElementsByClassName(c9)[0];cZ=de.getElementsByClassName(cW)[0]}function cV(){de.classList.toggle(df)}function c7(){cY("add pulsator events");cS(cX,"click",function(){cV()});cS(c5,"click",function(){cY("opening leadhunter via multiwidget");bA.roistatLeadHunterShow();cV()});cS(da,"click",function(){cY("opening online chat via multiwidget");bA.roistatOnlineChatShow();cV()});cS(c6,"click",function(){bA.open(bA.roistat.multiwidget.vk.link,"_blank")
});cS(cT,"click",function(){bA.open(bA.roistat.multiwidget.fb.link,"_blank")});cS(cZ,"click",function(){bA.open(bA.roistat.multiwidget.telegram.link,"_blank")})}function c0(){cY("hiding disabled multiwidget options");var dg=Number(by.get(a9)),dh=Number(by.get(bX)),di=Number(by.get(bm)),dj=Number(by.get(A)),dk=Number(by.get(bO));if(!dg){cY("hiding leadhunter option");c5.classList.add(df)}if(!dh){cY("hiding online chat option");da.classList.add(df)}if(!di){cY("hiding vk-messenger option");c6.classList.add(df)}if(!dj){cY("hiding fb-messenger option");cT.classList.add(df)}if(!dk){cY("hiding telegram-messenger option");cZ.classList.add(df)}}function db(){var dh=bD.decode(by.get(cH));if(dh){cY("appending multiwidget pulsator");var dg=t.createElement("div");dg.innerHTML=dh;cU=dg.childNodes.item(0);t.body.appendChild(cU);dc();c0();c7()}}function c8(){cY("activated");db()}bN(c8)},onlineChat:function(){var cX="iframe-module-created",c8="roistat-online-chat-init",dc="roistat_chat_id",c1,cY,da;var c0="roistat-online-chat-popup-iframe",dd="roistat-online-chat-hidden";var cZ=false,cU=by.get(aJ);var cT;var c4=function(de){o("onlineChat: "+de)};var db=function(){var de={message:cX,detail:{version:F,projectKey:aC(),visitId:bP(),chatId:h(dc),moduleTargetOrigin:bA.location.origin,referrer:bA.location.href,params:da,},};cY.contentWindow.postMessage(de,cY.src)};var c6=function(){M(bA,"message",function de(dh){var dg=typeof dh.data==="string"?dh.data:dh.data.message;var df=typeof dh.data!=="string"?dh.data.detail:{};c4("event: "+dg+" "+JSON.stringify(df));switch(dg){case cX:db();break;case c8:c4("saving chat id = "+df.chatId);cp(dc,df.chatId);break}})};var c5=function(){cY=t.getElementById(c0);cS(cY,"load",function(){cW()})};var cV=function(){c4("iframe appending to page");var de=bD.decode(by.get(cF));c1=t.createElement("div");c1.className=dd;c1.innerHTML=de;t.body.appendChild(c1);c5()};var c2=function(){var df=bD.decode(by.get(cD));if(df&&!cU){c4("pulsator appending to page");var de=t.createElement("div");de.innerHTML=df;cT=de.childNodes.item(0);t.body.appendChild(cT);c7()}};var c7=function(){cS(cT,"click",function(){c3()})};var c3=function(){c1.classList.toggle(dd)};var cW=function(){cZ=true;bA.roistatOnlineChatShow=c3;c4("chat window initialized")};function c9(){c2();cV();c6()}bN(c9)},};function cK(cT){o("Widgets: "+cT)}function cA(cT){return cT!==cR}function cC(cT,cV,cU){by.set(cM,bD.encode(cT));by.set(cP,bD.encode(cV));by.setObject(cL,cU)}function cG(cT){by.set(cH,bD.encode(cT))}function cE(cU,cT){by.set(cD,bD.encode(cU));by.set(cF,bD.encode(cT))}function cJ(cT,cV,cU){cC(cT,cV,cU);by.set(cH,bD.encode(cR));by.set(cF,bD.encode(cR));cO.leadHunter()}function cB(c3,cZ,cX){cK("start initing widgets");var cU=c3.form_template,c4=c3.pulsator_template,cW=c3.pulsator_settings,c0=cX.pulsator_template,cV=cX.iframe_template,c1=cZ.pulsator_template,cY=Number(by.get(a9)),c2=Number(by.get(aJ)),cT=Number(by.get(bX));cC(cU,c4,cW);cG(c1);cE(c0,cV);if(cY){cK("leadhunter enabled. Start processing");cO.leadHunter()}if(cT){cK("online chat enabled. Start processing");cO.onlineChat()}if(c2){cK("multiwidget enabled. Start processing");cO.multiwidget()}}function cQ(){var cT=by.get(cM),c2=by.get(cP),cV=by.getObject(cL),cY=by.getObject(cD),cU=by.get(cF),c0=by.get(cH);bA.roistatLeadhunterForm=cJ;bA.roistatMultiwidget=cB;if(!cT||!c2||!cV||!c0||!cY){cK("requesting data from server");au(aI()+"//"+p+"/api/site/"+N+"/"+aC()+"/multiwidget?domain="+encodeURIComponent(t.domain))}else{var c3=bD.decode(c0);var cZ=bD.decode(cU);if(!cA(c3)||!cA(cZ)){cK("initing LeadHunter form");bA.roistatLeadhunterForm(bD.decode(cT),bD.decode(c2),cV)}else{cK("initing multiwidget form");var cW={pulsator_template:c3,},cX={form_template:bD.decode(cT),pulsator_template:bD.decode(c2),pulsator_settings:cV,},c1={iframe_template:cZ,pulsator_template:bD.decode(cY),};bA.roistatMultiwidget(cX,cW,c1)}}}function cI(){var cT=false;bA.onload=function(){if(!cT){cT=true;cK("form initialized in window.onload");cQ()}};setTimeout(function(){if(!cT){cT=true;cK("form initialized after timeout");cQ()}},5000)}function cN(){cK("activated");cI()}bN(cN);bA.roistatSaveLeadHunterTemplates=cC})()}else{(function aH(){var ek="roistat-lh-form",cV="roistat-lh-form",em="roistat-lh-head-text",c9="roistat-lh-head",cT="roistat-lh-thank-you",dB="roistat-lh-thank-you",cF="roistat-lh-close",cG="roistat-lh-submit",dj="roistat-lh-hidden",dZ="roistat-lh-wrap",cX="roistat-lh-popup-wrapper",dA="roistat-lh-popup",ej="roistat-lh-popup-iframe",el="roistat-lh-agreement",dv="roistat-lh-agreement roistat-lh-mobile",ey="roistat-lh-agreement-input",ea="roistat-lh-agreement-link",cA="roistat-lh-agreement-doc",eg="roistat-lh-alert-row",dK="roistat-lh-agreement",du="roistat-lh-popup-iframe",dM="roistat_leadHunterUrl",ec="roistat_leadHunterAppearanceUrl",dm="roistat_leadHunterTargetPagesList",cR="roistat_leadHunterCaught",c1="roistat_leadHunterFormTemplate_{version}",dT=17,da="roistat_leadHunterPulsatorTemplate",d8="roistat_leadHunterPulsatorSettings",dS="roistat_leadHunterMinTime",dd="roistat_leadHunterAutoShowTime",dQ="roistat_leadHunterPulsatorEnabled",de="roistat-lh-pulsator-icon",dC="roistat-lh-pulsator-fill",ds="roistat-lh-load-done",cW="roistat-lh-close-modal",d0="roistat-lh-setting-size",eh="roistat-lh-before-submit",dN="roistat-lh-before-submit-done",eo="roistat-lh-after-submit",d3="roistat-lh-event-data",d4="roistat-lh-translate-form",ed="ru",cE="en",ew={topLeft:{bottom:"80%",right:"auto",},topRight:{bottom:"80%",right:"3%",},bottomRight:{bottom:"10%",right:"3%",},bottomLeft:{bottom:"10%",right:"auto",},};
var cQ=0.3,c2=0.001,cU=false,c5=0,cZ=0,c6=0,ep=0,c4=0,dx=false,dk=false,cJ=false,dG="",c3,ef,dE,dL,dY,c8,ex,et,eb,ev,cM,eq,dW,dF,dt,cP,cD,di,c7,df,d7;var es={pulsator:{previousClass:""},leave:{isShowEnabled:false,},timeoutId:0};var c0=function(){return c1.split("{version}").join(dT)};var en=function(eE){var eD=encodeURIComponent?encodeURIComponent:encodeURI;return eD(eE)};var cS=function(){if(!by.isAvailable()){return}by.remove(c1.split("_{version}").join(""));var eD;if(dT>1){for(eD=1;eD<dT;eD++){by.remove(c1.split("{version}").join(eD.toString()))}}};var d2=function(){if(!bA.roistat.leadHunter.isEnabled){return false}if(bA.roistatLeadHunterInited){return false}bA.roistatLeadHunterInited=true;if(by.get(a9)<1){o("LeadHunter: disabled");return false}return true};var dh=function(){cD=by.get(dM);if(!cD){o("LeadHunter: not active cause of empty url");return false}di=by.get(ec);ep=by.get(dS);c4=bA.roistat.leadHunter.form.autoShowTime===null?by.get(dd):bA.roistat.leadHunter.form.autoShowTime;dx=by.get(dQ)==1;cC();return true};var cC=function(){if(by.get(cR)>0){o("LeadHunter: not active because already caught");dk=true}if(!(h(J)>0)){o("LeadHunter: not active, expired for this visit");dk=true}};var eC=function(){var eJ=function(eQ,eO){var eN;if(cg(eO,"*")){var eP=new RegExp(eO.split("*").join(".*"));eN=eP.test(eQ)}else{eN=eQ===eO}o("LeadHunter: compare current: "+eQ+", setting: "+eO+" with result = "+(eN?1:0));return eN};var eE=by.get(dm),eD=bA.location.href,eG=false,eF=false,eL="",eH=0,eK;eK=eE?eE.split(","):[];if(!eD||eK.length===0){eG=true}else{eL=an(eD);var eM;for(var eI=0;eI<eK.length;eI++){eM=eK[eI].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(eM)){if(eJ(eL,eM.split(/^!/).join(""))){eF=true;break}}else{eH++;if(eJ(eL,eM)){eG=true;break}}}}if(eF){o('LeadHunter: current page "'+eL+'" is disabled by list');return false}if(!eG&&eH>0){o('LeadHunter: current page "'+eL+'" is not listed');return false}o('LeadHunter: current page "'+eD+'", cleaned: "'+eL+'" is not disabled in '+eK.length+" list of pages");return true};var cK=function(){df=d7.src;var eD={version:F,additionalNotifyEmail:bA.roistat.leadHunter.additionalNotifyEmail,projectKey:aC(),language:dG,visitId:bP(),moduleTargetOrigin:bA.location.origin,referrer:bA.location.href,windowWidth:bA.innerWidth||0,iframeWrapperWidth:dL.offsetWidth||0,sendRequestUrl:by.get(dM),message:ds,};d7.contentWindow.postMessage(eD,df);dR()};var dr=function(){cJ=true;cI("click");cK();dX()};var cH=function(){var eD=bA.location.hash;if(!eD){return}if(cg(eD,"roistat-lead-hunter")){dr()}};var dp=function cO(){o("LeadHunter: binding timeout");if(dk){o("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(cU){o("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(c4>0){var eD=(c5-bC())+c4*1000;o("LeadHunter: binding timeout with delay "+eD+" ms");clearTimeout(es.timeoutId);es.timeoutId=setTimeout(function(){o("LeadHunter: form auto activate with autoTime = "+c4);if(!cU){cJ=true;cI("auto");cK();dX()}},eD)}else{o("LeadHunter: auto show time is not positive, feature disabled")}};var eB=function(eF,eE,eD){if(eF.addEventListener){eF.addEventListener(eE,eD,false)}else{if(eF.attachEvent){eF.attachEvent("on"+eE,eD)}else{o("Handler could not be attached")}}};var ee=function(){eb.onclick=dY.onclick=dI;ev.onclick=dl;if(eq){eB(eq,"click",dw)}if(dW){eB(dW,"change",ez)}var eE=t.getElementsByClassName("roistat-lh-input");for(var eH=0;eH<eE.length;eH++){eB(eE[eH],"keyup",function(eJ){eJ=eJ||event;var eI=(eJ.keyCode?eJ.keyCode:eJ.which);if(eI==13){dl()}})}var eF=bA.onresize;bA.onresize=function(eI){if(eF){eF(eI)}ei(eI)};if(!dk){var eD=t.onmouseout;t.onmouseout=function(eI){if(eD){eD(eI)}dV(eI)}}if(dx){c3.onmouseover=function(){Q(c3,"roistat-lh-pulsator-hover")};c3.onmouseout=function(){bt(c3,"roistat-lh-pulsator-hover")};c3.onclick=function(){dr()}}var eG=bA.onhashchange;bA.onhashchange=function(){if(eG){eG.apply(this,arguments)}cH()}};var eu=function(){if(dx){c3.onmouseover=function(){Q(c3,"roistat-lh-pulsator-hover")};c3.onmouseout=function(){bt(c3,"roistat-lh-pulsator-hover")};c3.onclick=function(){dr()}}dY.onclick=dI;d7=t.getElementById(du);eB(d7,"load",function(){cK();er()});var eE=bA.onresize;bA.onresize=function(eG){if(eE){eE(eG)}ei(eG)};if(!dk){var eD=t.onmouseout;t.onmouseout=function(eG){if(eD){eD(eG)}dV(eG)}}var eF=bA.onhashchange;bA.onhashchange=function(){if(eF){eF.apply(this,arguments)}cH()}};var dH=function(eE){var eD=t.getElementsByClassName(eE);if(eD.length>0){return eD[0]}else{return null}};var dD=function(){var eG=dH("roistat-lh-title");if(eG&&roistat.leadHunter.form.title){eG.innerHTML=roistat.leadHunter.form.title}var eE=dH("roistat-lh-sub-title");if(eE&&roistat.leadHunter.form.subTitle){eE.innerHTML=roistat.leadHunter.form.subTitle}var eF=dH("roistat-lh-thank-you");if(eF&&roistat.leadHunter.form.thankYouText){eF.innerHTML=roistat.leadHunter.form.thankYouText}var eI=dH("roistat-lh-submit");if(eI&&roistat.leadHunter.form.buttonText){eI.value=roistat.leadHunter.form.buttonText
}var eH=dH("roistat-lh-text-label-name");if(eH&&roistat.leadHunter.form.nameLabel){eH.innerHTML=roistat.leadHunter.form.nameLabel}var eD=dH("roistat-lh-text-label-contact");if(eD&&roistat.leadHunter.form.contactLabel){eD.innerHTML=roistat.leadHunter.form.contactLabel}};var cY=function(eE,eI,eH){var eD;if(!eE){o("LeadHunter: deactivating, empty form")}else{o("LeadHunter: rendering hidden form")}if(by.isAvailable()){d5(eE,eI,eH)}dY=t.createElement("div");dL=t.createElement("div");dL.innerHTML=eE;dY.className=dj;dL.className=dj;if(eI&&dx&&eH){var eF=typeof eH.position==="string"&&eH.position!==""?eH.position:"bottomRight";eD=t.createElement("div");eD.innerHTML=eI;c3=eD.childNodes.item(0);ef=c3.childNodes.item(1);dE=c3.childNodes.item(2).childNodes.item(0);ef.setAttribute("style","background: "+eH.button.background+";");dE.setAttribute("style","fill: "+eH.button.color+";");c3.setAttribute("style","bottom: "+ew[eF].bottom+";right:"+ew[eF].right+";");es.pulsator.previousClass=c3.className;c3.className=dj;t.body.appendChild(c3)}t.body.appendChild(dY);t.body.appendChild(dL);c8=t.getElementById(c9);ex=t.getElementById(cV);et=t.getElementById(dB);eb=t.getElementById(cF);ev=t.getElementById(cG);cM=t.getElementById(el);dW=t.getElementById(ey);eq=t.getElementById(ea);dF=t.getElementById(cA);dt=t.getElementById(eg);cP=t.getElementById(dK);var eG=dH(cX);c7=eG&&eG.getAttribute("data-is-iframe");if(c7){eu()}else{dD();ee();cH();er()}};var cN=function(){var eD=by.get(c0()),eF=by.get(da),eE=by.getObject(d8);bA.roistatLeadhunterForm=cY;if(!eD||!eE){o("LeadHunter: requesting form from server");au(aI()+"//"+p+"/api/site/"+N+"/"+aC()+"/leadhunter-form?domain="+encodeURIComponent(t.domain))}else{bA.roistatLeadhunterForm(bD.decode(eD),bD.decode(eF),eE)}};var dn=function(){var eE=dL.clientWidth,eD=dL.clientHeight;dL.setAttribute("style",dL.getAttribute("style")+" width: "+eE+"px; height: "+eD+"px;");if(ex!==null){ex.className=dj}if(c8!==null){c8.className=dj}if(cM!==null){cM.className=dj}if(et!==null){et.setAttribute("style","width: "+eE+"px; height: "+eD+"px; display: table-cell;");et.className=cT}setTimeout(function(){o("LeadHunter: close form after timeout");dI()},7000)};var dX=function(){var eE=Math.round((d9()-dL.clientHeight)/2);var eD=Math.round((eA()-dL.clientWidth)/2);dL.setAttribute("style","left: "+eD+"px; top: "+Math.max(0,eE)+"px;")};var cI=function(eE){if(bA.roistat.leadHunter.onBeforeAppear){o("LeadHunter: process user defined onBeforeAppear");bA.roistat.leadHunter.onBeforeAppear(eE);if(c7){dR()}}dL.setAttribute("style","left:20px;top:-20px;opacity:0");dY.className=dZ;dL.className=dA;if(ex!==null){ex.className=ek}if(c8!==null){c8.className=em}if(cM!==null){cM.className=dv}if(et!==null){et.setAttribute("style","");et.className=dj}dY.setAttribute("style","opacity:0;");cU=true;setTimeout(function(){dY.setAttribute("style","opacity:.5;")},10);var eF=h(bu),eD=di+"?visit_id="+eF;D(eD);if(bA.roistat.leadHunter.onAfterAppear){o("LeadHunter: process user defined onAfterAppear");bA.roistat.leadHunter.onAfterAppear(eF,dY,dL,ex);if(c7){dR()}}};var d1=function dJ(){cS();c5=bC();var eD=false;var eE=bA.onload;bA.onload=function(){if(eE){eE()}if(!eD){eD=true;o("LeadHunter: form initialized in window.onload");cN()}};setTimeout(function(){if(!eD){eD=true;o("LeadHunter: form initialized after timeout");cN()}},5000)};var er=function dq(){o("LeadHunter: tuning appearance for page");if(!eC()){o("LeadHunter: disabled on page");es.leave.isShowEnabled=false;clearTimeout(es.timeoutId);if(c3){c3.className=dj}}else{o("LeadHunter: enabled on page");es.leave.isShowEnabled=true;dp();if(c3){c3.className=es.pulsator.previousClass}}};var db=function dU(){o("LeadHunter: processing single page application state change");c5=bC();er()};var d6=function dy(){aa(db);M(bA,"message",function eD(eG){var eF=typeof eG.data==="string"?eG.data:eG.data.message;if(eF===cW){dI()}if(eF===d0){d7.setAttribute("style","width: "+eG.data.width+"px !important; height: "+eG.data.height+"px !important;");ei()}if(eF===eh){var eH=eG.data.caughtLeadData;if(bA.roistat.leadHunter.onBeforeSubmit){o("LeadHunter: process user defined onBeforeSubmit");var eE=bA.roistat.leadHunter.onBeforeSubmit(eH);if(eE){eH=eE}}d7.contentWindow.postMessage({caughtLead:eH,message:dN},df)}if(eF===eo){if(bA.roistat.leadHunter.onAfterSubmit){o("LeadHunter: process user defined onAfterSubmit");bA.roistat.leadHunter.onAfterSubmit({name:eG.data.name,phone:eG.data.phone})}}})};function dR(){var eD={apiData:bA.roistat.leadHunter.form,message:d3};d7.contentWindow.postMessage(eD,df)}function dP(){if(!d2()){return}if(!dh()){return}o("LeadHunter: activated");d1();d6()}function d9(){return(bA.innerHeight?bA.innerHeight:t.documentElement.clientHeight==0?t.body.clientHeight:t.documentElement.clientHeight)}function eA(){return(bA.innerWidth?bA.innerWidth:t.documentElement.clientWidth==0?t.body.clientWidth:t.documentElement.clientWidth)}function dV(eF){eF=eF||event;c6=eF.clientY;var eD=c6/d9(),eH=cZ>0&&cZ>eD,eE=eD<c2,eG=(bC()-c5)>ep*1000;
if(eH&&eE&&!cU&&eG&&es.leave.isShowEnabled){o("LeadHunter: show modal with because move up ("+cZ+" -> "+eD+") and in modal zone and show on leave enabled");cI("exit");cK();dz(eF)}if(eD<cQ){cZ=eD}}function ei(eD){if(cJ){dX()}else{eD=eD||event;dz(eD)}}function dz(eG){var eD=eG.clientX-Math.round(dL.clientWidth/2)||dL.offsetLeft;eD=Math.max(20,Math.min(eD,eA()-dL.offsetWidth-20));var eH=eD+dL.offsetWidth>eA()-40;if(eH){var eE=(eD+dL.clientWidth-20)-(eA()-40);eD=eD-eE}var eF=eA()-40>dL.offsetWidth?"":"width:"+(dL.offsetWidth-40)+"px;";dL.setAttribute("style","left:"+eD+"px; top: 0px; "+eF)}function cL(){bA.roistatSetCookie(cR,1,b3)}function dI(){cL();dY.setAttribute("style","opacity:0");dL.style.top="-"+dL.offsetHeight*2+"px";setTimeout(function(){dL.className=dY.className=dj},500)}function dl(){var eR=t.getElementById("roistat-lh-phone-input"),eF=t.getElementById("roistat-lh-name-input"),eH,eP;eH=eR===null?"":eR.value;eP=eF===null?"":eF.value;var eM={name:eP,phone:eH,isNeedCallback:null,callbackPhone:null,fields:{}};if(bA.roistat.leadHunter.onBeforeSubmit){o("LeadHunter: process user defined onBeforeSubmit");var eI=bA.roistat.leadHunter.onBeforeSubmit(eM);if(eI){eM=eI}}var eO=eM.phone.length<1;var eQ=eM.phone.indexOf("_")===-1;var eK=!eO&&eQ;var eN=eM.name.length<1;var eE=!eN||!bA.roistat.leadHunter.form.isNameRequired;if(!eK){eR.setAttribute("style","border: 2px solid #E0571A;");return}if(!eE){eF.setAttribute("style","border: 2px solid #E0571A;");return}var eD=cD+"?v="+F+"&lead-hunt-input="+encodeURIComponent(eM.phone)+"&lead-name="+encodeURIComponent(eM.name)+"&visit="+bP();if(eM.isNeedCallback!==null&&eM.isNeedCallback!==a8){eD=eD+"&is_need_callback="+(eM.isNeedCallback>0?1:0)}if(eM.callbackPhone){eD=eD+"&callback_phone="+eM.callbackPhone}if(bA.roistat.leadHunter.additionalNotifyEmail!==null){eD=eD+"&additional_email="+encodeURIComponent(bA.roistat.leadHunter.additionalNotifyEmail)}var eG=0;if(eM.fields&&typeof eM.fields==="object"){for(var eJ in eM.fields){if(eM.fields.hasOwnProperty(eJ)){++eG}}}if(eG>0){eD=eD+"&fields="+en(JSON.stringify(eM.fields))}eD=eD+"&t="+bC();var eL=t.createElement("img");eL.src=eD;eR.setAttribute("style","");cL();if(et===null){dI();dg()}else{dn()}if(bA.roistat.leadHunter.onAfterSubmit){o("LeadHunter: process user defined onAfterSubmit");bA.roistat.leadHunter.onAfterSubmit({name:eP,phone:eH})}}function dw(eD){if(eD.preventDefault){eD.preventDefault()}else{eD.returnValue=false}dF.style.display==="block"?dF.style.display="none":dF.setAttribute("style","display: block; padding: 0 30px; width:"+dL.clientWidth+"px;");ei()}function ez(){ev.disabled===true?ev.disabled=false:ev.disabled=true;dt.style.display==="block"?dt.style.display="none":dt.style.display="block"}function dg(){t.onmousemove=null;dY.onresize=null}var dc=function(eJ,eM){if(!eJ||!eM){o("LeadHunter: skip phone mask render due to empty input or mask");return}o("LeadHunter: render phone mask "+eM+" for input: "+eJ.value);if(bA.roistatRenderPhoneMaskMutex){return}bA.roistatRenderPhoneMaskMutex=true;var eG="_",eF="x",eI="Ñ…",eH=eM.toLowerCase().split(eF).join(eG).split(eI).join(eG);var eE=function(eN){if(eJ.setSelectionRange){eJ.setSelectionRange(eN,eN)}else{if(eJ.createTextRange){var eO=eJ.createTextRange();eO.collapse(true);eO.moveEnd("character",eN);eO.moveStart("character",eN);eO.select()}}};var eK=function(eN){if(!eN){return 0}var eO=eN.indexOf(eG);if(eO<0){return eN.length}return eO};var eL=function(eN){eE(eK(eN))};var eD=function(eW){var eX=eH.split("");if(!eW){return eH}var eN=eW.split("");var eY=[],eV,eS,eU,eR,eP,eO,eT;for(var eQ=0;eQ<eX.length;eQ++){eS=eX[eQ];if(eQ>=eN.length){eY.push(eS);continue}eP=((eQ+1)<eX.length)?eX[eQ+1]:null;eO=((eQ+1)<eN.length)?eN[eQ+1]:null;eT=((eQ+2)<eN.length)?eN[eQ+2]:null;eV=eN[eQ];eU=parseInt(eV)>=0;eR=(eS===eG)&&eU;if(!eR){eY.push(eS);continue}if(eO===eG&&eP!==eG&&eT!==eP){eY.push(eS);continue}eY.push(eV)}return eY.join("")};setTimeout(function(){var eN=eD(eJ.value);if(eJ.value!==eN){eJ.value=eN}eL(eN);bA.roistatRenderPhoneMaskMutex=false},1)};var d5=function(eD,eF,eE){by.set(c0(),bD.encode(eD));by.set(da,bD.encode(eF));by.setObject(d8,eE)};var dO=function(eD){dG=eD;if(d7===a8){return}cB()};var cB=function(){var eD={language:dG,message:d4};d7.contentWindow.postMessage(eD,df)};bN(dP);bA.roistatLeadHunterShow=dr;bA.roistatRenderPhoneMask=dc;bA.roistatSaveLeadHunterTemplates=d5;bA.roistat.leadHunter.localization.translateToRussian=function(){dO(ed)};bA.roistat.leadHunter.localization.translateToEnglish=function(){dO(cE)}})();(function aj(){var cJ="online-chat-wrap",cF="iframe-module-created",cD="roistat-online-chat-init",cL="roistat_chat_id",cM,cI,cH;var cB=function(cN){o("onlineChat: "+cN)};var cC=function(){var cN={message:cF,detail:{version:F,projectKey:aC(),visitId:bP(),chatId:h(cL),moduleTargetOrigin:bA.location.origin,referrer:bA.location.href,params:cH,},};cI.contentWindow.postMessage(cN,cI.src)};var cE=function(){M(bA,"message",function cN(cQ){var cP=typeof cQ.data==="string"?cQ.data:cQ.data.message;
var cO=typeof cQ.data!=="string"?cQ.data.detail:{};cB("event: "+cP+" "+JSON.stringify(cO));switch(cP){case cF:cC();break;case cD:cB("saving chat id = "+cO.chatId);cp(cL,cO.chatId);break}})};var cA=function(cN){cH=cN;cM=t.createElement("div");cI=t.createElement("iframe");cI.setAttribute("src",aI()+"//"+p+"/api/site/"+N+"/"+aC()+"/online-chat-widget");cI.style.width="460px";cI.style.height="630px";cI.style.border="none";cM.classList.add(cJ);cM.style.position="fixed";cM.style.bottom="50px";cM.style.right="130px";cM.appendChild(cI);t.body.appendChild(cM)};var cG=function(){bA.roistatOnlineChatShow=cA;cB("chat window initialized")};function cK(){cG();cE()}bN(cK)})()}(function n(){var cN=function(){return h(cv)};var cL=function(){return by.get(aR)};var cE=function(){return by.get(a1)};var cR=function(cT){return cT!=null&&cT!==a8&&cT!==""};var cQ=function(){var cT=[];var cU=t.getElementsByClassName(U);if(cU&&cU.length){cT=cU}return cT};var cC=function(){var cT=[];var cU=t.getElementsByClassName(s);if(cU&&cU.length){cT=cU}return cT};var cB=function(){var cT=[];var cU=t.getElementsByClassName(P);if(cU&&cU.length){cT=cU}return cT};var cG=function(){var cT=[];var cU=t.getElementsByClassName(v);if(cU&&cU.length){cT=cU}return cT};var cJ=function(){var cT=[];var cU=t.getElementsByClassName(co);if(cU&&cU.length){cT=cU}return cT};var cA=function(c6,cU){o("CallTracking: RenderPhone phone = "+c6);var cZ=function(c8){return c8.split(/[^0-9]/).join("")};var c0=function(db,dd){var dg=null;if(!db){return dg}var c8=dd.split(",");if(c8.length<2){dg=dd}else{var c9=db.getAttribute("data-prefix");if(c9){for(var dc=0;dc<c8.length;dc++){var de=c8[dc];var df=cZ(de);if(df.indexOf("8")===0){df="7"+df.substring(1)}var da=df.split(c9)[0]==="";if(da){dg=de;break}}}if(dg===null){dg=c8[0]}o("CallTracking._getPhoneForElement: Prepared phone = "+dg+" for data-prefix = "+c9)}return dg};var cX=function(dc,da){var c8=c0(dc,da);if(!c8||!dc){return}if(dc.tagName.toLowerCase()!=="a"){return}var db=dc.getAttribute("href");if(cg(db,"tel:")){var c9=cZ(c8);if(c9.indexOf("8")===0){c9="7"+c9.substring(1)}dc.setAttribute("href","tel:+"+c9);cY(dc,c8)}};var cY=function(c9,c8){if(!c9.hasAttribute("title")){return}c9.setAttribute("title",c8)};var c2=function(da,c9){var c8=c0(da,c9);if(!c8||!da){return}da.innerHTML=c8};var c7=function(c8){var c9=cQ();o("CallTracking: render phone default classes for "+c9.length+" elements");m(c9,function(da){c2(da,c8);cX(da,c8)});m(cC(),function(db){var da=cZ(c0(db,c8)).slice(0,1);c2(db,da)});m(cB(),function(db){var dc=c0(db,c8).match(/\((.*)\)/);if(dc!==null){var da=dc[1];c2(db,da)}});m(cG(),function(dc){var da=c0(dc,c8).match(/\)(.*)/);if(da!==null){var dd=cZ(da[1]);var db=dd.slice(-1*dd.length,-4)+"-"+dd.slice(-4,-2)+"-"+dd.slice(-2);c2(dc,db)}});m(cJ(),function(da){cX(da,c8)})};var c5=function(c8,dd){if(!dd){return}o("CallTracking: render phone user replacement for "+dd.length+" replacements");for(var dc=0;dc<dd.length;dc++){var df=dd[dc];if(!df){continue}var da=df[0];df=df.substr(1);var de=[];if(da==="#"){var db=t.getElementById(df);if(db!==null){de.push(db)}}else{de=t.getElementsByClassName(df);cW(df,c8)}if(!de||de.length<1){continue}o("CallTracking: render phone for "+df+", "+de.length+" elements");for(var c9=0;c9<de.length;c9++){c2(de[c9],c8);cX(de[c9],c8)}}};var c1=function(c8){for(var c9=0;c9<c8.length;c9++){c5(c8[c9].phone,c8[c9].css_selectors);c4(c8[c9].phone,c8[c9].replaceable_numbers)}};var c4=function(da,c9){if(!c9||c9.length===0){return}var c8=function(){var dl=de();var dk=t.getElementsByTagName("*");var df=dk.length;for(var dj=0;dj<df;dj++){var dm=dk[dj];db(dm,dl,c0(dm,da));var di=dm.childNodes.length;for(var dg=0;dg<di;dg++){var dh=dm.childNodes[dg];dd(dh,dl,c0(dh,da))}}};var db=function(dj,di,df){if(!dc(dj)){return}var dk=dj.getAttribute("href").replace("tel:","");var dh=di.length;for(var dg=0;dg<dh;dg++){if(di[dg].test(dk)){cX(dj,c0(dj,df))}}};var dc=function(dg){if(dg.tagName.toLowerCase()!=="a"){return false}var df=dg.getAttribute("href");return ay(df)&&df.indexOf("tel:")===0};var de=function(){var dh=[];for(var df=0;df<c9.length;df++){var dg="[\\s()[\\]{}\\-+.]*";var di=c9[df].split("").join(dg);dh.push(new RegExp("[+(]?"+di,"g"))}return dh};var dd=function(di,dh,df){if(di.nodeType!==Node.TEXT_NODE){return}for(var dg=0;dg<dh.length;dg++){if(di.textContent&&dh[dg].test(di.textContent)){di.textContent=di.textContent.replace(dh[dg],df)}else{if(di.innerText&&dh[dg].test(di.innerText)){di.innerText=di.innerText.replace(dh[dg],df)}}}};c8()};var cW=function(c9,c8){m(cV(c9+"-"+be),function(db){var da=cZ(c0(db,c8)).slice(0,1);c2(db,da)});m(cV(c9+"-"+ao),function(db){var dc=c0(db,c8).match(/\((.*)\)/);if(dc!==null){var da=dc[1];c2(db,da)}});m(cV(c9+"-"+aQ),function(dc){var da=c0(dc,c8).match(/\)(.*)/);if(da!==null){var dd=cZ(da[1]);var db=dd.slice(-1*dd.length,-4)+"-"+dd.slice(-4,-2)+"-"+dd.slice(-2);c2(dc,db)}});m(cV(c9+"-"+bp),function(da){cX(da,c8)})};var cV=function(c9){var c8=[];var da=t.getElementsByClassName(c9);
if(da&&da.length){c8=da}return c8};var c3=function c3(){var c9=cE();if(c9){c9=c9.split("\n");for(var c8=0;c8<c9.length;c8++){c9[c8]="."+c9[c8]}}if(cU instanceof Array){c1(cU)}else{c7(c6);c5(c6,c9)}};(function cT(){c3();var c8=[300,5000,15000];c8.forEach(function(c9){setTimeout(c3,c9)})})()};var cD=function(cT){by.save(k,cT,b3)};var cM=function(){if(bA.roistat.callTracking.phone){var cT={expires:parseInt(bA.roistat.callTracking.sessionTime),path:"/"};if(b3.domain){cT.domain=b3.domain}cp(cv,bA.roistat.callTracking.phone,cT);cD(1);by.save(a1,bA.roistat.callTracking.replacementClasses,b3);by.save(aR,bA.roistat.callTracking.phoneScriptsJson,b3)}};var cK=function(cT,cX,cV,cU){o("CallTracking: reuse phone "+cT+" for time "+cX+" and replacements "+cV);if(!cR(cT)){o("CallTracking: new phone is invalid");roistat.callTracking.phone=null;ci();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=cT;roistat.callTracking.sessionTime=cX;roistat.callTracking.replacementClasses=cV;roistat.callTracking.phoneScriptsJson=cU;ci();cM();var cY={expires:parseInt(cX),path:"/"};if(b3.domain){cY.domain=b3.domain}cp(cv,cT,cY);by.save(aR,cU,b3);by.save(a1,cV,b3);var cW=cl(cU);if(cW==null){cA(cT)}else{cA(cT,cW)}};var cF=function(){o("CallTracking: request new phone");var cT=h(bu);var cX=R();var cW=cX?cX:a2;var cV=encodeURIComponent(bM);var cU=y()+"/get-phone?visit="+cT+"&marker="+(cW?cW:"")+"&prefix="+bT+"&prefix_bind="+cw+"&phone_scripts_bind="+B+"&page="+cV;au(cU)};var cH=function(){bT=bA.roistatPhonePrefix?bA.roistatPhonePrefix:"";cw=bA.roistatPhonePrefixBind?bA.roistatPhonePrefixBind:"";B=bA.roistatCalltrackingScripts&&bA.roistatCalltrackingScripts.join?bA.roistatCalltrackingScripts.join(","):"";o("CallTracking: refresh phone with prefix: "+bT+", binding: "+cw+", scripts: "+B);cF()};var cS=function(){var cT=by.get(k)>0;var cU=bl.callTrackingEnabled;return cT&&cU};var cI=function(cT){cD(cT.is_enabled)};var cP=function cP(){var cT=cN();if(!cR(cT)){o("CallTracking: invalid phone "+cT+", requesting a new one");cF()}else{o("CallTracking: render phone "+cT);var cU=cl(cL());if(cU==null){cA(cT)}else{cA(cT,cU)}}};var cO=function(){o("CallTracking: init");cM();if(!cS()){o("CallTracking: disabled, skip");return}if(bl.callTrackingManual){o("CallTracking: init finish because off manual");return}cP();aa(cP)};bA.roistatCallTrackingRefresh=cH;bA.roistatRequestNewPhone=cF;bA.roistatReusePhone=cK;bA.roistatCalltrackingUpdateSettings=cI;bN(cO)})();(function r(){var cC=function(cI){o("Emailtracking: "+cI)};var cG=function(cI,cK,cJ){by.save(a0,cI,b3);by.save(b,cK,b3);by.save(bb,JSON.stringify(cJ),b3)};var cB=function(){var cI=(bA.roistat.emailtracking.email&&bA.roistat.emailtracking.trackingEmail)||ap(bA.roistat.emailtracking.emails);if(bA.roistat.emailtracking.loaded&&cI){cC("save loaded email: "+bA.roistat.emailtracking.email);cG(bA.roistat.emailtracking.email,bA.roistat.emailtracking.trackingEmail,bA.roistat.emailtracking.emails)}else{cC("settings save skip, because not loaded");bA.roistat.emailtracking.email=by.get(a0);bA.roistat.emailtracking.email=bA.roistat.emailtracking.email?bA.roistat.emailtracking.email:null;bA.roistat.emailtracking.email=bA.roistat.emailtracking.email==="null"?null:bA.roistat.emailtracking.email;cC("email loaded from storage: "+bA.roistat.emailtracking.email);bA.roistat.emailtracking.trackingEmail=by.get(b);bA.roistat.emailtracking.trackingEmail=bA.roistat.emailtracking.trackingEmail?bA.roistat.emailtracking.trackingEmail:null;bA.roistat.emailtracking.trackingEmail=bA.roistat.emailtracking.trackingEmail==="null"?null:bA.roistat.emailtracking.trackingEmail;cC("tracking email loaded from storage: "+bA.roistat.emailtracking.trackingEmail);bA.roistat.emailtracking.emails=cl(by.get(bb));bA.roistat.emailtracking.emails=bA.roistat.emailtracking.emails?bA.roistat.emailtracking.emails:null;cC("emails loaded from storage: "+JSON.stringify(bA.roistat.emailtracking.emails))}};var cE=function(cI){cG(cI.email,cI.trackingEmail,cI.emails)};var cD=function(){var cI=(!!bA.roistat.emailtracking.email&&!!bA.roistat.emailtracking.trackingEmail)||ap(bA.roistat.emailtracking.emails);return bA.roistat.emailtracking.enabled&&cI};var cA=function(){if(!cD()){cC("emailtracking disabled, skip swapping");return}var cJ=function(cN,cO,cM){if(cN.href){if(cO.test(cN.href)){cN.href=cN.href.replace(cO,cM);return true}}if(cN.nodeType!==3){return false}if(cN.textContent&&cO.test(cN.textContent)){cN.textContent=cN.textContent.replace(cO,cM);return true}else{if(cN.innerText&&cO.test(cN.innerText)){cN.innerText=cN.innerText.replace(cO,cM);return true}}return false};var cI=function(cM){return cM.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var cK=function(cO,cN){var cM=!cN.match(/[a-z]/);return cM?cO.toUpperCase():cO};var cL=function(cU,cW){var cX=cI(cU);var cO=new RegExp("(^|\\s)(mailto:)?("+cX+")($|\\s|\\?)","gi");var cY=function(c3,c1,cZ,c0,c2){cZ=cZ||"";return c1+cZ+cK(cW,c0)+c2};cC("starting to replace email "+cU+" to "+cW+" with regexp "+cO);
var cN=t.getElementsByTagName("*");var cQ=cN.length;cC("found "+cQ+" nodes on page");var cT=0;for(var cS=0;cS<cQ;cS++){var cP=cN[cS];var cV=cP.childNodes.length;if(cV>0){for(var cR=0;cR<cV;cR++){var cM=cP.childNodes[cR];if(cJ(cM,cO,cY)){cT++}}}if(cJ(cP,cO,cY)){cT++}}cC("successfully replaced "+cT+" nodes")};if(bA.roistat.emailtracking.emails){aU(bA.roistat.emailtracking.emails,cL)}else{cL(bA.roistat.emailtracking.email,bA.roistat.emailtracking.trackingEmail)}};var cF=function(){cC("process email swap");cA();setTimeout(function(){cA()},300);setTimeout(function(){cA()},5000);setTimeout(function(){cA()},15000)};var cH=function(){cC("init");aa(cF);cB();cF()};bA.roistatEmailtrackingUpdateSettings=cE;bA.roistat.emailtracking.refresh=cA;bN(cH)})();(function aW(){var cD=function(cF){o("MultiDomain: "+cF)};var cC=function(){return by.get(b5)>0};var cB=function(cJ){var cK=function(cM){if(!cM){return false}if(cg(cM,"roistat_visit")){return false}var cL=aG(cM);var cO=aG(t.domain);var cN=new RegExp(/^((https?:)?\/\/)?([A-ZÐ-Ð¯Ð0-9\_\-\~]+\.)+[A-ZÐ-Ð¯Ð0-9\_\-\~]+/i);return cL!==cO&&cN.test(cM)};var cI=function(cO){var cP=cO.split("#");var cN=cP[0].split("?");var cL="";var cM="";if(cN.length===2){cL=cN[1]}if(cL){cM="&"}cL=cL+cM+"roistat_visit="+roistat.getVisit();cN[1]=cL;cP[0]=cN.join("?");return cP.join("#")};if(cJ.tagName.toLowerCase()!=="a"){return}var cH=cJ.getAttribute("href");var cG=false;if(cK(cH)){var cF=cI(cH);cD("update url "+cH+" > "+cF);cJ.setAttribute("href",cF);cG=true}return cG};var cA=function(){if(!cC()){cD("disabled, skip");return}var cF=t.getElementsByTagName("a");var cG=cF.length;cD("found "+cG+" <a> nodes on page");var cJ=0;for(var cH=0;cH<cG;cH++){var cI=cF[cH];if(cB(cI)){cJ++}}cD("replaced "+cJ+" nodes")};var cE=function(){cD("init");cA();setTimeout(function(){cA()},300);setTimeout(function(){cA()},5000);setTimeout(function(){cA()},15000)};bN(cE)})();(function cd(){var cA=60*1000;var cJ=2*60*1000;var cC="roistat_last_settings_update_time";var cB=function(cL){o("SettingsUpdater: "+cL)};var cF=function(){return by.get(cC)};var cH=function(){by.set(cC,bC())};var cI=function(){var cM=cF();var cL=!(cM>0);cB("is first update check: lastUpdateTime="+cM+", result="+(cL?1:0));return cL};var cK=function(){var cN=bC()-cJ;var cM=cF();var cL=cM<=cN;cB("expiration check: _minTime="+cN+", lastUpdateTime="+cM+", result="+(cL?1:0));return cL};var cE=function(){var cL=h(bu);a(cL)};var cD=function(cL){cB("update settings and save last update time");bA.roistatCalltrackingUpdateSettings(cL.calltracking);bA.roistatEmailtrackingUpdateSettings(cL.emailtracking);bA.roistatSaveLeadHunterTemplates(cL.leadhunter_templates.form_template,cL.leadhunter_templates.pulsator_template,cL.leadhunter_templates.pulsator_settings);bA.roistatSaveProxyFormSettings(cL.proxy_forms);aK(cL.js_settings);bw.isSettingsUpdating=false;cH()};var cG=function(){cB("init");if(cI()){cB("in first update we just start first timer and skip");cH();return}if(!cK()){cB("update is not not expired, skip");return}cB("start to update settings");cE()};bN(function(){bA.roistatUpdateSettings=cD;setTimeout(function(){cG()},3000);cB("set interval to update settings");setInterval(function(){cG()},cA)})})();(function bi(cE,cA,cG){var cD={};var cB=function(cI){var cH=encodeURIComponent?encodeURIComponent:encodeURI;return cH(cI)};var cC=function(cO,cI){o("Reach goal start");if(!cO){cO={}}var cL={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:bP(),is_skip_sending:0,items:"",placeholders_data:"",};for(var cK in cL){if(!Object.prototype.hasOwnProperty.call(cL,cK)){continue}if(!Object.prototype.hasOwnProperty.call(cO,cK)){continue}if(!cO[cK]){continue}if(cK==="fields"||cK==="client_fields"||cK==="items"||cK==="placeholders_data"){cO[cK]=JSON.stringify(cO[cK])}cL[cK]=cB(cO[cK])}var cN=aC();var cM=aI()+"//"+p+"/api/site/"+N+"/"+cN+"/reach-goal?v=2";for(var cJ in cL){if(!Object.prototype.hasOwnProperty.call(cL,cJ)){continue}cM=cM+"&"+cJ+"="+cL[cJ]}if(cI!==cG){var cH=Math.random().toString();cD[cH]=cI;cM+="&callback_key="+cH}au(cM);o("Reach goal completed")};var cF=cE.roistatGoal={reach:function(cI,cH){cC(cI,cH)},callAfterReachCallback:function(cH){if(Object.prototype.hasOwnProperty.call(cD,cH)){cD[cH]();delete cD[cH]}}}})(bA,t,a8);(function cr(cC,cA,cD){var cB=function(cI){if(cI instanceof Array||cI===null||typeof cI!=="object"){o("Invalid event data");return""}var cF=[];for(var cH in cI){if(Object.prototype.hasOwnProperty.call(cI,cH)){var cG=cI[cH];if(typeof cG==="string"||typeof cG==="number"){cF.push("data["+encodeURIComponent(cH)+"]="+encodeURIComponent(cG))}else{o("Event data property ignored: "+cH)}}}return cF.length>0?"&"+cF.join("&"):""};var cE=function(cH,cI){o("Send event start");var cF=l();var cG=y()+"/event/register?visit="+cF+"&event="+cH+cB(cI);au(cG);o("Send event completed")};cC.roistat.event={send:function(cF,cG){cE(cF,cG)}}})(bA,t,a8);(function bz(cK,cM,cD){var cN=cK.roistatIsInitVisit===true?20000:10000;
var cC=(new Date()).getTime();var cB=function(cR){return"approve_visit_"+cR};var cJ=function(cR){br.set(cB(cR),1)};var cO=function(cR){return br.get(cB(cR))>0};var cA,cF,cQ=[];if(cM.addEventListener){cA=function(cS,cR,cT){return cS.addEventListener(cR,cT,false)};cF=function(cS,cR,cT){return cS.removeEventListener(cR,cT,false)}}else{cA=function(cS,cR,cT){return cS.attachEvent("on"+cR,cT)};cF=function(cS,cR,cT){return cS.detachEvent("on"+cR,cT)}}var cI=function(cU){if(cQ.length>30){return}cU=cU||cK.event;if(!cU||!cU.screenX){return}var cT=(new Date()).getTime();var cW,cV=null;if(cQ.length>0){cV=cQ[cQ.length-1]}if(cV){cW=cT-cV.time}else{cW=cT-cC}if(cW<300){return}cW=cW-300;var cY=0;var cR=cU.screenX;var cX=cU.screenY;if(cV){cY=parseInt(Math.sqrt(Math.pow(cV.y-cX,2)+Math.pow(cV.x-cR,2)))}var cS={time:cT,pauseBeforeMove:cW,x:cR,y:cX,distance:cY};cQ.push(cS)};var cH=function(){var cR=[];m(cQ,function(cS){var cT=[cS.pauseBeforeMove,cS.distance];cR.push(cT.join(":"))});if(cR.length===0){cR.push("0:0")}return cR.join("|")};var cE=function(){for(var cR in cK){if(cg(cR,"yaCounter")){return true}}return false};var cL=function(){cF(cM,"mousemove",cI);var cR=l();o("VisitApprove: start for visit "+cR);if(cO(cR)){o("VisitApprove: visit already approved, skip");return}cJ(cR);ac();var cS=y()+"/approve?v="+F+"&visit="+cR;if(cP()){cS+="&hash="+W()}if(cG()){cS+="&page_params="+encodeURIComponent(JSON.stringify(cK.roistat.page.params));e()}cS+="&mv="+cH();cS+="&pl="+(cK.navigator?cK.navigator.platform:"");cS+="&ym="+(cE()?"1":"0");au(cS)};var cP=function(){var cV=bw.cookies,cU=j();var cX=aN();for(var cS=0;cS<cX.length;cS++){var cW=cX[cS];var cY=Object.prototype.hasOwnProperty.call(cV,cW)?cV[cW]:cD;var cR=Object.prototype.hasOwnProperty.call(cU,cW)?cU[cW]:cD;var cT=typeof cR==="string"&&cR.length>0;if(cT&&cY!==cR){return true}}return false};var cG=function(){var cW=bw.pageParams,cT=cK.roistat.page.params;for(var cS=0;cS<bU.length;cS++){var cR=bU[cS];var cU=Object.prototype.hasOwnProperty.call(cW,cR)?cW[cR]:null;var cV=Object.prototype.hasOwnProperty.call(cT,cR)?cT[cR]:null;if(cV!==cU){return true}}return false};setTimeout(function(){cL()},cN);cA(cM,"mousemove",cI)})(bA,t,a8);(function ab(cF,cG,cB){var cD=function(){return H("roistat_ab_demo")==="1"};var cH=function(cK){return new RegExp(cK.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var cE=function(cP){var cK=cF.location.href,cN=cP.filter,cT=cP.filterValue;var cQ;switch(cN){case"except":case"pages":var cL,cS,cR=false;cS=cK?an(cK):"";cQ=cT?cT.split("\n"):[];if(cS&&cQ.length!==0){for(var cM=0;cM<cQ.length;cM++){var cO=cQ[cM].trim();if(cO.length===0){continue}cL=cH(cO);if(cL.test(cS)){cR=true;break}}}return(cN==="pages")?cR:!cR;break;case"all":default:return true}};var cA=function(cM){var cK=cG.getElementsByTagName("head")[0],cL;cL=cG.createElement("style");cL.setAttribute("type","text/css");if(cL.styleSheet){cL.styleSheet.cssText=cM.value}else{cL.innerText=cM.value}cK.appendChild(cL)};var cC=function(cK){if(cE(cK)){switch(cK.type){case"css":cA(cK);break}}};cF.applyTests=function(){var cK=by.getObject("abTesting");var cM,cL;for(cM in cK){if(!Object.prototype.hasOwnProperty.call(cK,cM)){continue}cL=cK[cM];cC(cL)}};var cI=function(){o("Call: apply demo AB test");var cK=H("roistat_ab_data");var cL;if(cK===null){return}else{cL=JSON.parse(bD.decode(cK))}if(typeof cL!=="object"){o("Error: testValue is not an object.");return}cC(cL)};function cJ(){var cK=cD();if(!ca&&!cK){applyTests()}if(cK){cI()}}cJ()})(bA,t,a8);(function aL(cB,cA,cC){if(!cc){return}setTimeout(function(){(function(cJ,cI,cM,cL,cG,cE,cH){cJ[cG]={COUNTER_ID:cE,HOST:cH};var cF=cI.location.protocol=="https:"?"https://":"http://";var cD=cI.createElement(cM);cD.async=1;cD.src=cF+cH+cL;var cK=cI.getElementsByTagName(cM)[0];cK.parentNode.insertBefore(cD,cK)})(cB,cA,"script","/counter.js","datamap",aC(),cc)},1000)})(bA,t,a8);(function bx(cC,cA,cD){var cE=function(){var cF=cC.roistatMetrikaCounterId;if(cF){by.set(aw,cF)}};var cB=function(cK){var cF="yaCounter"+cK;var cJ=100,cH=0,cI=60000;var cG=function(){cH+=cJ;o("YandexMetrika: trying to access counter "+cK);if(cC[cF]===cD){if(cH<cI){setTimeout(cG,cJ);cJ*=2}return}var cL={};cL[b0]=l();cC[cF].params(cL);o("YandexMetrika: visit id "+cL[b0]+" sent to counter "+cK)};setTimeout(cG,cJ)};bN(function(){cE();var cH=by.get(aw);if(!cH){o("YandexMetrika: counter id not found");return}var cG=String(cH).split(",");o("YandexMetrika: counters: "+cG);for(var cF=0;cF<cG.length;cF++){if(cG[cF].trim()===""){continue}cB(cG[cF])}})})(bA,t,a8);(function X(cK,cO){var cS=function(cV){o("Proxy Forms: "+cV)};var cH=function(){if(cK.roistat.proxyForms.loaded&&cK.roistat.proxyForms.settings.length>0){cS("save loaded settings");cP(cK.roistat.proxyForms.settings)}else{cS("settings not loaded, getting from storage");cK.roistat.proxyForms.settings=by.getObject(cq)||[]}};var cP=function(cV){by.setObject(cq,cV)};var cL=function(){cS("init form listener");cD(cK.roistat.proxyForms.settings);cA(cK.roistat.proxyForms.settings)
};var cU=function(cV){return cV.hasOwnProperty("hosts")&&cV.hasOwnProperty("is_excluding_hosts")&&aZ(cV.hosts)&&cV.hosts.length>0};var cF=function(cW){if(!cU(cW)){return true}var cX=cj(cW.hosts,cK.location.host);var cV=Boolean(cW.is_excluding_hosts);return cV?!cX:cX};var cC=function(cW){var cV=[];m(cW,function(cX){if(cF(cX)){cV.push(cX)}});return cV};var cA=function(cV){var cX=[];m(cV,function(cY){if(cY.type==="js-button"){cX.push(cY)}});if(cX.length<1){cS("no button settings");return}var cW;if(cO.addEventListener){cW=function(cY){cG(cX,cY,cY.target,cE)};cO.addEventListener("click",cW,true)}else{if(cO.attachEvent){cW=function(){var cY=cK.event;cG(cX,cY,cY.srcElement,cE,true)};cO.attachEvent("onclick",cW)}else{cS("Listener could not be attached")}}};var cD=function(cW){var cV=[];m(cW,function(cY){if(cY.type==="form"){cV.push(cY)}});if(cV.length<1){cS("no form settings");return}if(cO.addEventListener){var cX=function(cY){cG(cV,cY,cY.target,cT)};cO.addEventListener("submit",cX,true)}else{if(cO.attachEvent){setInterval(function(){cV=cC(cV);var cY=cO.getElementsByTagName("form");m(cY,function(cZ){if(cZ.getAttribute("data-roistat-proxy-form-checked")==="true"){return}cZ.setAttribute("data-roistat-proxy-form-checked","true");m(cV,function(c0){if(cB(cZ,c0.selector)){cZ.attachEvent("onsubmit",function(){cK.event.returnValue=false;cT(c0,cK.event.srcElement)})}})})},2000)}else{cS("Listener could not be attached")}}};var cG=function(cY,cZ,c0,cX,cV){var c1=cC(cY);var cW=null;m(c1,function(c2){if(cB(c0,c2.selector)){cW=c2}});if(cW===null){cS("No matched settings found for listener");return}cX(cZ,cW,c0,cV)};var cT=function(cZ,cX,cY,cW){var cV=cN(cY,cX);if(!cQ(cV,cX)){return}cW?cZ.returnValue=false:cZ.preventDefault();cI(cV,cX,function(){HTMLFormElement.prototype.submit.call(cY)})};var cE=function(cX,cW){var cV=cN(null,cW);if(!cQ(cV,cW)){return}cI(cV,cW)};var cI=function(cV,cY,c0){var cZ={};var cX=cJ(cY.crm)&&cY.crm.hasOwnProperty("is_enabled");var cW=cX?cY.crm.is_enabled:true;cZ.leadName=cY.hasOwnProperty("lead_name")?cY.lead_name:"ÐÐ¾Ð²Ñ‹Ð¹ Ð»Ð¸Ð´ Ñ Ñ„Ð¾Ñ€Ð¼Ñ‹ "+cY.title;cZ.formTitle=cY.title;cZ.name=cV.name;cZ.phone=cV.phone;cZ.email=cV.email;cZ.text=cV.comment;cZ.fields=cV.fields;cZ.placeholders_data=cV.placeholdersData;cZ.is_need_callback=cY.is_need_callback;cZ.is_skip_sending=!cW;cK.roistatGoal.reach(cZ,c0)};var cJ=function(cV){return(typeof cV==="number"&&!isNaN(cV))||(typeof cV==="string"&&cV!=="")||(typeof cV==="object"&&cV!==null)||(typeof cV==="boolean"&&cV)||aZ(cV)};var cQ=function(cV,cX){var cW=[],cZ=["name","email","phone","comment"];m(cZ,function(c0){if(cX.hasOwnProperty(c0)&&cX[c0].required>0){cW.push(c0)}});if(aZ(cX.fields)){m(cX.fields,function(c0){if(c0.required>0){cW.push(c0)}})}var cY=true;m(cW,function(c0){if(!cV.hasOwnProperty(c0)||!cJ(cV[c0])){cY=false}});return cY};var cN=function(cX,cW){var cV={};cV.name=cW.name?cM(cX,cW.name.value,cW.name.type):"";cV.phone=cW.phone?cM(cX,cW.phone.value,cW.phone.type):"";cV.email=cW.email?cM(cX,cW.email.value,cW.email.type):"";cV.comment=cW.comment?cM(cX,cW.comment.value,cW.comment.type):"";cV.fields={};cV.placeholdersData={orderPage:bM,};if(aZ(cW.fields)){m(cW.fields,function(cY){cV.fields[cY.name]=cM(cX,cY.value,cY.type)})}return cV};var cM=function(cW,cZ,cV){switch(cV){case"plain":return cZ||"";case"input":var cY=cW.querySelector('input[name="'+cZ+'"]');return cY?cY.value:"";case"js":try{return(new Function(cZ))()}catch(cX){return""}}};var cR=function(){cS("init");if(!cK.roistat.proxyForms.enabled){cS("disabled");return}cH();cL()};var cB=function(cX,cV){if(typeof Element!=="undefined"&&Element.prototype.matches){return cX.matches(cV)}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){return cX.matchesSelector(cV)}else{if(cO.querySelectorAll){var cY=cO.querySelectorAll(cV);for(var cW=0;cW<cY.length;cW++){if(cY[cW]===cX){return true}}return false}}}return false};bN(cR);cK.roistatSaveProxyFormSettings=cP})(bA,t);(function x(){if(bA.onRoistatAllModulesLoaded!==a8&&typeof bA.onRoistatAllModulesLoaded==="function"){bA.onRoistatAllModulesLoaded()}})();(function aD(cH,cK,cE){var cA=function(){return by.get(S)*1>0};var cJ=function(cQ){o("Request listener: "+cQ)};var cP=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var cI=/^[^\s]+[@][^\s]+$/g;var cD=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var cC=function cC(){cJ("listen");if(cH.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function cS(cV){var cU=this;cL(cU.responseURL,cV,function(){cU.oldSend(cV)})}XMLHttpRequest.prototype.send=cS}if(cH.ActiveXObject){var cR=cT;function cT(cW){var cU=new cR(cW);var cX={};if(cW.toLowerCase()==="msxml2.xmlhttp"){cX={_ax:cU,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var cV="";cX._onReadyStateChange=function(){var cY=cX;return function(){cY.readyState=cY._ax.readyState;
if(cY.readyState===4){cY.responseText=cY._ax.responseText;cY.responseXml=cY._ax.responseXml;cY.status=cY._ax.status;cY.statusText=cY._ax.statusText}if(cY.onReadyStateChange){cY.onReadyStateChange()}}}();cX.open=function(c2,c0,c1,cY,cZ){cV=c0;c1=(c1!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(c2,c0,c1,cY,cZ)};cX.send=function(cY){var cZ=this;cL(cV,cY,function(){this._ax.send(cY)})}}else{cX=cU}return cX}cH.ActiveXObject=cT}if(cH.fetch){var cQ=fetch;fetch=function(cU,cV){cL(cU.url,cV||{});return cQ(cU,cV||{})}}cH.addEventListener("submit",function(cX){var cZ=cX.target.elements;var cY={};for(var cW=0;cW<cZ.length;cW++){var cV=cZ[cW];var cU=cV.getAttribute("name");cY[cU]=cV.value}cL("",cY)})};function cF(cQ){var cT={};if(cQ.length===0){return cT}var cS=cQ.split("?");if(cS.length<2){return cT}var cR=cS[1];cT=cB(cR);return cT}function cB(cR){var cS=cR.split("&"),cU={};for(var cQ=0;cQ<cS.length;cQ++){var cT=cS[cQ].split("=");if(cT.length<2){continue}cU[cT[0]]=cT[1]}return cU}function cN(c7){cJ("data: "+JSON.stringify(c7));var c0={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"],};var cX={email:"",phone:"",name:""};for(var cQ in c0){var c3=c0[cQ];for(var c2 in c3){if(c3.hasOwnProperty(c2)){if(c7.hasOwnProperty(c3[c2])){cX[cQ]=c7[c3[c2]];break}}}}cJ("new data: "+JSON.stringify(cX));var cS=cX.phone.length===0;var cW=cX.email.length===0;if(!cS&&!cW){return cX}var cR=new RegExp(cI);var cV=new RegExp(cP);var cY=Object.keys(c7);for(var c4=0;c4<cY.length;c4++){var c1=decodeURIComponent(String(c7[cY[c4]]));if(cW){var cT=c1.match(cR);if(cT&&cT.length>0){var cZ=cX.email;cX.email=cT[0];cJ("parsing email, before: "+cZ+", after: "+cX.email)}}if(cS){var c6=c1.replace(/[\s-.()+*_â€”:;'"`]/g,"");var c5=c6.match(cV);if(c5&&c5.length>0){var cU=cX.phone;cX.phone=c1;cJ("parsing phone, before: "+cU+", after: "+cX.phone)}}}return cX}var cG=function(cQ){var cR=aG(cQ);return !Y(cD,cR)};function cL(cS,cR,cQ){if(cS.length>0&&!cG(cS)){return}var cU=cF(cS);var cW=cR;if(typeof cW==="string"){cW=cB(cW)}cJ("data before parsing "+JSON.stringify({get:cU,post:cW}));var cV=cN(cU);var cT=cN(cW);cJ("data after parsing "+JSON.stringify({get:cV,post:cT}));cM(cV,cT,cQ)}function cM(cQ,cS,cW){var cV=cQ.email.length>0?cQ.email:cS.email;var cR=cQ.phone.length>0?cQ.phone:cS.phone;var cU=cQ.name.length>0?cQ.name:cS.name;if(cV.length==0&&cR.length==0){cW();return}setTimeout(function(){cW()},100);var cT={leadName:"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð»Ð¸Ð´ Ñ ÑÐ°Ð¹Ñ‚Ð°",name:cU,phone:cR,email:cV,is_skip_sending:1};cJ("phone or email is not empty, reaching goal "+JSON.stringify(cT));roistatGoal.reach(cT)}(function cO(){if(!cA()){cJ("disabled, skip");return}cC()})()})(bA,t,a8)})(window,document,undefined);